REM > ELK100/SRC
REM Source for Electron MOS 1.00
REM Not yet fully commented
: 
load%=&C000
DIM mcode% &4100
FOR P=0 TO 1
P%=load%:O%=mcode%
[OPT P*3+4
.exec%
\ CHARACTER SET
\ =============
.LC000
EQUD &00000000:EQUD &00000000 :\ CHR$32  -  
EQUD &18181818:EQUD &00180018 :\ CHR$33  - !
EQUD &006C6C6C:EQUD &00000000 :\ CHR$34  - "
EQUD &367F3636:EQUD &0036367F :\ CHR$35  - #
EQUD &3E683F0C:EQUD &00187E0B :\ CHR$36  - $
EQUD &180C6660:EQUD &00066630 :\ CHR$37  - %
EQUD &386C6C38:EQUD &003B666D :\ CHR$38  - &
EQUD &0030180C:EQUD &00000000 :\ CHR$39  - '
EQUD &3030180C:EQUD &000C1830 :\ CHR$40  - (
EQUD &0C0C1830:EQUD &0030180C :\ CHR$41  - )
EQUD &3C7E1800:EQUD &0000187E :\ CHR$42  - *
EQUD &7E181800:EQUD &00001818 :\ CHR$43  - +
EQUD &00000000:EQUD &30181800 :\ CHR$44  - ,
EQUD &7E000000:EQUD &00000000 :\ CHR$45  - -
EQUD &00000000:EQUD &00181800 :\ CHR$46  - .
EQUD &180C0600:EQUD &00006030 :\ CHR$47  - /
EQUD &7E6E663C:EQUD &003C6676 :\ CHR$48  - 0
EQUD &18183818:EQUD &007E1818 :\ CHR$49  - 1
EQUD &0C06663C:EQUD &007E3018 :\ CHR$50  - 2
EQUD &1C06663C:EQUD &003C6606 :\ CHR$51  - 3
EQUD &6C3C1C0C:EQUD &000C0C7E :\ CHR$52  - 4
EQUD &067C607E:EQUD &003C6606 :\ CHR$53  - 5
EQUD &7C60301C:EQUD &003C6666 :\ CHR$54  - 6
EQUD &180C067E:EQUD &00303030 :\ CHR$55  - 7
EQUD &3C66663C:EQUD &003C6666 :\ CHR$56  - 8
EQUD &3E66663C:EQUD &00380C06 :\ CHR$57  - 9
EQUD &18180000:EQUD &00181800 :\ CHR$58  - :
EQUD &18180000:EQUD &30181800 :\ CHR$59  - ;
EQUD &6030180C:EQUD &000C1830 :\ CHR$60  - <
EQUD &007E0000:EQUD &0000007E :\ CHR$61  - =
EQUD &060C1830:EQUD &0030180C :\ CHR$62  - >
EQUD &180C663C:EQUD &00180018 :\ CHR$63  - ?
EQUD &6A6E663C:EQUD &003C606E :\ CHR$64  - @
EQUD &7E66663C:EQUD &00666666 :\ CHR$65  - A
EQUD &7C66667C:EQUD &007C6666 :\ CHR$66  - B
EQUD &6060663C:EQUD &003C6660 :\ CHR$67  - C
EQUD &66666C78:EQUD &00786C66 :\ CHR$68  - D
EQUD &7C60607E:EQUD &007E6060 :\ CHR$69  - E
EQUD &7C60607E:EQUD &00606060 :\ CHR$70  - F
EQUD &6E60663C:EQUD &003C6666 :\ CHR$71  - G
EQUD &7E666666:EQUD &00666666 :\ CHR$72  - H
EQUD &1818187E:EQUD &007E1818 :\ CHR$73  - I
EQUD &0C0C0C3E:EQUD &00386C0C :\ CHR$74  - J
EQUD &70786C66:EQUD &00666C78 :\ CHR$75  - K
EQUD &60606060:EQUD &007E6060 :\ CHR$76  - L
EQUD &6B7F7763:EQUD &0063636B :\ CHR$77  - M
EQUD &7E766666:EQUD &0066666E :\ CHR$78  - N
EQUD &6666663C:EQUD &003C6666 :\ CHR$79  - O
EQUD &7C66667C:EQUD &00606060 :\ CHR$80  - P
EQUD &6666663C:EQUD &00366C6A :\ CHR$81  - Q
EQUD &7C66667C:EQUD &0066666C :\ CHR$82  - R
EQUD &3C60663C:EQUD &003C6606 :\ CHR$83  - S
EQUD &1818187E:EQUD &00181818 :\ CHR$84  - T
EQUD &66666666:EQUD &003C6666 :\ CHR$85  - U
EQUD &66666666:EQUD &00183C66 :\ CHR$86  - V
EQUD &6B6B6363:EQUD &0063777F :\ CHR$87  - W
EQUD &183C6666:EQUD &0066663C :\ CHR$88  - X
EQUD &3C666666:EQUD &00181818 :\ CHR$89  - Y
EQUD &180C067E:EQUD &007E6030 :\ CHR$90  - Z
EQUD &6060607C:EQUD &007C6060 :\ CHR$91  - [
EQUD &18306000:EQUD &0000060C :\ CHR$92  - \
EQUD &0606063E:EQUD &003E0606 :\ CHR$93  - ]
EQUD &42663C18:EQUD &00000000 :\ CHR$94  - ^
EQUD &00000000:EQUD &FF000000 :\ CHR$95  - _
EQUD &7C30361C:EQUD &007E3030 :\ CHR$96  - `
EQUD &063C0000:EQUD &003E663E :\ CHR$97  - a
EQUD &667C6060:EQUD &007C6666 :\ CHR$98  - b
EQUD &663C0000:EQUD &003C6660 :\ CHR$99  - c
EQUD &663E0606:EQUD &003E6666 :\ CHR$100 - d
EQUD &663C0000:EQUD &003C607E :\ CHR$101 - e
EQUD &7C30301C:EQUD &00303030 :\ CHR$102 - f
EQUD &663E0000:EQUD &3C063E66 :\ CHR$103 - g
EQUD &667C6060:EQUD &00666666 :\ CHR$104 - h
EQUD &18380018:EQUD &003C1818 :\ CHR$105 - i
EQUD &18380018:EQUD &70181818 :\ CHR$106 - j
EQUD &6C666060:EQUD &00666C78 :\ CHR$107 - k
EQUD &18181838:EQUD &003C1818 :\ CHR$108 - l
EQUD &7F360000:EQUD &00636B6B :\ CHR$109 - m
EQUD &667C0000:EQUD &00666666 :\ CHR$110 - n
EQUD &663C0000:EQUD &003C6666 :\ CHR$111 - o
EQUD &667C0000:EQUD &60607C66 :\ CHR$112 - p
EQUD &663E0000:EQUD &07063E66 :\ CHR$113 - q
EQUD &766C0000:EQUD &00606060 :\ CHR$114 - r
EQUD &603E0000:EQUD &007C063C :\ CHR$115 - s
EQUD &307C3030:EQUD &001C3030 :\ CHR$116 - t
EQUD &66660000:EQUD &003E6666 :\ CHR$117 - u
EQUD &66660000:EQUD &00183C66 :\ CHR$118 - v
EQUD &6B630000:EQUD &00367F6B :\ CHR$119 - w
EQUD &3C660000:EQUD &00663C18 :\ CHR$120 - x
EQUD &66660000:EQUD &3C063E66 :\ CHR$121 - y
EQUD &0C7E0000:EQUD &007E3018 :\ CHR$122 - z
EQUD &7018180C:EQUD &000C1818 :\ CHR$123 - {
EQUD &00181818:EQUD &00181818 :\ CHR$124 - |
EQUD &0E181830:EQUD &00301818 :\ CHR$125 - }
EQUD &00466B31:EQUD &00000000 :\ CHR$126 - ~
EQUD &FFFFFFFF:EQUD &FFFFFFFF :\ CHR$127 - 

\ VDU DRIVERS
\ ===========
.LC300
JMP LCB12 :\ Initialise VDU drivers with MODE A
.LC303
EQUB 13:EQUS "Acorn Electron ":EQUB 0
.LC314
EQUB 8:EQUB 13:EQUB 13:\ Overlaps following &00 byte

.LC317
EQUB &00
ORA (&22),Y     :\ C318= 11 22       ."
EQUB &33        :\ C31A= 33          3
EQUB &44        :\ C31B= 44          D
EOR &66,X       :\ C31C= 55 66       Uf
EQUB &77        :\ C31E= 77          w
DEY             :\ C31F= 88          .
STA &BBAA,Y     :\ C320= 99 AA BB    .*;
CPY LEEDD       :\ C323= CC DD EE    L]n
EQUB &FF        :\ C326= FF          .

.LC327
BRK             :\ C327= 00          .
EOR &AA,X       :\ C328= 55 AA       U*
EQUB &FF        :\ C32A= FF          .
.LC32B
EQUB &8B        :\ C32B= 8B          .
LDA &1C,X       :\ C32C= B5 1C       5.
EQUB &27        :\ C32E= 27          '
ROL &8B35       :\ C32F= 2E 35 8B    .5.
EQUB &4B        :\ C332= 4B          K
ROL &6AE2,X     :\ C333= 3E E2 6A    >bj
CMP &5EF6,Y     :\ C336= D9 F6 5E    Yv^
EQUB &13        :\ C339= 13          .
BIT &A56C       :\ C33A= 2C 6C A5    ,l%
CPY &41         :\ C33D= C4 41       DA
INC &21,X       :\ C33F= F6 21       v!
CPX &38F2       :\ C341= EC F2 38    lr8
STX &02         :\ C344= 86 02       ..
EQUB &8B        :\ C346= 8B          .
STZ &A1,X       :\ C347= 74 A1       t!
ASL &25,X       :\ C349= 16 25       .%
EQUB &AB        :\ C34B= AB          +
.LC34C
CPY &1F         :\ C34C= C4 1F       D.
CMP &C5         :\ C34E= C5 C5       EE
CMP &C5         :\ C350= C5 C5       EE
CPY &E6         :\ C352= C4 E6       Df
CMP &C5         :\ C354= C5 C5       EE
DEC &C5         :\ C356= C6 C5       FE
DEC &C7         :\ C358= C6 C7       FG
CMP &C5         :\ C35A= C5 C5       EE
EQUB &C7        :\ C35C= C7          G
EQUB &4F        :\ C35D= 4F          O
LSR LC75B       :\ C35E= 4E 5B C7    N[G
CMP &5F         :\ C361= C5 5F       E_
EQUB &57        :\ C363= 57          W
SEI             :\ C364= 78          x
EQUB &6B        :\ C365= 6B          k
DEX             :\ C366= CA          J
CPY &3C         :\ C367= C4 3C       D<
JMP (&4EC7,X)   :\ C369= 7C C7 4E    |GN
 
DEX             :\ C36C= CA          J
.LC36D
BRK             :\ C36D= 00          .
.LC36E
BRK             :\ C36E= 00          .
EQUB &02        :\ C36F= 02          .
BRA LC377       :\ C370= 80 05       ..
 
BRK             :\ C372= 00          .
EQUB &07        :\ C373= 07          .
BRA LC380       :\ C374= 80 0A       ..
 
BRK             :\ C376= 00          .
.LC377
TSB &0F80       :\ C377= 0C 80 0F    ...
BRK             :\ C37A= 00          .
ORA (&80),Y     :\ C37B= 11 80       ..
TRB &00         :\ C37D= 14 00       ..
ASL &80,X       :\ C37F= 16 80       ..
ORA &1B00,Y     :\ C381= 19 00 1B    ...
BRA LC3A4       :\ C384= 80 1E       ..
 
BRK             :\ C386= 00          .
JSR &2380       :\ C387= 20 80 23     .#
BRK             :\ C38A= 00          .
AND &80         :\ C38B= 25 80       %.
PLP             :\ C38D= 28          (
BRK             :\ C38E= 00          .
ROL A           :\ C38F= 2A          *
BRA LC3BF       :\ C390= 80 2D       .-
 
BRK             :\ C392= 00          .
EQUB &2F        :\ C393= 2F          /
BRA LC3C8       :\ C394= 80 32       .2
 
BRK             :\ C396= 00          .
BIT &80,X       :\ C397= 34 80       4.
EQUB &37        :\ C399= 37          7
BRK             :\ C39A= 00          .
AND &3C80,Y     :\ C39B= 39 80 3C    9.<
BRK             :\ C39E= 00          .
ROL &4180,X     :\ C39F= 3E 80 41    >.A
BRK             :\ C3A2= 00          .
EQUB &43        :\ C3A3= 43          C
.LC3A4
BRA LC3EC       :\ C3A4= 80 46       .F
 
BRK             :\ C3A6= 00          .
PHA             :\ C3A7= 48          H
BRA LC3F5       :\ C3A8= 80 4B       .K
 
BRK             :\ C3AA= 00          .
EOR &1F80       :\ C3AB= 4D 80 1F    M..
EQUB &1F        :\ C3AE= 1F          .
.LC3AF
EQUB &1F        :\ C3AF= 1F          .
CLC             :\ C3B0= 18          .
EQUB &1F        :\ C3B1= 1F          .
EQUB &1F        :\ C3B2= 1F          .
CLC             :\ C3B3= 18          .
.LC3B4
EQUB &4F        :\ C3B4= 4F          O
EQUB &27        :\ C3B5= 27          '
EQUB &13        :\ C3B6= 13          .
EQUB &4F        :\ C3B7= 4F          O
EQUB &27        :\ C3B8= 27          '
EQUB &13        :\ C3B9= 13          .
EQUB &27        :\ C3BA= 27          '
.LC3BB
PHP             :\ C3BB= 08          .
BPL LC3DE       :\ C3BC= 10 20       . 
PHP             :\ C3BE= 08          .
.LC3BF
PHP             :\ C3BF= 08          .
BPL LC3CA       :\ C3C0= 10 08       ..
TAX             :\ C3C2= AA          *
EOR &88,X       :\ C3C3= 55 88       U.
EQUB &44        :\ C3C5= 44          D
EQUB &22        :\ C3C6= 22          "
ORA (&80),Y     :\ C3C7= 11 80       ..
RTI             :\ C3C9= 40          @
 
.LC3CA
JSR &0810       :\ C3CA= 20 10 08     ..
.LC3CD
TSB &02         :\ C3CD= 04 02       ..
.LC3CF
ORA (&03,X)     :\ C3CF= 01 03       ..
EQUB &0F        :\ C3D1= 0F          .
ORA (&01,X)     :\ C3D2= 01 01       ..
EQUB &03        :\ C3D4= 03          .
ORA (&00,X)     :\ C3D5= 01 00       ..
.LC3D7
EQUB &FF        :\ C3D7= FF          .
.LC3D8
BRK             :\ C3D8= 00          .
BRK             :\ C3D9= 00          .
EQUB &FF        :\ C3DA= FF          .
.LC3DB
EQUB &FF        :\ C3DB= FF          .
EQUB &FF        :\ C3DC= FF          .
EQUB &FF        :\ C3DD= FF          .
.LC3DE
BRK             :\ C3DE= 00          .
BRK             :\ C3DF= 00          .
EQUB &FF        :\ C3E0= FF          .
BRK             :\ C3E1= 00          .
EQUB &0F        :\ C3E2= 0F          .
BEQ LC3E4       :\ C3E3= F0 FF       p.
BRK             :\ C3E5= 00          .
EQUB &03        :\ C3E6= 03          .
TSB &300F       :\ C3E7= 0C 0F 30    ..0
EQUB &33        :\ C3EA= 33          3
BIT LC03F,X     :\ C3EB= 3C 3F C0    <?@
EQUB &C3        :\ C3EE= C3          C
CPY LF0CF       :\ C3EF= CC CF F0    LOp
EQUB &F3        :\ C3F2= F3          s
EQUB &FC        :\ C3F3= FC          |
EQUB &FF        :\ C3F4= FF          .
.LC3F5
EQUB &07        :\ C3F5= 07          .
EQUB &03        :\ C3F6= 03          .
ORA (&00,X)     :\ C3F7= 01 00       ..
EQUB &07        :\ C3F9= 07          .
EQUB &03        :\ C3FA= 03          .
.LC3FB
BRK             :\ C3FB= 00          .
BRK             :\ C3FC= 00          .
BRK             :\ C3FD= 00          .
ORA (&02,X)     :\ C3FE= 01 02       ..
EQUB &02        :\ C400= 02          .
EQUB &03        :\ C401= 03          .
EQUB &03        :\ C402= 03          .
.LC403
TSB &00         :\ C403= 04 00       ..
ASL &02         :\ C405= 06 02       ..
.LC407
BVC LC449       :\ C407= 50 40       P@
PLP             :\ C409= 28          (
JSR &4030       :\ C40A= 20 30 40     0@
CLI             :\ C40D= 58          X
RTS             :\ C40E= 60          `
 
.LC40F
RTI             :\ C40F= 40          @
 
BRA LC3AF       :\ C410= 80 9D       ..
 
.LC412
CMP (&95)       :\ C412= D2 95       R.
CMP (&81)       :\ C414= D2 81       R.
EQUB &8B        :\ C416= 8B          .
EOR LD262,Y     :\ C417= 59 62 D2    YbR
CMP (&D2)       :\ C41A= D2 D2       RR
CMP (&04)       :\ C41C= D2 04       R.
ORA &06         :\ C41E= 05 06       ..
BRK             :\ C420= 00          .
ORA (&02,X)     :\ C421= 01 02       ..
.LC423
EQUB &FF        :\ C423= FF          .
BEQ LC435       :\ C424= F0 0F       p.
BRK             :\ C426= 00          .
.LC427
ORA (&22),Y     :\ C427= 11 22       ."
EQUB &44        :\ C429= 44          D
DEY             :\ C42A= 88          .

\ Electron Acorn bitmap for Ctrl-Break
\ ------------------------------------
.LC42B
EQUB &18:EQUB &3C:EQUB &3C:EQUB &7E
EQUB &7E:EQUB &00:EQUB &7E:EQUB &3C

.LC433
LDX &026A:BNE LC48C  :\ Jump if VDU queue not empty
BIT &D0:BVC LC452    :\ Jump if cursors not seperated
JSR LC4E2
JSR LCCC1            :\ Remove soft cursor
BMI LC452            :\ Skip past if VDU21 set
CMP #&0D:BNE LC452   :\ Jump if not <CR>
LDA #&BD:JSR LC530   :\ b6+b1 - separate cursor+cursor editing
LSR &035F
LDA #&0D             :\ Restore A=<CR>
.LC452
CMP #&7F:BEQ LC467   :\ Jump with <DEL>
CMP #&20:BCC LC469   :\ Jump with control codes
BIT &D0:BMI LC464
JSR LCEDF
JSR LC5E2
.LC464
JMP LC4D8

\ VDU Control codes
\ -----------------
.LC467
LDA #&20             :\ Offset=32 for <DEL>
.LC469
TAY             :\ C469= A8          (
LDA LC32B,Y     :\ C46A= B9 2B C3    9+C
STA &035D       :\ C46D= 8D 5D 03    .].
LDA LC34C,Y     :\ C470= B9 4C C3    9LC
BMI LC4BF       :\ C473= 30 4A       0J
TAX             :\ C475= AA          *
ORA #&F0        :\ C476= 09 F0       .p
STA &026A       :\ C478= 8D 6A 02    .j.
TXA             :\ C47B= 8A          .
LSR A           :\ C47C= 4A          J
LSR A           :\ C47D= 4A          J
LSR A           :\ C47E= 4A          J
LSR A           :\ C47F= 4A          J
CLC             :\ C480= 18          .
ADC #&C3        :\ C481= 69 C3       iC
STA &035E       :\ C483= 8D 5E 03    .^.
BIT &D0         :\ C486= 24 D0       $P
BVS LC4A9       :\ C488= 70 1F       p.
CLC             :\ C48A= 18          .
.LC48B
RTS             :\ C48B= 60          `
 
.LC48C
STA &0224,X     :\ C48C= 9D 24 02    .$.
INX             :\ C48F= E8          h
STX &026A       :\ C490= 8E 6A 02    .j.
BNE LC4AC       :\ C493= D0 17       P.
BIT &D0         :\ C495= 24 D0       $P
BMI LC4AE       :\ C497= 30 15       0.
BVS LC4A0       :\ C499= 70 05       p.
JSR LD25F       :\ C49B= 20 5F D2     _R
CLC             :\ C49E= 18          .
RTS             :\ C49F= 60          `
 
.LC4A0
JSR LC4E2       :\ C4A0= 20 E2 C4     bD
JSR LCCC1       :\ C4A3= 20 C1 CC     AL
JSR LD25F       :\ C4A6= 20 5F D2     _R
.LC4A9
JSR LC4DF       :\ C4A9= 20 DF C4     _D
.LC4AC
CLC             :\ C4AC= 18          .
RTS             :\ C4AD= 60          `
 
.LC4AE
LDY &035E       :\ C4AE= AC 5E 03    ,^.
CPY #&C4        :\ C4B1= C0 C4       @D
BNE LC4AC       :\ C4B3= D0 F7       Pw
TAX             :\ C4B5= AA          *
LDA &D0         :\ C4B6= A5 D0       %P
LSR A           :\ C4B8= 4A          J
BCC LC48B       :\ C4B9= 90 D0       .P
TXA             :\ C4BB= 8A          .
JMP LDEAE       :\ C4BC= 4C AE DE    L.^
 
.LC4BF
STA &035E       :\ C4BF= 8D 5E 03    .^.
TYA             :\ C4C2= 98          .
CMP #&08        :\ C4C3= C9 08       I.
BCC LC4CD       :\ C4C5= 90 06       ..
EOR #&FF        :\ C4C7= 49 FF       I.
CMP #&F2        :\ C4C9= C9 F2       Ir
EOR #&FF        :\ C4CB= 49 FF       I.
.LC4CD
BIT &D0         :\ C4CD= 24 D0       $P
BMI LC4F7       :\ C4CF= 30 26       0&
PHP             :\ C4D1= 08          .
JSR LD25F       :\ C4D2= 20 5F D2     _R
PLP             :\ C4D5= 28          (
BCC LC4DB       :\ C4D6= 90 03       ..
.LC4D8
LDA &D0         :\ C4D8= A5 D0       %P
LSR A           :\ C4DA= 4A          J
.LC4DB
BIT &D0         :\ C4DB= 24 D0       $P
BVC LC48B       :\ C4DD= 50 AC       P,
.LC4DF
JSR LCCC1       :\ C4DF= 20 C1 CC     AL
.LC4E2
PHP             :\ C4E2= 08          .
PHA             :\ C4E3= 48          H
LDX #&18        :\ C4E4= A2 18       ".
LDY #&64        :\ C4E6= A0 64        d
JSR LCD1A       :\ C4E8= 20 1A CD     .M
JSR LCE42       :\ C4EB= 20 42 CE     BN
LDA &D0         :\ C4EE= A5 D0       %P
EOR #&02        :\ C4F0= 49 02       I.
STA &D0         :\ C4F2= 85 D0       .P
PLA             :\ C4F4= 68          h
PLP             :\ C4F5= 28          (
RTS             :\ C4F6= 60          `
 
.LC4F7
EOR #&06        :\ C4F7= 49 06       I.
BNE LC4FF       :\ C4F9= D0 04       P.
LDA #&7F        :\ C4FB= A9 7F       ).
BCC LC530       :\ C4FD= 90 31       .1
.LC4FF
BCC LC504       :\ C4FF= 90 03       ..
LDA &D0         :\ C501= A5 D0       %P
LSR A           :\ C503= 4A          J
.LC504
RTS             :\ C504= 60          `
 
.LC505
LDA &D0         :\ C505= A5 D0       %P
AND #&20        :\ C507= 29 20       ) 
RTS             :\ C509= 60          `
 
.LC50A
JSR LD6DE       :\ C50A= 20 DE D6     ^V
JSR LDEFB       :\ C50D= 20 FB DE     {^
JMP LD6DE       :\ C510= 4C DE D6    L^V
 
LDY #&00        :\ C513= A0 00        .
STY &0269       :\ C515= 8C 69 02    .i.
LDA #&04        :\ C518= A9 04       ).
BNE LC523       :\ C51A= D0 07       P.
JSR LC50A       :\ C51C= 20 0A C5     .E
LDA #&94        :\ C51F= A9 94       ).
EOR #&95        :\ C521= 49 95       I.
.LC523
ORA &D0         :\ C523= 05 D0       .P
BNE LC532       :\ C525= D0 0B       P.
JSR LC50A       :\ C527= 20 0A C5     .E
LDA #&0A        :\ C52A= A9 0A       ).
EOR #&2F        :\ C52C= 49 2F       I/
EOR #&DB        :\ C52E= 49 DB       I[
.LC530
AND &D0         :\ C530= 25 D0       %P
.LC532
STA &D0         :\ C532= 85 D0       .P
.LC534
RTS             :\ C534= 60          `
 
LDA &0361       :\ C535= AD 61 03    -a.
BEQ LC534       :\ C538= F0 FA       pz
LDA #&20        :\ C53A= A9 20       ) 
BNE LC523       :\ C53C= D0 E5       Pe
.LC53E
JSR LC505       :\ C53E= 20 05 C5     .E
BNE LC59D       :\ C541= D0 5A       PZ
DEC &0318       :\ C543= CE 18 03    N..
LDX &0318       :\ C546= AE 18 03    ...
CPX &0308       :\ C549= EC 08 03    l..
BMI LC56C       :\ C54C= 30 1E       0.
LDA &D6         :\ C54E= A5 D6       %V
SEC             :\ C550= 38          8
SBC &034F       :\ C551= ED 4F 03    mO.
TAX             :\ C554= AA          *
LDA &D7         :\ C555= A5 D7       %W
SBC #&00        :\ C557= E9 00       i.
CMP &034E       :\ C559= CD 4E 03    MN.
BCS LC561       :\ C55C= B0 03       0.
ADC &0354       :\ C55E= 6D 54 03    mT.
.LC561
STX &D6         :\ C561= 86 D6       .V
BPL LC569       :\ C563= 10 04       ..
SEC             :\ C565= 38          8
SBC &0354       :\ C566= ED 54 03    mT.
.LC569
STA &D7         :\ C569= 85 D7       .W
RTS             :\ C56B= 60          `
 
.LC56C
LDA &030A       :\ C56C= AD 0A 03    -..
STA &0318       :\ C56F= 8D 18 03    ...
.LC572
DEC &0269       :\ C572= CE 69 02    Ni.
BPL LC57A       :\ C575= 10 03       ..
INC &0269       :\ C577= EE 69 02    ni.
.LC57A
LDX &0319       :\ C57A= AE 19 03    ...
CPX &030B       :\ C57D= EC 0B 03    l..
BEQ LC588       :\ C580= F0 06       p.
DEC &0319       :\ C582= CE 19 03    N..
JMP LCE42       :\ C585= 4C 42 CE    LBN
 
.LC588
CLC             :\ C588= 18          .
JSR LCC96       :\ C589= 20 96 CC     .L
LDA #&08        :\ C58C= A9 08       ).
BIT &D0         :\ C58E= 24 D0       $P
BNE LC597       :\ C590= D0 05       P.
JSR LC9D1       :\ C592= 20 D1 C9     QI
BNE LC59A       :\ C595= D0 03       P.
.LC597
JSR LCCDD       :\ C597= 20 DD CC     ]L
.LC59A
JMP LC628       :\ C59A= 4C 28 C6    L(F
 
.LC59D
LDX #&00        :\ C59D= A2 00       ".
.LC59F
STX &D9         :\ C59F= 86 D9       .Y
JSR LD01E       :\ C5A1= 20 1E D0     .P
LDX &D9         :\ C5A4= A6 D9       &Y
SEC             :\ C5A6= 38          8
LDA &0324,X     :\ C5A7= BD 24 03    =$.
SBC #&08        :\ C5AA= E9 08       i.
STA &0324,X     :\ C5AC= 9D 24 03    .$.
BCS LC5B4       :\ C5AF= B0 03       0.
DEC &0325,X     :\ C5B1= DE 25 03    ^%.
.LC5B4
LDA &D8         :\ C5B4= A5 D8       %X
BNE LC5D6       :\ C5B6= D0 1E       P.
JSR LD01E       :\ C5B8= 20 1E D0     .P
BEQ LC5D6       :\ C5BB= F0 19       p.
LDX &D9         :\ C5BD= A6 D9       &Y
LDA &0304,X     :\ C5BF= BD 04 03    =..
CPX #&01        :\ C5C2= E0 01       `.
BCS LC5C8       :\ C5C4= B0 02       0.
SBC #&06        :\ C5C6= E9 06       i.
.LC5C8
STA &0324,X     :\ C5C8= 9D 24 03    .$.
LDA &0305,X     :\ C5CB= BD 05 03    =..
SBC #&00        :\ C5CE= E9 00       i.
STA &0325,X     :\ C5D0= 9D 25 03    .%.
TXA             :\ C5D3= 8A          .
BEQ LC5DE       :\ C5D4= F0 08       p.
.LC5D6
JMP LD0C9       :\ C5D6= 4C C9 D0    LIP
 
JSR LC505       :\ C5D9= 20 05 C5     .E
BEQ LC572       :\ C5DC= F0 94       p.
.LC5DE
LDX #&02        :\ C5DE= A2 02       ".
BNE LC630       :\ C5E0= D0 4E       PN
.LC5E2
LDA &D0         :\ C5E2= A5 D0       %P
AND #&20        :\ C5E4= 29 20       ) 
BNE LC62E       :\ C5E6= D0 46       PF
LDX &0318       :\ C5E8= AE 18 03    ...
CPX &030A       :\ C5EB= EC 0A 03    l..
BCS LC600       :\ C5EE= B0 10       0.
INC &0318       :\ C5F0= EE 18 03    n..
LDA &D6         :\ C5F3= A5 D6       %V
ADC &034F       :\ C5F5= 6D 4F 03    mO.
TAX             :\ C5F8= AA          *
LDA &D7         :\ C5F9= A5 D7       %W
ADC #&00        :\ C5FB= 69 00       i.
JMP LC561       :\ C5FD= 4C 61 C5    LaE
 
.LC600
LDA &0308       :\ C600= AD 08 03    -..
STA &0318       :\ C603= 8D 18 03    ...
.LC606
CLC             :\ C606= 18          .
JSR LCAD8       :\ C607= 20 D8 CA     XJ
LDX &0319       :\ C60A= AE 19 03    ...
CPX &0309       :\ C60D= EC 09 03    l..
BCS LC617       :\ C610= B0 05       0.
INC &0319       :\ C612= EE 19 03    n..
BCC LC62B       :\ C615= 90 14       ..
.LC617
JSR LCC96       :\ C617= 20 96 CC     .L
LDA #&08        :\ C61A= A9 08       ).
BIT &D0         :\ C61C= 24 D0       $P
BNE LC625       :\ C61E= D0 05       P.
JSR LC9E1       :\ C620= 20 E1 C9     aI
BNE LC628       :\ C623= D0 03       P.
.LC625
JSR LCD3B       :\ C625= 20 3B CD     ;M
.LC628
JSR LCDE8       :\ C628= 20 E8 CD     hM
.LC62B
JMP LCE42       :\ C62B= 4C 42 CE    LBN
 
.LC62E
LDX #&00        :\ C62E= A2 00       ".
.LC630
STX &D9         :\ C630= 86 D9       .Y
JSR LD01E       :\ C632= 20 1E D0     .P
LDX &D9         :\ C635= A6 D9       &Y
CLC             :\ C637= 18          .
LDA &0324,X     :\ C638= BD 24 03    =$.
ADC #&08        :\ C63B= 69 08       i.
STA &0324,X     :\ C63D= 9D 24 03    .$.
BCC LC645       :\ C640= 90 03       ..
INC &0325,X     :\ C642= FE 25 03    ~%.
.LC645
LDA &D8         :\ C645= A5 D8       %X
BNE LC667       :\ C647= D0 1E       P.
JSR LD01E       :\ C649= 20 1E D0     .P
BEQ LC667       :\ C64C= F0 19       p.
LDX &D9         :\ C64E= A6 D9       &Y
LDA &0300,X     :\ C650= BD 00 03    =..
CPX #&01        :\ C653= E0 01       `.
BCC LC659       :\ C655= 90 02       ..
ADC #&06        :\ C657= 69 06       i.
.LC659
STA &0324,X     :\ C659= 9D 24 03    .$.
LDA &0301,X     :\ C65C= BD 01 03    =..
ADC #&00        :\ C65F= 69 00       i.
STA &0325,X     :\ C661= 9D 25 03    .%.
TXA             :\ C664= 8A          .
BEQ LC66F       :\ C665= F0 08       p.
.LC667
JMP LD0C9       :\ C667= 4C C9 D0    LIP
 
JSR LC505       :\ C66A= 20 05 C5     .E
BEQ LC606       :\ C66D= F0 97       p.
.LC66F
LDX #&02        :\ C66F= A2 02       ".
JMP LC59F       :\ C671= 4C 9F C5    L.E
 
LDX &0355       :\ C674= AE 55 03    .U.
LDA &0321       :\ C677= AD 21 03    -!.
CMP &0323       :\ C67A= CD 23 03    M#.
BCC LC6F5       :\ C67D= 90 76       .v
CMP LC3AD,X     :\ C67F= DD AD C3    ]-C
BEQ LC686       :\ C682= F0 02       p.
BCS LC6F5       :\ C684= B0 6F       0o
.LC686
LDA &0322       :\ C686= AD 22 03    -".
TAY             :\ C689= A8          (
CMP LC3B4,X     :\ C68A= DD B4 C3    ]4C
BEQ LC691       :\ C68D= F0 02       p.
BCS LC6F5       :\ C68F= B0 64       0d
.LC691
SEC             :\ C691= 38          8
SBC &0320       :\ C692= ED 20 03    m .
BMI LC6F5       :\ C695= 30 5E       0^
TAY             :\ C697= A8          (
JSR LCA87       :\ C698= 20 87 CA     .J
LDA #&08        :\ C69B= A9 08       ).
JSR LC523       :\ C69D= 20 23 C5     #E
LDX #&20        :\ C6A0= A2 20       " 
LDY #&08        :\ C6A2= A0 08        .
JSR LD3A1       :\ C6A4= 20 A1 D3     !S
JSR LCE24       :\ C6A7= 20 24 CE     $N
.LC6AA
BCS LC71B       :\ C6AA= B0 6F       0o
RTS             :\ C6AC= 60          `
 
LDY #&03        :\ C6AD= A0 03        .
.LC6AF
LDA (&F0),Y     :\ C6AF= B1 F0       1p
STA &0328,Y     :\ C6B1= 99 28 03    .(.
DEY             :\ C6B4= 88          .
BPL LC6AF       :\ C6B5= 10 F8       .x
JSR LD6DE       :\ C6B7= 20 DE D6     ^V
LDX #&28        :\ C6BA= A2 28       "(
JSR LD05A       :\ C6BC= 20 5A D0     ZP
LDX #&28        :\ C6BF= A2 28       "(
JSR LD775       :\ C6C1= 20 75 D7     uW
BNE LC6E1       :\ C6C4= D0 1B       P.
LDA (&D4),Y     :\ C6C6= B1 D4       1T
.LC6C8
ASL A           :\ C6C8= 0A          .
ROL &D8         :\ C6C9= 26 D8       &X
ASL &D1         :\ C6CB= 06 D1       .Q
PHP             :\ C6CD= 08          .
BCS LC6D2       :\ C6CE= B0 02       0.
LSR &D8         :\ C6D0= 46 D8       FX
.LC6D2
PLP             :\ C6D2= 28          (
BNE LC6C8       :\ C6D3= D0 F3       Ps
LDA &D8         :\ C6D5= A5 D8       %X
AND &0360       :\ C6D7= 2D 60 03    -`.
.LC6DA
JSR LD6DE       :\ C6DA= 20 DE D6     ^V
LDY #&04        :\ C6DD= A0 04        .
BNE LC6ED       :\ C6DF= D0 0C       P.
.LC6E1
LDA #&FF        :\ C6E1= A9 FF       ).
BNE LC6DA       :\ C6E3= D0 F5       Pu
.LC6E5
AND &0360       :\ C6E5= 2D 60 03    -`.
TAX             :\ C6E8= AA          *
LDA &036F,X     :\ C6E9= BD 6F 03    =o.
.LC6EC
INY             :\ C6EC= C8          H
.LC6ED
STA (&F0),Y     :\ C6ED= 91 F0       .p
LDA #&00        :\ C6EF= A9 00       ).
CPY #&04        :\ C6F1= C0 04       @.
BNE LC6EC       :\ C6F3= D0 F7       Pw
.LC6F5
RTS             :\ C6F5= 60          `
 
JSR LC505       :\ C6F6= 20 05 C5     .E
BNE LC769       :\ C6F9= D0 6E       Pn
LDA &D0         :\ C6FB= A5 D0       %P
AND #&08        :\ C6FD= 29 08       ).
BNE LC704       :\ C6FF= D0 03       P.
JMP LCB9D       :\ C701= 4C 9D CB    L.K
 
.LC704
LDX &030B       :\ C704= AE 0B 03    ...
.LC707
STX &0319       :\ C707= 8E 19 03    ...
JSR LCDE8       :\ C70A= 20 E8 CD     hM
LDX &0319       :\ C70D= AE 19 03    ...
CPX &0309       :\ C710= EC 09 03    l..
INX             :\ C713= E8          h
BCC LC707       :\ C714= 90 F1       .q
JSR LC505       :\ C716= 20 05 C5     .E
BNE LC74D       :\ C719= D0 32       P2
.LC71B
LDA #&00        :\ C71B= A9 00       ).
STA &0323       :\ C71D= 8D 23 03    .#.
STA &0322       :\ C720= 8D 22 03    .".
BEQ LC72A       :\ C723= F0 05       p.
JSR LC505       :\ C725= 20 05 C5     .E
BNE LC6F5       :\ C728= D0 CB       PK
.LC72A
JSR LC746       :\ C72A= 20 46 C7     FG
CLC             :\ C72D= 18          .
LDA &0322       :\ C72E= AD 22 03    -".
ADC &0308       :\ C731= 6D 08 03    m..
STA &0318       :\ C734= 8D 18 03    ...
LDA &0323       :\ C737= AD 23 03    -#.
CLC             :\ C73A= 18          .
ADC &030B       :\ C73B= 6D 0B 03    m..
STA &0319       :\ C73E= 8D 19 03    ...
JSR LCE24       :\ C741= 20 24 CE     $N
BCC LC6F5       :\ C744= 90 AF       ./
.LC746
LDX #&18        :\ C746= A2 18       ".
LDY #&28        :\ C748= A0 28        (
JMP LCD1A       :\ C74A= 4C 1A CD    L.M
 
.LC74D
LDX #&06        :\ C74D= A2 06       ".
LDY #&26        :\ C74F= A0 26        &
JSR LD399       :\ C751= 20 99 D3     .S
.LC754
LDX #&00        :\ C754= A2 00       ".
LDY #&24        :\ C756= A0 24        $
JSR LD399       :\ C758= 20 99 D3     .S
.LC75B
JMP LD0C9       :\ C75B= 4C C9 D0    LIP
 
JSR LC505       :\ C75E= 20 05 C5     .E
BNE LC754       :\ C761= D0 F1       Pq
JSR LCDAA       :\ C763= 20 AA CD     *M
JMP LCE42       :\ C766= 4C 42 CE    LBN
 
.LC769
JSR LC74D       :\ C769= 20 4D C7     MG
LDA &0361       :\ C76C= AD 61 03    -a.
BEQ LC7A4       :\ C76F= F0 33       p3
LDX &035A       :\ C771= AE 5A 03    .Z.
LDY &035C       :\ C774= AC 5C 03    ,\.
JSR LCFC4       :\ C777= 20 C4 CF     DO
LDX #&00        :\ C77A= A2 00       ".
LDY #&28        :\ C77C= A0 28        (
JSR LD393       :\ C77E= 20 93 D3     .S
SEC             :\ C781= 38          8
LDA &0306       :\ C782= AD 06 03    -..
SBC &0302       :\ C785= ED 02 03    m..
TAY             :\ C788= A8          (
INY             :\ C789= C8          H
STY &0330       :\ C78A= 8C 30 03    .0.
.LC78D
LDX #&2C        :\ C78D= A2 2C       ",
LDY #&28        :\ C78F= A0 28        (
JSR LD5BC       :\ C791= 20 BC D5     <U
LDA &032E       :\ C794= AD 2E 03    -..
BNE LC79C       :\ C797= D0 03       P.
DEC &032F       :\ C799= CE 2F 03    N/.
.LC79C
DEC &032E       :\ C79C= CE 2E 03    N..
DEC &0330       :\ C79F= CE 30 03    N0.
BNE LC78D       :\ C7A2= D0 E9       Pi
.LC7A4
RTS             :\ C7A4= 60          `
 
.LC7A5
TAY             :\ C7A5= A8          (
BPL LC7BB       :\ C7A6= 10 13       ..
AND &0360       :\ C7A8= 2D 60 03    -`.
PHP             :\ C7AB= 08          .
SEI             :\ C7AC= 78          x
STA &D8         :\ C7AD= 85 D8       .X
LDA &034B       :\ C7AF= AD 4B 03    -K.
AND #&F0        :\ C7B2= 29 F0       )p
ORA &D8         :\ C7B4= 05 D8       .X
STA &034B       :\ C7B6= 8D 4B 03    .K.
PLP             :\ C7B9= 28          (
TYA             :\ C7BA= 98          .
.LC7BB
LDY #&00        :\ C7BB= A0 00        .
BEQ LC7C6       :\ C7BD= F0 07       p.
.LC7BF
PHA             :\ C7BF= 48          H
JSR LC7A5       :\ C7C0= 20 A5 C7     %G
PLA             :\ C7C3= 68          h
LDY #&02        :\ C7C4= A0 02        .
.LC7C6
TAX             :\ C7C6= AA          *
BPL LC7CA       :\ C7C7= 10 01       ..
INY             :\ C7C9= C8          H
.LC7CA
AND &0360       :\ C7CA= 2D 60 03    -`.
STA &D8         :\ C7CD= 85 D8       .X
LDA &0360       :\ C7CF= AD 60 03    -`.
AND #&07        :\ C7D2= 29 07       ).
CLC             :\ C7D4= 18          .
ADC &D8         :\ C7D5= 65 D8       eX
TAX             :\ C7D7= AA          *
LDA LC3DE,X     :\ C7D8= BD DE C3    =^C
STA &0357,Y     :\ C7DB= 99 57 03    .W.
CPY #&02        :\ C7DE= C0 02       @.
BCS LC7EF       :\ C7E0= B0 0D       0.
LDA &0357       :\ C7E2= AD 57 03    -W.
EOR #&FF        :\ C7E5= 49 FF       I.
STA &D3         :\ C7E7= 85 D3       .S
EOR &0358       :\ C7E9= 4D 58 03    MX.
STA &D2         :\ C7EC= 85 D2       .R
RTS             :\ C7EE= 60          `
 
.LC7EF
LDA &0322       :\ C7EF= AD 22 03    -".
STA &0359,Y     :\ C7F2= 99 59 03    .Y.
RTS             :\ C7F5= 60          `
 
.LC7F6
LDA #&00        :\ C7F6= A9 00       ).
STA &0322       :\ C7F8= 8D 22 03    .".
LDA &0360       :\ C7FB= AD 60 03    -`.
AND #&07        :\ C7FE= 29 07       ).
JSR LC7BF       :\ C800= 20 BF C7     ?G
LDA #&80        :\ C803= A9 80       ).
JSR LC7BF       :\ C805= 20 BF C7     ?G
LDX &0360       :\ C808= AE 60 03    .`.
STX &031F       :\ C80B= 8E 1F 03    ...
CPX #&03        :\ C80E= E0 03       `.
BEQ LC823       :\ C810= F0 11       p.
BCC LC834       :\ C812= 90 20       . 
STX &0320       :\ C814= 8E 20 03    . .
.LC817
JSR LC841       :\ C817= 20 41 C8     AH
DEC &0320       :\ C81A= CE 20 03    N .
DEC &031F       :\ C81D= CE 1F 03    N..
BPL LC817       :\ C820= 10 F5       .u
RTS             :\ C822= 60          `
 
.LC823
LDX #&07        :\ C823= A2 07       ".
STX &0320       :\ C825= 8E 20 03    . .
.LC828
JSR LC841       :\ C828= 20 41 C8     AH
LSR &0320       :\ C82B= 4E 20 03    N .
DEC &031F       :\ C82E= CE 1F 03    N..
BPL LC828       :\ C831= 10 F5       .u
RTS             :\ C833= 60          `
 
.LC834
LDX #&07        :\ C834= A2 07       ".
JSR LC83E       :\ C836= 20 3E C8     >H
LDX #&00        :\ C839= A2 00       ".
STX &031F       :\ C83B= 8E 1F 03    ...
.LC83E
STX &0320       :\ C83E= 8E 20 03    . .
.LC841
LDA &0320       :\ C841= AD 20 03    - .
LDX &031F       :\ C844= AE 1F 03    ...
.LC847
CLC             :\ C847= 18          .
.LC848
PHP             :\ C848= 08          .
SEI             :\ C849= 78          x
AND #&0F        :\ C84A= 29 0F       ).
STA &FB         :\ C84C= 85 FB       .{
TXA             :\ C84E= 8A          .
AND &0360       :\ C84F= 2D 60 03    -`.
TAY             :\ C852= A8          (
LDA &FB         :\ C853= A5 FB       %{
BCS LC85A       :\ C855= B0 03       0.
STA &036F,Y     :\ C857= 99 6F 03    .o.
.LC85A
CMP #&08        :\ C85A= C9 08       I.
BCC LC863       :\ C85C= 90 05       ..
EOR &0248       :\ C85E= 4D 48 02    MH.
STA &FB         :\ C861= 85 FB       .{
.LC863
TYA             :\ C863= 98          .
LDX &0360       :\ C864= AE 60 03    .`.
CPX #&03        :\ C867= E0 03       `.
BEQ LC88A       :\ C869= F0 1F       p.
BCC LC889       :\ C86B= 90 1C       ..
LSR A           :\ C86D= 4A          J
LSR A           :\ C86E= 4A          J
PHP             :\ C86F= 08          .
LSR A           :\ C870= 4A          J
PLP             :\ C871= 28          (
ROL A           :\ C872= 2A          *
TAX             :\ C873= AA          *
TYA             :\ C874= 98          .
BIT LC3CD       :\ C875= 2C CD C3    ,MC
BEQ LC87B       :\ C878= F0 01       p.
SEC             :\ C87A= 38          8
.LC87B
ROL A           :\ C87B= 2A          *
ASL A           :\ C87C= 0A          .
AND #&06        :\ C87D= 29 06       ).
TAY             :\ C87F= A8          (
CMP #&04        :\ C880= C9 04       I.
BCC LC88D       :\ C882= 90 09       ..
EOR #&02        :\ C884= 49 02       I.
TAY             :\ C886= A8          (
BCS LC88D       :\ C887= B0 04       0.
.LC889
ASL A           :\ C889= 0A          .
.LC88A
TAX             :\ C88A= AA          *
LDY #&00        :\ C88B= A0 00        .
.LC88D
STX &FA         :\ C88D= 86 FA       .z
LDA &FB         :\ C88F= A5 FB       %{
LSR A           :\ C891= 4A          J
JSR LC8C5       :\ C892= 20 C5 C8     EH
LDA &FB         :\ C895= A5 FB       %{
INY             :\ C897= C8          H
JSR LC8C5       :\ C898= 20 C5 C8     EH
PLP             :\ C89B= 28          (
RTS             :\ C89C= 60          `
 
TAX             :\ C89D= AA          *
INY             :\ C89E= C8          H
LDA (&F0),Y     :\ C89F= B1 F0       1p
BCS LC847       :\ C8A1= B0 A4       0$
.LC8A3
LDA &D8         :\ C8A3= A5 D8       %X
PHA             :\ C8A5= 48          H
LDX &0360       :\ C8A6= AE 60 03    .`.
.LC8A9
LDY &036F,X     :\ C8A9= BC 6F 03    <o.
CPY #&08        :\ C8AC= C0 08       @.
BCC LC8BE       :\ C8AE= 90 0E       ..
TXA             :\ C8B0= 8A          .
PHA             :\ C8B1= 48          H
TYA             :\ C8B2= 98          .
AND #&07        :\ C8B3= 29 07       ).
EOR &0248       :\ C8B5= 4D 48 02    MH.
SEC             :\ C8B8= 38          8
JSR LC848       :\ C8B9= 20 48 C8     HH
PLA             :\ C8BC= 68          h
TAX             :\ C8BD= AA          *
.LC8BE
DEX             :\ C8BE= CA          J
BPL LC8A9       :\ C8BF= 10 E8       .h
PLA             :\ C8C1= 68          h
STA &D8         :\ C8C2= 85 D8       .X
RTS             :\ C8C4= 60          `
 
.LC8C5
AND #&03        :\ C8C5= 29 03       ).
TAX             :\ C8C7= AA          *
LDA LC423,X     :\ C8C8= BD 23 C4    =#D
LDX &FA         :\ C8CB= A6 FA       &z
AND LC427,X     :\ C8CD= 3D 27 C4    ='D
STA &FC         :\ C8D0= 85 FC       .|
LDA LC427,X     :\ C8D2= BD 27 C4    ='D
EOR #&FF        :\ C8D5= 49 FF       I.
AND &0804,Y     :\ C8D7= 39 04 08    9..
ORA &FC         :\ C8DA= 05 FC       .|
STA &0804,Y     :\ C8DC= 99 04 08    ...
TAX             :\ C8DF= AA          *
LDA &034B       :\ C8E0= AD 4B 03    -K.
AND #&30        :\ C8E3= 29 30       )0
BNE LC8EB       :\ C8E5= D0 04       P.
TXA             :\ C8E7= 8A          .
STA LFE08,Y     :\ C8E8= 99 08 FE    ..~
.LC8EB
RTS             :\ C8EB= 60          `
 
LDA &0323       :\ C8EC= AD 23 03    -#.
JMP LCB30       :\ C8EF= 4C 30 CB    L0K
 
LDA &031B       :\ C8F2= AD 1B 03    -..
CMP #&20        :\ C8F5= C9 20       I 
BCC LC93E       :\ C8F7= 90 45       .E
PHA             :\ C8F9= 48          H
LSR A           :\ C8FA= 4A          J
LSR A           :\ C8FB= 4A          J
LSR A           :\ C8FC= 4A          J
LSR A           :\ C8FD= 4A          J
LSR A           :\ C8FE= 4A          J
TAX             :\ C8FF= AA          *
.LC900
LDA LC3C8,X     :\ C900= BD C8 C3    =HC
BIT &0367       :\ C903= 2C 67 03    ,g.
BNE LC928       :\ C906= D0 20       P 
ORA &0367       :\ C908= 0D 67 03    .g.
STA &0367       :\ C90B= 8D 67 03    .g.
TXA             :\ C90E= 8A          .
AND #&03        :\ C90F= 29 03       ).
CLC             :\ C911= 18          .
ADC #&BF        :\ C912= 69 BF       i?
STA &DD         :\ C914= 85 DD       .]
LDA &0367,X     :\ C916= BD 67 03    =g.
STA &DB         :\ C919= 85 DB       .[
LDY #&00        :\ C91B= A0 00        .
STY &DA         :\ C91D= 84 DA       .Z
STY &DC         :\ C91F= 84 DC       .\
.LC921
LDA (&DC),Y     :\ C921= B1 DC       1\
STA (&DA),Y     :\ C923= 91 DA       .Z
DEY             :\ C925= 88          .
BNE LC921       :\ C926= D0 F9       Py
.LC928
PLA             :\ C928= 68          h
JSR LCF4F       :\ C929= 20 4F CF     OO
LDY #&07        :\ C92C= A0 07        .
.LC92E
LDA &031C,Y     :\ C92E= B9 1C 03    9..
STA (&DC),Y     :\ C931= 91 DC       .\
DEY             :\ C933= 88          .
BPL LC92E       :\ C934= 10 F8       .x
RTS             :\ C936= 60          `
 
.LC937
LDA &031F       :\ C937= AD 1F 03    -..
CLC             :\ C93A= 18          .
.LC93B
JMP (&0226)     :\ C93B= 6C 26 02    l&.
 
.LC93E
CMP #&01        :\ C93E= C9 01       I.
BEQ LC96B       :\ C940= F0 29       p)
BCS LC93B       :\ C942= B0 F7       0w
SEC             :\ C944= 38          8
LDA &031C       :\ C945= AD 1C 03    -..
EOR #&0A        :\ C948= 49 0A       I.
BNE LC93B       :\ C94A= D0 EF       Po
LDA &031D       :\ C94C= AD 1D 03    -..
EOR #&20        :\ C94F= 49 20       I 
AND #&60        :\ C951= 29 60       )`
BEQ LC95D       :\ C953= F0 08       p.
.LC955
JSR LC97A       :\ C955= 20 7A C9     zI
LDA #&EF        :\ C958= A9 EF       )o
JMP LC530       :\ C95A= 4C 30 C5    L0E
 
.LC95D
LDA #&10        :\ C95D= A9 10       ).
JMP LC523       :\ C95F= 4C 23 C5    L#E
 
.LC962
JSR LC97A       :\ C962= 20 7A C9     zI
LDY #&00        :\ C965= A0 00        .
.LC967
STY &035F       :\ C967= 8C 5F 03    ._.
RTS             :\ C96A= 60          `
 
.LC96B
LDY &031C       :\ C96B= AC 1C 03    ,..
BEQ LC95D       :\ C96E= F0 ED       pm
CPY #&02        :\ C970= C0 02       @.
BEQ LC962       :\ C972= F0 EE       pn
BCC LC955       :\ C974= 90 DF       ._
.LC976
LDY #&0A        :\ C976= A0 0A        .
BNE LC967       :\ C978= D0 ED       Pm
.LC97A
PHP             :\ C97A= 08          .
SEI             :\ C97B= 78          x
LDA &034B       :\ C97C= AD 4B 03    -K.
ORA #&40        :\ C97F= 09 40       .@
STA &034B       :\ C981= 8D 4B 03    .K.
PLP             :\ C984= 28          (
RTS             :\ C985= 60          `
 
LDX &0361       :\ C986= AE 61 03    .a.
BEQ LC937       :\ C989= F0 AC       p,
JMP LCF71       :\ C98B= 4C 71 CF    LqO
 
.LC98E
CLC             :\ C98E= 18          .
LDA &035F       :\ C98F= AD 5F 03    -_.
ADC &034A       :\ C992= 6D 4A 03    mJ.
STA &034A       :\ C995= 8D 4A 03    .J.
LDA &034B       :\ C998= AD 4B 03    -K.
BMI LC9D0       :\ C99B= 30 33       03
BCC LC9A4       :\ C99D= 90 05       ..
EOR #&40        :\ C99F= 49 40       I@
STA &034B       :\ C9A1= 8D 4B 03    .K.
.LC9A4
AND #&40        :\ C9A4= 29 40       )@
BEQ LC9AF       :\ C9A6= F0 07       p.
LDA &0360       :\ C9A8= AD 60 03    -`.
SBC #&04        :\ C9AB= E9 04       i.
ORA #&3F        :\ C9AD= 09 3F       .?
.LC9AF
STA &FB         :\ C9AF= 85 FB       .{
LDA &D0         :\ C9B1= A5 D0       %P
AND #&30        :\ C9B3= 29 30       )0
BNE LC9D0       :\ C9B5= D0 19       P.
TAX             :\ C9B7= AA          *
LDA &0360       :\ C9B8= AD 60 03    -`.
STA &FA         :\ C9BB= 85 FA       .z
LDY #&07        :\ C9BD= A0 07        .
SEC             :\ C9BF= 38          8
.LC9C0
LDA &080C,X     :\ C9C0= BD 0C 08    =..
EOR &FB         :\ C9C3= 45 FB       E{
STA (&D6),Y     :\ C9C5= 91 D6       .V
TYA             :\ C9C7= 98          .
ADC #&07        :\ C9C8= 69 07       i.
TAY             :\ C9CA= A8          (
INX             :\ C9CB= E8          h
LSR &FA         :\ C9CC= 46 FA       Fz
BNE LC9C0       :\ C9CE= D0 F0       Pp
.LC9D0
RTS             :\ C9D0= 60          `
 
.LC9D1
LDX &0350       :\ C9D1= AE 50 03    .P.
LDA &0351       :\ C9D4= AD 51 03    -Q.
JSR LCC4F       :\ C9D7= 20 4F CC     OL
BCS LC9F0       :\ C9DA= B0 14       0.
ADC &0354       :\ C9DC= 6D 54 03    mT.
BCC LC9F0       :\ C9DF= 90 0F       ..
.LC9E1
LDX &0350       :\ C9E1= AE 50 03    .P.
LDA &0351       :\ C9E4= AD 51 03    -Q.
JSR LCAC9       :\ C9E7= 20 C9 CA     IJ
BPL LC9F0       :\ C9EA= 10 04       ..
SEC             :\ C9EC= 38          8
SBC &0354       :\ C9ED= ED 54 03    mT.
.LC9F0
STA &0351       :\ C9F0= 8D 51 03    .Q.
STX &0350       :\ C9F3= 8E 50 03    .P.
PHA             :\ C9F6= 48          H
LSR A           :\ C9F7= 4A          J
STA LFE03       :\ C9F8= 8D 03 FE    ..~
TXA             :\ C9FB= 8A          .
ROR A           :\ C9FC= 6A          j
STA LFE02       :\ C9FD= 8D 02 FE    ..~
PLA             :\ CA00= 68          h
RTS             :\ CA01= 60          `
 
.LCA02
LDA #&00        :\ CA02= A9 00       ).
LDX #&2C        :\ CA04= A2 2C       ",
.LCA06
STA &0300,X     :\ CA06= 9D 00 03    ...
DEX             :\ CA09= CA          J
BPL LCA06       :\ CA0A= 10 FA       .z
LDX &0355       :\ CA0C= AE 55 03    .U.
LDY LC3B4,X     :\ CA0F= BC B4 C3    <4C
STY &030A       :\ CA12= 8C 0A 03    ...
JSR LCA87       :\ CA15= 20 87 CA     .J
LDY LC3AD,X     :\ CA18= BC AD C3    <-C
STY &0309       :\ CA1B= 8C 09 03    ...
LDY #&03        :\ CA1E= A0 03        .
STY &0323       :\ CA20= 8C 23 03    .#.
INY             :\ CA23= C8          H
STY &0321       :\ CA24= 8C 21 03    .!.
DEC &0322       :\ CA27= CE 22 03    N".
DEC &0320       :\ CA2A= CE 20 03    N .
JSR LCE42       :\ CA2D= 20 42 CE     BN
JSR LCA38       :\ CA30= 20 38 CA     8J
LDA #&F7        :\ CA33= A9 F7       )w
JMP LC530       :\ CA35= 4C 30 C5    L0E
 
.LCA38
JSR LCA80       :\ CA38= 20 80 CA     .J
LDX #&1C        :\ CA3B= A2 1C       ".
LDY #&2C        :\ CA3D= A0 2C        ,
JSR LD328       :\ CA3F= 20 28 D3     (S
ORA &032D       :\ CA42= 0D 2D 03    .-.
BMI LCA80       :\ CA45= 30 39       09
LDX #&20        :\ CA47= A2 20       " 
JSR LD05A       :\ CA49= 20 5A D0     ZP
LDX #&1C        :\ CA4C= A2 1C       ".
JSR LD05A       :\ CA4E= 20 5A D0     ZP
LDA &031F       :\ CA51= AD 1F 03    -..
ORA &031D       :\ CA54= 0D 1D 03    ...
BMI LCA80       :\ CA57= 30 27       0'
LDA &0323       :\ CA59= AD 23 03    -#.
BNE LCA80       :\ CA5C= D0 22       P"
LDX &0355       :\ CA5E= AE 55 03    .U.
LDA &0321       :\ CA61= AD 21 03    -!.
STA &D8         :\ CA64= 85 D8       .X
LDA &0320       :\ CA66= AD 20 03    - .
LSR &D8         :\ CA69= 46 D8       FX
ROR A           :\ CA6B= 6A          j
LSR &D8         :\ CA6C= 46 D8       FX
BNE LCA80       :\ CA6E= D0 10       P.
ROR A           :\ CA70= 6A          j
LSR A           :\ CA71= 4A          J
CMP LC3B4,X     :\ CA72= DD B4 C3    ]4C
BEQ LCA79       :\ CA75= F0 02       p.
BPL LCA80       :\ CA77= 10 07       ..
.LCA79
LDY #&00        :\ CA79= A0 00        .
LDX #&1C        :\ CA7B= A2 1C       ".
JSR LD393       :\ CA7D= 20 93 D3     .S
.LCA80
LDX #&10        :\ CA80= A2 10       ".
LDY #&28        :\ CA82= A0 28        (
JMP LCD22       :\ CA84= 4C 22 CD    L"M
 
.LCA87
INY             :\ CA87= C8          H
TYA             :\ CA88= 98          .
LDY #&00        :\ CA89= A0 00        .
STY &034D       :\ CA8B= 8C 4D 03    .M.
STA &034C       :\ CA8E= 8D 4C 03    .L.
LDA &034F       :\ CA91= AD 4F 03    -O.
LSR A           :\ CA94= 4A          J
BEQ LCAA0       :\ CA95= F0 09       p.
.LCA97
ASL &034C       :\ CA97= 0E 4C 03    .L.
ROL &034D       :\ CA9A= 2E 4D 03    .M.
LSR A           :\ CA9D= 4A          J
BCC LCA97       :\ CA9E= 90 F7       .w
.LCAA0
RTS             :\ CAA0= 60          `
 
LDX #&20        :\ CAA1= A2 20       " 
LDY #&0C        :\ CAA3= A0 0C        .
JSR LD3A1       :\ CAA5= 20 A1 D3     !S
JMP LD0C9       :\ CAA8= 4C C9 D0    LIP
 
JSR LC53E       :\ CAAB= 20 3E C5     >E
JSR LC505       :\ CAAE= 20 05 C5     .E
BNE LCABC       :\ CAB1= D0 09       P.
STA &DC         :\ CAB3= 85 DC       .\
LDA #&C0        :\ CAB5= A9 C0       )@
STA &DD         :\ CAB7= 85 DD       .]
JMP LCEE2       :\ CAB9= 4C E2 CE    LbN
 
.LCABC
LDA #&7F        :\ CABC= A9 7F       ).
JSR LCF4F       :\ CABE= 20 4F CF     OO
LDX &035A       :\ CAC1= AE 5A 03    .Z.
LDY #&00        :\ CAC4= A0 00        .
JMP LCE94       :\ CAC6= 4C 94 CE    L.N
 
.LCAC9
PHA             :\ CAC9= 48          H
TXA             :\ CACA= 8A          .
CLC             :\ CACB= 18          .
ADC &0352       :\ CACC= 6D 52 03    mR.
TAX             :\ CACF= AA          *
PLA             :\ CAD0= 68          h
ADC &0353       :\ CAD1= 6D 53 03    mS.
RTS             :\ CAD4= 60          `
 
.LCAD5
JSR LCB09       :\ CAD5= 20 09 CB     .K
.LCAD8
JSR LE7D1       :\ CAD8= 20 D1 E7     Qg
BCC LCADF       :\ CADB= 90 02       ..
BMI LCAD5       :\ CADD= 30 F6       0v
.LCADF
LDA &D0         :\ CADF= A5 D0       %P
EOR #&04        :\ CAE1= 49 04       I.
AND #&46        :\ CAE3= 29 46       )F
BNE LCB11       :\ CAE5= D0 2A       P*
LDA &0269       :\ CAE7= AD 69 02    -i.
BMI LCB0E       :\ CAEA= 30 22       0"
LDA &0319       :\ CAEC= AD 19 03    -..
CMP &0309       :\ CAEF= CD 09 03    M..
BCC LCB0E       :\ CAF2= 90 1A       ..
LSR A           :\ CAF4= 4A          J
LSR A           :\ CAF5= 4A          J
SEC             :\ CAF6= 38          8
ADC &0269       :\ CAF7= 6D 69 02    mi.
ADC &030B       :\ CAFA= 6D 0B 03    m..
CMP &0309       :\ CAFD= CD 09 03    M..
BCC LCB0E       :\ CB00= 90 0C       ..
CLC             :\ CB02= 18          .
.LCB03
JSR LE7D1       :\ CB03= 20 D1 E7     Qg
SEC             :\ CB06= 38          8
BPL LCB03       :\ CB07= 10 FA       .z
.LCB09
LDA #&FF        :\ CB09= A9 FF       ).
STA &0269       :\ CB0B= 8D 69 02    .i.
.LCB0E
INC &0269       :\ CB0E= EE 69 02    ni.
.LCB11
RTS             :\ CB11= 60          `
 
.LCB12
PHA             :\ CB12= 48          H
LDX #&7F        :\ CB13= A2 7F       ".
LDA #&00        :\ CB15= A9 00       ).
STA &D0         :\ CB17= 85 D0       .P
.LCB19
STA &02FF,X     :\ CB19= 9D FF 02    ...
DEX             :\ CB1C= CA          J
BNE LCB19       :\ CB1D= D0 FA       Pz
LDX #&04        :\ CB1F= A2 04       ".
.LCB21
STA &080B,X     :\ CB21= 9D 0B 08    ...
DEX             :\ CB24= CA          J
BNE LCB21       :\ CB25= D0 FA       Pz
JSR LCC5E       :\ CB27= 20 5E CC     ^L
PLA             :\ CB2A= 68          h
LDX #&7F        :\ CB2B= A2 7F       ".
STX &0366       :\ CB2D= 8E 66 03    .f.
.LCB30
JSR LDADA       :\ CB30= 20 DA DA     ZZ
STX &0355       :\ CB33= 8E 55 03    .U.
PHP             :\ CB36= 08          .
SEI             :\ CB37= 78          x
STA &02F4       :\ CB38= 8D F4 02    .t.
LDA &0282       :\ CB3B= AD 82 02    -..
AND #&C7        :\ CB3E= 29 C7       )G
ORA &02F4       :\ CB40= 0D F4 02    .t.
STA &0282       :\ CB43= 8D 82 02    ...
STA LFE07       :\ CB46= 8D 07 FE    ..~
PLP             :\ CB49= 28          (
LDA LC3CF,X     :\ CB4A= BD CF C3    =OC
STA &0360       :\ CB4D= 8D 60 03    .`.
LDA LC3BB,X     :\ CB50= BD BB C3    =;C
STA &034F       :\ CB53= 8D 4F 03    .O.
LDA LC3F5,X     :\ CB56= BD F5 C3    =uC
STA &0361       :\ CB59= 8D 61 03    .a.
BNE LCB60       :\ CB5C= D0 02       P.
LDA #&07        :\ CB5E= A9 07       ).
.LCB60
ASL A           :\ CB60= 0A          .
TAY             :\ CB61= A8          (
LDA LC3C1,Y     :\ CB62= B9 C1 C3    9AC
STA &0363       :\ CB65= 8D 63 03    .c.
.LCB68
ASL A           :\ CB68= 0A          .
BPL LCB68       :\ CB69= 10 FD       .}
STA &0362       :\ CB6B= 8D 62 03    .b.
LDY LC3FB,X     :\ CB6E= BC FB C3    <{C
STY &0356       :\ CB71= 8C 56 03    .V.
LDA LC407,Y     :\ CB74= B9 07 C4    9.D
STA &0354       :\ CB77= 8D 54 03    .T.
LDA LC40B,Y     :\ CB7A= B9 0B C4    9.D
STA &034E       :\ CB7D= 8D 4E 03    .N.
TYA             :\ CB80= 98          .
LSR A           :\ CB81= 4A          J
EOR #&01        :\ CB82= 49 01       I.
TAX             :\ CB84= AA          *
LDA LC40F,X     :\ CB85= BD 0F C4    =.D
STA &0352       :\ CB88= 8D 52 03    .R.
INX             :\ CB8B= E8          h
STX &0353       :\ CB8C= 8E 53 03    .S.
LDA #&43        :\ CB8F= A9 43       )C
JSR LC530       :\ CB91= 20 30 C5     0E
JSR LC7F6       :\ CB94= 20 F6 C7     vG
JSR LCA02       :\ CB97= 20 02 CA     .J
JSR LC976       :\ CB9A= 20 76 C9     vI
.LCB9D
LDX #&00        :\ CB9D= A2 00       ".
LDA &034E       :\ CB9F= AD 4E 03    -N.
JSR LC9F0       :\ CBA2= 20 F0 C9     pI
JSR LC561       :\ CBA5= 20 61 C5     aE
JSR LCC03       :\ CBA8= 20 03 CC     .L
LDA #&00        :\ CBAB= A9 00       ).
STA &0269       :\ CBAD= 8D 69 02    .i.
STA &0318       :\ CBB0= 8D 18 03    ...
STA &0319       :\ CBB3= 8D 19 03    ...
LDX #&06        :\ CBB6= A2 06       ".
LDY &034E       :\ CBB8= AC 4E 03    ,N.
.LCBBB
STY &D9,X       :\ CBBB= 94 D9       .Y
STA &D8,X       :\ CBBD= 95 D8       .X
INY             :\ CBBF= C8          H
DEX             :\ CBC0= CA          J
DEX             :\ CBC1= CA          J
BPL LCBBB       :\ CBC2= 10 F7       .w
TAY             :\ CBC4= A8          (
.LCBC5
LDA &0358       :\ CBC5= AD 58 03    -X.
.LCBC8
STA (&D8),Y     :\ CBC8= 91 D8       .X
STA (&DA),Y     :\ CBCA= 91 DA       .Z
STA (&DC),Y     :\ CBCC= 91 DC       .\
STA (&DE),Y     :\ CBCE= 91 DE       .^
DEY             :\ CBD0= 88          .
BNE LCBC8       :\ CBD1= D0 F5       Pu
LDX #&06        :\ CBD3= A2 06       ".
CLC             :\ CBD5= 18          .
.LCBD6
LDA &D9,X       :\ CBD6= B5 D9       5Y
ADC #&04        :\ CBD8= 69 04       i.
STA &D9,X       :\ CBDA= 95 D9       .Y
BMI LCBE4       :\ CBDC= 30 06       0.
DEX             :\ CBDE= CA          J
DEX             :\ CBDF= CA          J
BPL LCBD6       :\ CBE0= 10 F4       .t
BMI LCBC5       :\ CBE2= 30 E1       0a
.LCBE4
LDA #&DF        :\ CBE4= A9 DF       )_
BNE LCBEA       :\ CBE6= D0 02       P.

\ OSBYTE &73,0 - restore pallette
\ -------------------------------
.LCBE8
LDA #&EF        :\ CBE8= A9 EF       )o
.LCBEA
PHP             :\ CBEA= 08          .
SEI             :\ CBEB= 78          x
AND &034B       :\ CBEC= 2D 4B 03    -K.
STA &034B       :\ CBEF= 8D 4B 03    .K.
AND #&30        :\ CBF2= 29 30       )0
BNE LCC01       :\ CBF4= D0 0B       P.
LDY #&07        :\ CBF6= A0 07        .
.LCBF8
LDA &0804,Y     :\ CBF8= B9 04 08    9..
STA LFE08,Y     :\ CBFB= 99 08 FE    ..~
DEY             :\ CBFE= 88          .
BPL LCBF8       :\ CBFF= 10 F7       .w
.LCC01
PLP             :\ CC01= 28          (
RTS             :\ CC02= 60          `
 
.LCC03
LDA #&20        :\ CC03= A9 20       ) 
BNE LCC12       :\ CC05= D0 0B       P.

\ OSBYTE &73 - Reset/blank palette
\ --------------------------------
.LCC07
BEQ LCBE8           :\ X=0 - Restore palette
LDA &0355           :\ Get current MODE
AND #&04:BNE LCC3F  :\ MODE 4-7 - exit
LDA #&10            :\
.LCC12
PHP             :\ 
SEI             :\ 
ORA &034B       :\ 
STA &034B       :\ 
PLP             :\ 
AND #&0F        :\ 
TAX             :\ 
LDA &036F,X     :\ Get palette entry X
CMP #&08        :\ CC21= C9 08       I.
BCC LCC28       :\ CC23= 90 03       ..
EOR &0248       :\ CC25= 4D 48 02    MH.
.LCC28
PHA             :\ CC28= 48          H
LDY #&07        :\ CC29= A0 07        .
JSR LCC32       :\ CC2B= 20 32 CC     2L
PLA             :\ CC2E= 68          h
LSR A           :\ CC2F= 4A          J
LDY #&06        :\ CC30= A0 06        .
.LCC32
AND #&03        :\ CC32= 29 03       ).
TAX             :\ CC34= AA          *
LDA LC423,X     :\ CC35= BD 23 C4    =#D
.LCC38
STA LFE08,Y     :\ CC38= 99 08 FE    ..~
DEY             :\ CC3B= 88          .
DEY             :\ CC3C= 88          .
BPL LCC38       :\ CC3D= 10 F9       .y
.LCC3F
RTS             :\ CC3F= 60          `
 
JSR LCF4F       :\ CC40= 20 4F CF     OO
LDY #&00        :\ CC43= A0 00        .
.LCC45
LDA (&DC),Y     :\ CC45= B1 DC       1\
INY             :\ CC47= C8          H
STA (&F0),Y     :\ CC48= 91 F0       .p
CPY #&08        :\ CC4A= C0 08       @.
BNE LCC45       :\ CC4C= D0 F7       Pw
RTS             :\ CC4E= 60          `
 
.LCC4F
PHA             :\ CC4F= 48          H
TXA             :\ CC50= 8A          .
SEC             :\ CC51= 38          8
SBC &0352       :\ CC52= ED 52 03    mR.
TAX             :\ CC55= AA          *
PLA             :\ CC56= 68          h
SBC &0353       :\ CC57= ED 53 03    mS.
CMP &034E       :\ CC5A= CD 4E 03    MN.
.LCC5D
RTS             :\ CC5D= 60          `
 
.LCC5E
LDA #&0F        :\ CC5E= A9 0F       ).
STA &0367       :\ CC60= 8D 67 03    .g.
LDA #&0C        :\ CC63= A9 0C       ).
LDY #&06        :\ CC65= A0 06        .
.LCC67
STA &0368,Y     :\ CC67= 99 68 03    .h.
DEY             :\ CC6A= 88          .
BPL LCC67       :\ CC6B= 10 FA       .z
CPX #&07        :\ CC6D= E0 07       `.
BCC LCC73       :\ CC6F= 90 02       ..
LDX #&06        :\ CC71= A2 06       ".
.LCC73
STX &0246       :\ CC73= 8E 46 02    .F.
LDA &0243       :\ CC76= AD 43 02    -C.
LDX #&00        :\ CC79= A2 00       ".
.LCC7B
CPX &0246       :\ CC7B= EC 46 02    lF.
BCS LCC8B       :\ CC7E= B0 0B       0.
LDY LC41D,X     :\ CC80= BC 1D C4    <.D
STA &0368,Y     :\ CC83= 99 68 03    .h.
ADC #&01        :\ CC86= 69 01       i.
INX             :\ CC88= E8          h
BNE LCC7B       :\ CC89= D0 F0       Pp
.LCC8B
STA &0244       :\ CC8B= 8D 44 02    .D.
TAY             :\ CC8E= A8          (
BEQ LCC5D       :\ CC8F= F0 CC       pL
LDX #&11        :\ CC91= A2 11       ".
JMP LF0A8       :\ CC93= 4C A8 F0    L(p
 
.LCC96
LDA #&02        :\ CC96= A9 02       ).
BIT &D0         :\ CC98= 24 D0       $P
BNE LCC9E       :\ CC9A= D0 02       P.
BVC LCCDC       :\ CC9C= 50 3E       P>
.LCC9E
LDA &0309       :\ CC9E= AD 09 03    -..
BCC LCCA6       :\ CCA1= 90 03       ..
LDA &030B       :\ CCA3= AD 0B 03    -..
.LCCA6
BVS LCCB0       :\ CCA6= 70 08       p.
STA &0319       :\ CCA8= 8D 19 03    ...
PLA             :\ CCAB= 68          h
PLA             :\ CCAC= 68          h
JMP LC62B       :\ CCAD= 4C 2B C6    L+F
 
.LCCB0
PHP             :\ CCB0= 08          .
CMP &0365       :\ CCB1= CD 65 03    Me.
BEQ LCCDB       :\ CCB4= F0 25       p%
PLP             :\ CCB6= 28          (
BCC LCCBD       :\ CCB7= 90 04       ..
DEC &0365       :\ CCB9= CE 65 03    Ne.
RTS             :\ CCBC= 60          `
 
.LCCBD
INC &0365       :\ CCBD= EE 65 03    ne.
RTS             :\ CCC0= 60          `
 
.LCCC1
PHP             :\ CCC1= 08          .
PHA             :\ CCC2= 48          H
LDY &034F       :\ CCC3= AC 4F 03    ,O.
DEY             :\ CCC6= 88          .
LDA #&FF        :\ CCC7= A9 FF       ).
CPY #&1F        :\ CCC9= C0 1F       @.
BNE LCCCF       :\ CCCB= D0 02       P.
LDA #&3F        :\ CCCD= A9 3F       )?
.LCCCF
STA &D8         :\ CCCF= 85 D8       .X
.LCCD1
LDA (&D6),Y     :\ CCD1= B1 D6       1V
EOR &D8         :\ CCD3= 45 D8       EX
STA (&D6),Y     :\ CCD5= 91 D6       .V
DEY             :\ CCD7= 88          .
BPL LCCD1       :\ CCD8= 10 F7       .w
PLA             :\ CCDA= 68          h
.LCCDB
PLP             :\ CCDB= 28          (
.LCCDC
RTS             :\ CCDC= 60          `
 
.LCCDD
JSR LCD97       :\ CCDD= 20 97 CD     .M
LDA &0309       :\ CCE0= AD 09 03    -..
STA &0319       :\ CCE3= 8D 19 03    ...
JSR LCE42       :\ CCE6= 20 42 CE     BN
.LCCE9
JSR LCC4F       :\ CCE9= 20 4F CC     OL
BCS LCCF1       :\ CCEC= B0 03       0.
ADC &0354       :\ CCEE= 6D 54 03    mT.
.LCCF1
STA &D9         :\ CCF1= 85 D9       .Y
STX &D8         :\ CCF3= 86 D8       .X
STA &DA         :\ CCF5= 85 DA       .Z
BCS LCCFF       :\ CCF7= B0 06       0.
.LCCF9
JSR LCDAF       :\ CCF9= 20 AF CD     /M
JMP LCD0A       :\ CCFC= 4C 0A CD    L.M
 
.LCCFF
JSR LCAC9       :\ CCFF= 20 C9 CA     IJ
JSR LCAC9       :\ CD02= 20 C9 CA     IJ
BMI LCCF9       :\ CD05= 30 F2       0r
JSR LCD74       :\ CD07= 20 74 CD     tM
.LCD0A
LDA &DA         :\ CD0A= A5 DA       %Z
LDX &D8         :\ CD0C= A6 D8       &X
STA &D7         :\ CD0E= 85 D7       .W
STX &D6         :\ CD10= 86 D6       .V
DEC &DC         :\ CD12= C6 DC       F\
BNE LCCE9       :\ CD14= D0 D3       PS
.LCD16
LDX #&28        :\ CD16= A2 28       "(
LDY #&18        :\ CD18= A0 18        .
.LCD1A
LDA #&02        :\ CD1A= A9 02       ).
BNE LCD24       :\ CD1C= D0 06       P.
.LCD1E
LDX #&24        :\ CD1E= A2 24       "$
.LCD20
LDY #&14        :\ CD20= A0 14        .
.LCD22
LDA #&04        :\ CD22= A9 04       ).
.LCD24
STA &D8         :\ CD24= 85 D8       .X
.LCD26
LDA &0300,X     :\ CD26= BD 00 03    =..
PHA             :\ CD29= 48          H
LDA &0300,Y     :\ CD2A= B9 00 03    9..
STA &0300,X     :\ CD2D= 9D 00 03    ...
PLA             :\ CD30= 68          h
STA &0300,Y     :\ CD31= 99 00 03    ...
INX             :\ CD34= E8          h
INY             :\ CD35= C8          H
DEC &D8         :\ CD36= C6 D8       FX
BNE LCD26       :\ CD38= D0 EC       Pl
RTS             :\ CD3A= 60          `
 
.LCD3B
JSR LCD97       :\ CD3B= 20 97 CD     .M
LDY &030B       :\ CD3E= AC 0B 03    ,..
STY &0319       :\ CD41= 8C 19 03    ...
JSR LCE42       :\ CD44= 20 42 CE     BN
.LCD47
JSR LCAC9       :\ CD47= 20 C9 CA     IJ
BPL LCD50       :\ CD4A= 10 04       ..
SEC             :\ CD4C= 38          8
SBC &0354       :\ CD4D= ED 54 03    mT.
.LCD50
STA &D9         :\ CD50= 85 D9       .Y
STX &D8         :\ CD52= 86 D8       .X
STA &DA         :\ CD54= 85 DA       .Z
BCC LCD5E       :\ CD56= 90 06       ..
.LCD58
JSR LCDAF       :\ CD58= 20 AF CD     /M
JMP LCD66       :\ CD5B= 4C 66 CD    LfM
 
.LCD5E
JSR LCAC9       :\ CD5E= 20 C9 CA     IJ
BMI LCD58       :\ CD61= 30 F5       0u
JSR LCD74       :\ CD63= 20 74 CD     tM
.LCD66
LDA &DA         :\ CD66= A5 DA       %Z
LDX &D8         :\ CD68= A6 D8       &X
STA &D7         :\ CD6A= 85 D7       .W
STX &D6         :\ CD6C= 86 D6       .V
DEC &DC         :\ CD6E= C6 DC       F\
BNE LCD47       :\ CD70= D0 D5       PU
BEQ LCD16       :\ CD72= F0 A2       p"
.LCD74
LDX &034D       :\ CD74= AE 4D 03    .M.
BEQ LCD89       :\ CD77= F0 10       p.
LDY #&00        :\ CD79= A0 00        .
.LCD7B
LDA (&D8),Y     :\ CD7B= B1 D8       1X
STA (&D6),Y     :\ CD7D= 91 D6       .V
INY             :\ CD7F= C8          H
BNE LCD7B       :\ CD80= D0 F9       Py
INC &D7         :\ CD82= E6 D7       fW
INC &D9         :\ CD84= E6 D9       fY
DEX             :\ CD86= CA          J
BNE LCD7B       :\ CD87= D0 F2       Pr
.LCD89
LDY &034C       :\ CD89= AC 4C 03    ,L.
BEQ LCD96       :\ CD8C= F0 08       p.
.LCD8E
DEY             :\ CD8E= 88          .
LDA (&D8),Y     :\ CD8F= B1 D8       1X
STA (&D6),Y     :\ CD91= 91 D6       .V
TYA             :\ CD93= 98          .
BNE LCD8E       :\ CD94= D0 F8       Px
.LCD96
RTS             :\ CD96= 60          `
 
.LCD97
JSR LCD16       :\ CD97= 20 16 CD     .M
SEC             :\ CD9A= 38          8
LDA &0309       :\ CD9B= AD 09 03    -..
SBC &030B       :\ CD9E= ED 0B 03    m..
STA &DC         :\ CDA1= 85 DC       .\
BNE LCDAA       :\ CDA3= D0 05       P.
PLA             :\ CDA5= 68          h
PLA             :\ CDA6= 68          h
JMP LCD16       :\ CDA7= 4C 16 CD    L.M
 
.LCDAA
LDA &0308       :\ CDAA= AD 08 03    -..
BPL LCE1F       :\ CDAD= 10 70       .p
.LCDAF
LDA &D8         :\ CDAF= A5 D8       %X
PHA             :\ CDB1= 48          H
SEC             :\ CDB2= 38          8
LDA &030A       :\ CDB3= AD 0A 03    -..
SBC &0308       :\ CDB6= ED 08 03    m..
STA &DD         :\ CDB9= 85 DD       .]
.LCDBB
LDY &034F       :\ CDBB= AC 4F 03    ,O.
DEY             :\ CDBE= 88          .
.LCDBF
LDA (&D8),Y     :\ CDBF= B1 D8       1X
STA (&D6),Y     :\ CDC1= 91 D6       .V
DEY             :\ CDC3= 88          .
BPL LCDBF       :\ CDC4= 10 F9       .y
LDX #&02        :\ CDC6= A2 02       ".
.LCDC8
CLC             :\ CDC8= 18          .
LDA &D6,X       :\ CDC9= B5 D6       5V
ADC &034F       :\ CDCB= 6D 4F 03    mO.
STA &D6,X       :\ CDCE= 95 D6       .V
LDA &D7,X       :\ CDD0= B5 D7       5W
ADC #&00        :\ CDD2= 69 00       i.
BPL LCDDA       :\ CDD4= 10 04       ..
SEC             :\ CDD6= 38          8
SBC &0354       :\ CDD7= ED 54 03    mT.
.LCDDA
STA &D7,X       :\ CDDA= 95 D7       .W
DEX             :\ CDDC= CA          J
DEX             :\ CDDD= CA          J
BEQ LCDC8       :\ CDDE= F0 E8       ph
DEC &DD         :\ CDE0= C6 DD       F]
BPL LCDBB       :\ CDE2= 10 D7       .W
PLA             :\ CDE4= 68          h
STA &D8         :\ CDE5= 85 D8       .X
RTS             :\ CDE7= 60          `
 
.LCDE8
LDA &0318       :\ CDE8= AD 18 03    -..
PHA             :\ CDEB= 48          H
JSR LCDAA       :\ CDEC= 20 AA CD     *M
JSR LCE42       :\ CDEF= 20 42 CE     BN
SEC             :\ CDF2= 38          8
LDA &030A       :\ CDF3= AD 0A 03    -..
SBC &0308       :\ CDF6= ED 08 03    m..
STA &DA         :\ CDF9= 85 DA       .Z
.LCDFB
LDA &0358       :\ CDFB= AD 58 03    -X.
LDY &034F       :\ CDFE= AC 4F 03    ,O.
.LCE01
DEY             :\ CE01= 88          .
STA (&D6),Y     :\ CE02= 91 D6       .V
BNE LCE01       :\ CE04= D0 FB       P{
TXA             :\ CE06= 8A          .
CLC             :\ CE07= 18          .
ADC &034F       :\ CE08= 6D 4F 03    mO.
TAX             :\ CE0B= AA          *
LDA &D7         :\ CE0C= A5 D7       %W
ADC #&00        :\ CE0E= 69 00       i.
BPL LCE16       :\ CE10= 10 04       ..
SEC             :\ CE12= 38          8
SBC &0354       :\ CE13= ED 54 03    mT.
.LCE16
STX &D6         :\ CE16= 86 D6       .V
STA &D7         :\ CE18= 85 D7       .W
.LCE1A
DEC &DA         :\ CE1A= C6 DA       FZ
BPL LCDFB       :\ CE1C= 10 DD       .]
PLA             :\ CE1E= 68          h
.LCE1F
STA &0318       :\ CE1F= 8D 18 03    ...
.LCE22
SEC             :\ CE22= 38          8
RTS             :\ CE23= 60          `
 
.LCE24
LDX &0318       :\ CE24= AE 18 03    ...
CPX &0308       :\ CE27= EC 08 03    l..
BMI LCE22       :\ CE2A= 30 F6       0v
CPX &030A       :\ CE2C= EC 0A 03    l..
BEQ LCE33       :\ CE2F= F0 02       p.
BPL LCE22       :\ CE31= 10 EF       .o
.LCE33
LDX &0319       :\ CE33= AE 19 03    ...
CPX &030B       :\ CE36= EC 0B 03    l..
BMI LCE22       :\ CE39= 30 E7       0g
CPX &0309       :\ CE3B= EC 09 03    l..
BEQ LCE42       :\ CE3E= F0 02       p.
BPL LCE22       :\ CE40= 10 E0       .`
.LCE42
LDA &0319       :\ CE42= AD 19 03    -..
ASL A           :\ CE45= 0A          .
TAY             :\ CE46= A8          (
LDA LC36D,Y     :\ CE47= B9 6D C3    9mC
STA &D7         :\ CE4A= 85 D7       .W
LDA LC36E,Y     :\ CE4C= B9 6E C3    9nC
LDY &0353       :\ CE4F= AC 53 03    ,S.
DEY             :\ CE52= 88          .
BNE LCE58       :\ CE53= D0 03       P.
LSR &D7         :\ CE55= 46 D7       FW
ROR A           :\ CE57= 6A          j
.LCE58
ADC &0350       :\ CE58= 6D 50 03    mP.
STA &D6         :\ CE5B= 85 D6       .V
LDA &D7         :\ CE5D= A5 D7       %W
ADC &0351       :\ CE5F= 6D 51 03    mQ.
TAY             :\ CE62= A8          (
LDA &0318       :\ CE63= AD 18 03    -..
LDX &034F       :\ CE66= AE 4F 03    .O.
CPX #&10        :\ CE69= E0 10       `.
BEQ LCE70       :\ CE6B= F0 03       p.
BCC LCE71       :\ CE6D= 90 02       ..
ASL A           :\ CE6F= 0A          .
.LCE70
ASL A           :\ CE70= 0A          .
.LCE71
ASL A           :\ CE71= 0A          .
ASL A           :\ CE72= 0A          .
BCC LCE77       :\ CE73= 90 02       ..
INY             :\ CE75= C8          H
INY             :\ CE76= C8          H
.LCE77
ASL A           :\ CE77= 0A          .
BCC LCE7C       :\ CE78= 90 02       ..
INY             :\ CE7A= C8          H
CLC             :\ CE7B= 18          .
.LCE7C
ADC &D6         :\ CE7C= 65 D6       eV
STA &D6         :\ CE7E= 85 D6       .V
TAX             :\ CE80= AA          *
TYA             :\ CE81= 98          .
ADC #&00        :\ CE82= 69 00       i.
BPL LCE8A       :\ CE84= 10 04       ..
SEC             :\ CE86= 38          8
SBC &0354       :\ CE87= ED 54 03    mT.
.LCE8A
STA &D7         :\ CE8A= 85 D7       .W
CLC             :\ CE8C= 18          .
RTS             :\ CE8D= 60          `
 
.LCE8E
LDX &0359       :\ CE8E= AE 59 03    .Y.
LDY &035B       :\ CE91= AC 5B 03    ,[.
.LCE94
JSR LCFC4       :\ CE94= 20 C4 CF     DO
JSR LD39D       :\ CE97= 20 9D D3     .S
LDY #&00        :\ CE9A= A0 00        .
.LCE9C
STY &DA         :\ CE9C= 84 DA       .Z
LDA (&DC),Y     :\ CE9E= B1 DC       1\
BEQ LCEB5       :\ CEA0= F0 13       p.
STA &DB         :\ CEA2= 85 DB       .[
.LCEA4
BPL LCEA9       :\ CEA4= 10 03       ..
JSR LCFF4       :\ CEA6= 20 F4 CF     tO
.LCEA9
INC &0324       :\ CEA9= EE 24 03    n$.
BNE LCEB1       :\ CEAC= D0 03       P.
INC &0325       :\ CEAE= EE 25 03    n%.
.LCEB1
ASL &DB         :\ CEB1= 06 DB       .[
BNE LCEA4       :\ CEB3= D0 EF       Po
.LCEB5
LDX #&28        :\ CEB5= A2 28       "(
LDY #&24        :\ CEB7= A0 24        $
JSR LD399       :\ CEB9= 20 99 D3     .S
LDY &0326       :\ CEBC= AC 26 03    ,&.
BNE LCEC4       :\ CEBF= D0 03       P.
DEC &0327       :\ CEC1= CE 27 03    N'.
.LCEC4
DEC &0326       :\ CEC4= CE 26 03    N&.
LDY &DA         :\ CEC7= A4 DA       $Z
INY             :\ CEC9= C8          H
CPY #&08        :\ CECA= C0 08       @.
BNE LCE9C       :\ CECC= D0 CE       PN
LDX #&28        :\ CECE= A2 28       "(
LDY #&24        :\ CED0= A0 24        $
JMP LD3A1       :\ CED2= 4C A1 D3    L!S
 
\ Copy Electron 'acorn' to soft cursor store
\ ------------------------------------------
.LCED5
LDX #LC42B AND 255:STX &DC  :\ &DC/D=>'acorn' bitmap
LDX #LC42B DIV 256:STX &DD
BNE LCEE2

.LCEDF
JSR LCF4F       :\ CEDF= 20 4F CF     OO
.LCEE2
LDX &0360       :\ CEE2= AE 60 03    .`.
LDA &D0         :\ CEE5= A5 D0       %P
AND #&20        :\ CEE7= 29 20       ) 
BNE LCE8E       :\ CEE9= D0 A3       P#
LDY #&07        :\ CEEB= A0 07        .
CPX #&03        :\ CEED= E0 03       `.
BEQ LCEFF       :\ CEEF= F0 0E       p.
BCS LCF2F       :\ CEF1= B0 3C       0<
.LCEF3
LDA (&DC),Y     :\ CEF3= B1 DC       1\
ORA &D2         :\ CEF5= 05 D2       .R
EOR &D3         :\ CEF7= 45 D3       ES
STA (&D6),Y     :\ CEF9= 91 D6       .V
DEY             :\ CEFB= 88          .
BPL LCEF3       :\ CEFC= 10 F5       .u
RTS             :\ CEFE= 60          `
 
.LCEFF
LDA (&DC),Y     :\ CEFF= B1 DC       1\
PHA             :\ CF01= 48          H
LSR A           :\ CF02= 4A          J
LSR A           :\ CF03= 4A          J
LSR A           :\ CF04= 4A          J
LSR A           :\ CF05= 4A          J
TAX             :\ CF06= AA          *
LDA LC317,X     :\ CF07= BD 17 C3    =.C
ORA &D2         :\ CF0A= 05 D2       .R
EOR &D3         :\ CF0C= 45 D3       ES
STA (&D6),Y     :\ CF0E= 91 D6       .V
TYA             :\ CF10= 98          .
CLC             :\ CF11= 18          .
ADC #&08        :\ CF12= 69 08       i.
TAY             :\ CF14= A8          (
PLA             :\ CF15= 68          h
AND #&0F        :\ CF16= 29 0F       ).
TAX             :\ CF18= AA          *
LDA LC317,X     :\ CF19= BD 17 C3    =.C
ORA &D2         :\ CF1C= 05 D2       .R
EOR &D3         :\ CF1E= 45 D3       ES
STA (&D6),Y     :\ CF20= 91 D6       .V
TYA             :\ CF22= 98          .
SBC #&08        :\ CF23= E9 08       i.
TAY             :\ CF25= A8          (
BPL LCEFF       :\ CF26= 10 D7       .W
.LCF28
RTS             :\ CF28= 60          `
 
.LCF29
TYA             :\ CF29= 98          .
SBC #&21        :\ CF2A= E9 21       i!
BMI LCF28       :\ CF2C= 30 FA       0z
TAY             :\ CF2E= A8          (
.LCF2F
LDA (&DC),Y     :\ CF2F= B1 DC       1\
STA &DA         :\ CF31= 85 DA       .Z
SEC             :\ CF33= 38          8
.LCF34
LDA #&00        :\ CF34= A9 00       ).
ROL &DA         :\ CF36= 26 DA       &Z
BEQ LCF29       :\ CF38= F0 EF       po
ROL A           :\ CF3A= 2A          *
ASL &DA         :\ CF3B= 06 DA       .Z
ROL A           :\ CF3D= 2A          *
TAX             :\ CF3E= AA          *
LDA LC327,X     :\ CF3F= BD 27 C3    ='C
ORA &D2         :\ CF42= 05 D2       .R
EOR &D3         :\ CF44= 45 D3       ES
STA (&D6),Y     :\ CF46= 91 D6       .V
CLC             :\ CF48= 18          .
TYA             :\ CF49= 98          .
ADC #&08        :\ CF4A= 69 08       i.
TAY             :\ CF4C= A8          (
BCC LCF34       :\ CF4D= 90 E5       .e
.LCF4F
ASL A           :\ CF4F= 0A          .
ROL A           :\ CF50= 2A          *
ROL A           :\ CF51= 2A          *
STA &DC         :\ CF52= 85 DC       .\
AND #&03        :\ CF54= 29 03       ).
ROL A           :\ CF56= 2A          *
TAX             :\ CF57= AA          *
AND #&03        :\ CF58= 29 03       ).
ADC #&BF        :\ CF5A= 69 BF       i?
TAY             :\ CF5C= A8          (
LDA LC3C8,X     :\ CF5D= BD C8 C3    =HC
BIT &0367       :\ CF60= 2C 67 03    ,g.
BEQ LCF68       :\ CF63= F0 03       p.
LDY &0367,X     :\ CF65= BC 67 03    <g.
.LCF68
STY &DD         :\ CF68= 84 DD       .]
LDA &DC         :\ CF6A= A5 DC       %\
AND #&F8        :\ CF6C= 29 F8       )x
STA &DC         :\ CF6E= 85 DC       .\
RTS             :\ CF70= 60          `
 
.LCF71
LDX #&20        :\ CF71= A2 20       " 
JSR LD05E       :\ CF73= 20 5E D0     ^P
LDA &031F       :\ CF76= AD 1F 03    -..
CMP #&04        :\ CF79= C9 04       I.
BEQ LCFEA       :\ CF7B= F0 6D       pm
LDY #&05        :\ CF7D= A0 05        .
AND #&03        :\ CF7F= 29 03       ).
BEQ LCF91       :\ CF81= F0 0E       p.
LSR A           :\ CF83= 4A          J
BCS LCF89       :\ CF84= B0 03       0.
DEY             :\ CF86= 88          .
BNE LCF91       :\ CF87= D0 08       P.
.LCF89
TAX             :\ CF89= AA          *
LDY &035B,X     :\ CF8A= BC 5B 03    <[.
LDA &0359,X     :\ CF8D= BD 59 03    =Y.
TAX             :\ CF90= AA          *
.LCF91
JSR LCFC4       :\ CF91= 20 C4 CF     DO
LDA &031F       :\ CF94= AD 1F 03    -..
BMI LCFBC       :\ CF97= 30 23       0#
ASL A           :\ CF99= 0A          .
BPL LCFD7       :\ CF9A= 10 3B       .;
AND #&F0        :\ CF9C= 29 F0       )p
ASL A           :\ CF9E= 0A          .
BEQ LCFE7       :\ CF9F= F0 46       pF
EOR #&40        :\ CFA1= 49 40       I@
BEQ LCFB9       :\ CFA3= F0 14       p.
PHA             :\ CFA5= 48          H
JSR LCFED       :\ CFA6= 20 ED CF     mO
PLA             :\ CFA9= 68          h
EOR #&60        :\ CFAA= 49 60       I`
BEQ LCFBF       :\ CFAC= F0 11       p.
CMP #&40        :\ CFAE= C9 40       I@
BNE LCFBC       :\ CFB0= D0 0A       P.
LDA #&02        :\ CFB2= A9 02       ).
STA &DA         :\ CFB4= 85 DA       .Z
JMP LD41D       :\ CFB6= 4C 1D D4    L.T
 
.LCFB9
JMP LD500       :\ CFB9= 4C 00 D5    L.U
 
.LCFBC
JMP LC937       :\ CFBC= 4C 37 C9    L7I
 
.LCFBF
STA &DA         :\ CFBF= 85 DA       .Z
JMP LD3D6       :\ CFC1= 4C D6 D3    LVS
 
.LCFC4
TXA             :\ CFC4= 8A          .
ORA LC3D7,Y     :\ CFC5= 19 D7 C3    .WC
EOR LC3D8,Y     :\ CFC8= 59 D8 C3    YXC
STA &DE         :\ CFCB= 85 DE       .^
TXA             :\ CFCD= 8A          .
ORA LC3D6,Y     :\ CFCE= 19 D6 C3    .VC
EOR LC3DB,Y     :\ CFD1= 59 DB C3    Y[C
STA &DF         :\ CFD4= 85 DF       ._
RTS             :\ CFD6= 60          `
 
.LCFD7
ASL A           :\ CFD7= 0A          .
BMI LCFBC       :\ CFD8= 30 E2       0b
ASL A           :\ CFDA= 0A          .
ASL A           :\ CFDB= 0A          .
BPL LCFE1       :\ CFDC= 10 03       ..
JSR LCFFC       :\ CFDE= 20 FC CF     |O
.LCFE1
JSR LD0FE       :\ CFE1= 20 FE D0     ~P
JMP LCFEA       :\ CFE4= 4C EA CF    LjO
 
.LCFE7
JSR LCFFC       :\ CFE7= 20 FC CF     |O
.LCFEA
JSR LCD1E       :\ CFEA= 20 1E CD     .M
.LCFED
LDY #&24        :\ CFED= A0 24        $
.LCFEF
LDX #&20        :\ CFEF= A2 20       " 
JMP LD3A1       :\ CFF1= 4C A1 D3    L!S
 
.LCFF4
LDX #&24        :\ CFF4= A2 24       "$
JSR LD775       :\ CFF6= 20 75 D7     uW
BEQ LD001       :\ CFF9= F0 06       p.
RTS             :\ CFFB= 60          `
 
.LCFFC
JSR LD773       :\ CFFC= 20 73 D7     sW
BNE LD014       :\ CFFF= D0 13       P.
.LD001
LDY &031A       :\ D001= AC 1A 03    ,..
.LD004
LDA &D1         :\ D004= A5 D1       %Q
AND &DE         :\ D006= 25 DE       %^
ORA (&D4),Y     :\ D008= 11 D4       .T
STA &D8         :\ D00A= 85 D8       .X
LDA &DF         :\ D00C= A5 DF       %_
AND &D1         :\ D00E= 25 D1       %Q
EOR &D8         :\ D010= 45 D8       EX
STA (&D4),Y     :\ D012= 91 D4       .T
.LD014
RTS             :\ D014= 60          `
 
.LD015
LDA (&D4),Y     :\ D015= B1 D4       1T
ORA &DE         :\ D017= 05 DE       .^
EOR &DF         :\ D019= 45 DF       E_
STA (&D4),Y     :\ D01B= 91 D4       .T
RTS             :\ D01D= 60          `
 
.LD01E
LDX #&24        :\ D01E= A2 24       "$
.LD020
LDY #&00        :\ D020= A0 00        .
STY &D8         :\ D022= 84 D8       .X
LDY #&02        :\ D024= A0 02        .
JSR LD039       :\ D026= 20 39 D0     9P
ASL &D8         :\ D029= 06 D8       .X
ASL &D8         :\ D02B= 06 D8       .X
DEX             :\ D02D= CA          J
DEX             :\ D02E= CA          J
LDY #&00        :\ D02F= A0 00        .
JSR LD039       :\ D031= 20 39 D0     9P
INX             :\ D034= E8          h
INX             :\ D035= E8          h
LDA &D8         :\ D036= A5 D8       %X
RTS             :\ D038= 60          `
 
.LD039
LDA &0302,X     :\ D039= BD 02 03    =..
CMP &0300,Y     :\ D03C= D9 00 03    Y..
LDA &0303,X     :\ D03F= BD 03 03    =..
SBC &0301,Y     :\ D042= F9 01 03    y..
BMI LD057       :\ D045= 30 10       0.
LDA &0304,Y     :\ D047= B9 04 03    9..
CMP &0302,X     :\ D04A= DD 02 03    ]..
LDA &0305,Y     :\ D04D= B9 05 03    9..
SBC &0303,X     :\ D050= FD 03 03    }..
BPL LD059       :\ D053= 10 04       ..
INC &D8         :\ D055= E6 D8       fX
.LD057
INC &D8         :\ D057= E6 D8       fX
.LD059
RTS             :\ D059= 60          `
 
.LD05A
LDA #&FF        :\ D05A= A9 FF       ).
BNE LD061       :\ D05C= D0 03       P.
.LD05E
LDA &031F       :\ D05E= AD 1F 03    -..
.LD061
STA &D8         :\ D061= 85 D8       .X
LDY #&02        :\ D063= A0 02        .
JSR LD087       :\ D065= 20 87 D0     .P
JSR LD0BE       :\ D068= 20 BE D0     >P
LDY #&00        :\ D06B= A0 00        .
DEX             :\ D06D= CA          J
DEX             :\ D06E= CA          J
JSR LD087       :\ D06F= 20 87 D0     .P
LDY &0361       :\ D072= AC 61 03    ,a.
CPY #&03        :\ D075= C0 03       @.
BEQ LD07E       :\ D077= F0 05       p.
BCS LD081       :\ D079= B0 06       0.
JSR LD0BE       :\ D07B= 20 BE D0     >P
.LD07E
JSR LD0BE       :\ D07E= 20 BE D0     >P
.LD081
LDA &0356       :\ D081= AD 56 03    -V.
BNE LD0BE       :\ D084= D0 38       P8
RTS             :\ D086= 60          `
 
.LD087
CLC             :\ D087= 18          .
LDA &D8         :\ D088= A5 D8       %X
AND #&04        :\ D08A= 29 04       ).
BEQ LD097       :\ D08C= F0 09       p.
LDA &0302,X     :\ D08E= BD 02 03    =..
PHA             :\ D091= 48          H
LDA &0303,X     :\ D092= BD 03 03    =..
BCC LD0A5       :\ D095= 90 0E       ..
.LD097
LDA &0302,X     :\ D097= BD 02 03    =..
ADC &0310,Y     :\ D09A= 79 10 03    y..
PHA             :\ D09D= 48          H
LDA &0303,X     :\ D09E= BD 03 03    =..
ADC &0311,Y     :\ D0A1= 79 11 03    y..
CLC             :\ D0A4= 18          .
.LD0A5
STA &0311,Y     :\ D0A5= 99 11 03    ...
ADC &030D,Y     :\ D0A8= 79 0D 03    y..
STA &0303,X     :\ D0AB= 9D 03 03    ...
PLA             :\ D0AE= 68          h
STA &0310,Y     :\ D0AF= 99 10 03    ...
CLC             :\ D0B2= 18          .
ADC &030C,Y     :\ D0B3= 79 0C 03    y..
STA &0302,X     :\ D0B6= 9D 02 03    ...
BCC LD0BE       :\ D0B9= 90 03       ..
INC &0303,X     :\ D0BB= FE 03 03    ~..
.LD0BE
LDA &0303,X     :\ D0BE= BD 03 03    =..
ASL A           :\ D0C1= 0A          .
ROR &0303,X     :\ D0C2= 7E 03 03    ~..
ROR &0302,X     :\ D0C5= 7E 02 03    ~..
RTS             :\ D0C8= 60          `
 
.LD0C9
LDY #&10        :\ D0C9= A0 10        .
JSR LD39F       :\ D0CB= 20 9F D3     .S
LDX #&02        :\ D0CE= A2 02       ".
LDY #&02        :\ D0D0= A0 02        .
JSR LD0E6       :\ D0D2= 20 E6 D0     fP
LDX #&00        :\ D0D5= A2 00       ".
LDY #&04        :\ D0D7= A0 04        .
LDA &0361       :\ D0D9= AD 61 03    -a.
.LD0DC
DEY             :\ D0DC= 88          .
LSR A           :\ D0DD= 4A          J
BNE LD0DC       :\ D0DE= D0 FC       P|
LDA &0356       :\ D0E0= AD 56 03    -V.
BEQ LD0E6       :\ D0E3= F0 01       p.
INY             :\ D0E5= C8          H
.LD0E6
ASL &0310,X     :\ D0E6= 1E 10 03    ...
ROL &0311,X     :\ D0E9= 3E 11 03    >..
DEY             :\ D0EC= 88          .
BNE LD0E6       :\ D0ED= D0 F7       Pw
SEC             :\ D0EF= 38          8
JSR LD0F4       :\ D0F0= 20 F4 D0     tP
INX             :\ D0F3= E8          h
.LD0F4
LDA &0310,X     :\ D0F4= BD 10 03    =..
SBC &030C,X     :\ D0F7= FD 0C 03    }..
STA &0310,X     :\ D0FA= 9D 10 03    ...
RTS             :\ D0FD= 60          `
 
.LD0FE
JSR LD324       :\ D0FE= 20 24 D3     $S
LDA &032B       :\ D101= AD 2B 03    -+.
EOR &0329       :\ D104= 4D 29 03    M).
BMI LD118       :\ D107= 30 0F       0.
LDA &032A       :\ D109= AD 2A 03    -*.
CMP &0328       :\ D10C= CD 28 03    M(.
LDA &032B       :\ D10F= AD 2B 03    -+.
SBC &0329       :\ D112= ED 29 03    m).
JMP LD12B       :\ D115= 4C 2B D1    L+Q
 
.LD118
LDA &0328       :\ D118= AD 28 03    -(.
CLC             :\ D11B= 18          .
ADC &032A       :\ D11C= 6D 2A 03    m*.
TAX             :\ D11F= AA          *
LDA &0329       :\ D120= AD 29 03    -).
ADC &032B       :\ D123= 6D 2B 03    m+.
BNE LD12B       :\ D126= D0 03       P.
TXA             :\ D128= 8A          .
BEQ LD135       :\ D129= F0 0A       p.
.LD12B
ROR A           :\ D12B= 6A          j
LDX #&00        :\ D12C= A2 00       ".
EOR &032B       :\ D12E= 4D 2B 03    M+.
BPL LD135       :\ D131= 10 02       ..
LDX #&02        :\ D133= A2 02       ".
.LD135
STX &DC         :\ D135= 86 DC       .\
LDA LC411,X     :\ D137= BD 11 C4    =.D
STA &035D       :\ D13A= 8D 5D 03    .].
LDA LC412,X     :\ D13D= BD 12 C4    =.D
STA &035E       :\ D140= 8D 5E 03    .^.
LDA &0329,X     :\ D143= BD 29 03    =).
BPL LD14C       :\ D146= 10 04       ..
LDX #&24        :\ D148= A2 24       "$
BNE LD14E       :\ D14A= D0 02       P.
.LD14C
LDX #&20        :\ D14C= A2 20       " 
.LD14E
STX &DD         :\ D14E= 86 DD       .]
LDY #&2C        :\ D150= A0 2C        ,
JSR LD3A1       :\ D152= 20 A1 D3     !S
LDA &DD         :\ D155= A5 DD       %]
EOR #&04        :\ D157= 49 04       I.
STA &DB         :\ D159= 85 DB       .[
ORA &DC         :\ D15B= 05 DC       .\
TAX             :\ D15D= AA          *
JSR LD397       :\ D15E= 20 97 D3     .S
LDA &031F       :\ D161= AD 1F 03    -..
AND #&10        :\ D164= 29 10       ).
ASL A           :\ D166= 0A          .
ASL A           :\ D167= 0A          .
ASL A           :\ D168= 0A          .
STA &D9         :\ D169= 85 D9       .Y
LDX #&2C        :\ D16B= A2 2C       ",
JSR LD020       :\ D16D= 20 20 D0      P
STA &DA         :\ D170= 85 DA       .Z
BEQ LD17A       :\ D172= F0 06       p.
LDA #&40        :\ D174= A9 40       )@
ORA &D9         :\ D176= 05 D9       .Y
STA &D9         :\ D178= 85 D9       .Y
.LD17A
LDX &DB         :\ D17A= A6 DB       &[
JSR LD020       :\ D17C= 20 20 D0      P
BIT &DA         :\ D17F= 24 DA       $Z
BEQ LD184       :\ D181= F0 01       p.
RTS             :\ D183= 60          `
 
.LD184
LDX &DC         :\ D184= A6 DC       &\
BEQ LD18A       :\ D186= F0 02       p.
LSR A           :\ D188= 4A          J
LSR A           :\ D189= 4A          J
.LD18A
AND #&02        :\ D18A= 29 02       ).
BEQ LD195       :\ D18C= F0 07       p.
TXA             :\ D18E= 8A          .
ORA #&04        :\ D18F= 09 04       ..
TAX             :\ D191= AA          *
JSR LD397       :\ D192= 20 97 D3     .S
.LD195
JSR LD343       :\ D195= 20 43 D3     CS
LDA &DC         :\ D198= A5 DC       %\
EOR #&02        :\ D19A= 49 02       I.
TAX             :\ D19C= AA          *
TAY             :\ D19D= A8          (
LDA &0329       :\ D19E= AD 29 03    -).
EOR &032B       :\ D1A1= 4D 2B 03    M+.
BPL LD1A7       :\ D1A4= 10 01       ..
INX             :\ D1A6= E8          h
.LD1A7
LDA LC415,X     :\ D1A7= BD 15 C4    =.D
STA &0332       :\ D1AA= 8D 32 03    .2.
LDA LC419,X     :\ D1AD= BD 19 C4    =.D
STA &0333       :\ D1B0= 8D 33 03    .3.
LDA #&7F        :\ D1B3= A9 7F       ).
STA &0334       :\ D1B5= 8D 34 03    .4.
BIT &D9         :\ D1B8= 24 D9       $Y
BVS LD1E5       :\ D1BA= 70 29       p)
LDA LC403,X     :\ D1BC= BD 03 C4    =.D
TAX             :\ D1BF= AA          *
SEC             :\ D1C0= 38          8
LDA &0300,X     :\ D1C1= BD 00 03    =..
SBC &032C,Y     :\ D1C4= F9 2C 03    y,.
STA &D8         :\ D1C7= 85 D8       .X
LDA &0301,X     :\ D1C9= BD 01 03    =..
SBC &032D,Y     :\ D1CC= F9 2D 03    y-.
LDY &D8         :\ D1CF= A4 D8       $X
TAX             :\ D1D1= AA          *
BPL LD1D7       :\ D1D2= 10 03       ..
JSR LD3B2       :\ D1D4= 20 B2 D3     2S
.LD1D7
TAX             :\ D1D7= AA          *
INY             :\ D1D8= C8          H
BNE LD1DC       :\ D1D9= D0 01       P.
INX             :\ D1DB= E8          h
.LD1DC
TXA             :\ D1DC= 8A          .
BEQ LD1E1       :\ D1DD= F0 02       p.
LDY #&00        :\ D1DF= A0 00        .
.LD1E1
STY &DD         :\ D1E1= 84 DD       .]
BEQ LD1EE       :\ D1E3= F0 09       p.
.LD1E5
TXA             :\ D1E5= 8A          .
LSR A           :\ D1E6= 4A          J
ROR A           :\ D1E7= 6A          j
ORA #&02        :\ D1E8= 09 02       ..
EOR &DC         :\ D1EA= 45 DC       E\
STA &DC         :\ D1EC= 85 DC       .\
.LD1EE
LDX #&2C        :\ D1EE= A2 2C       ",
JSR LD77A       :\ D1F0= 20 7A D7     zW
LDX &DA         :\ D1F3= A6 DA       &Z
BNE LD1F9       :\ D1F5= D0 02       P.
DEC &DB         :\ D1F7= C6 DB       F[
.LD1F9
DEX             :\ D1F9= CA          J
.LD1FA
LDA &D9         :\ D1FA= A5 D9       %Y
BEQ LD21D       :\ D1FC= F0 1F       p.
BPL LD210       :\ D1FE= 10 10       ..
BIT &0334       :\ D200= 2C 34 03    ,4.
BPL LD20A       :\ D203= 10 05       ..
DEC &0334       :\ D205= CE 34 03    N4.
BNE LD22D       :\ D208= D0 23       P#
.LD20A
INC &0334       :\ D20A= EE 34 03    n4.
ASL A           :\ D20D= 0A          .
BPL LD21D       :\ D20E= 10 0D       ..
.LD210
STX &DA         :\ D210= 86 DA       .Z
LDX #&2C        :\ D212= A2 2C       ",
JSR LD775       :\ D214= 20 75 D7     uW
LDX &DA         :\ D217= A6 DA       &Z
ORA #&00        :\ D219= 09 00       ..
BNE LD22D       :\ D21B= D0 10       P.
.LD21D
LDA &D1         :\ D21D= A5 D1       %Q
AND &DE         :\ D21F= 25 DE       %^
ORA (&D4),Y     :\ D221= 11 D4       .T
STA &D8         :\ D223= 85 D8       .X
LDA &DF         :\ D225= A5 DF       %_
AND &D1         :\ D227= 25 D1       %Q
EOR &D8         :\ D229= 45 D8       EX
STA (&D4),Y     :\ D22B= 91 D4       .T
.LD22D
SEC             :\ D22D= 38          8
LDA &0335       :\ D22E= AD 35 03    -5.
SBC &0337       :\ D231= ED 37 03    m7.
STA &0335       :\ D234= 8D 35 03    .5.
LDA &0336       :\ D237= AD 36 03    -6.
SBC &0338       :\ D23A= ED 38 03    m8.
BCS LD250       :\ D23D= B0 11       0.
STA &D8         :\ D23F= 85 D8       .X
LDA &0335       :\ D241= AD 35 03    -5.
ADC &0339       :\ D244= 6D 39 03    m9.
STA &0335       :\ D247= 8D 35 03    .5.
LDA &D8         :\ D24A= A5 D8       %X
ADC &033A       :\ D24C= 6D 3A 03    m:.
CLC             :\ D24F= 18          .
.LD250
STA &0336       :\ D250= 8D 36 03    .6.
PHP             :\ D253= 08          .
BCS LD25F       :\ D254= B0 09       0.
JMP (&0332)     :\ D256= 6C 32 03    l2.
 
DEY             :\ D259= 88          .
BPL LD25F       :\ D25A= 10 03       ..
JSR LD2EA       :\ D25C= 20 EA D2     jR
.LD25F
JMP (&035D)     :\ D25F= 6C 5D 03    l].
 
.LD262
INY             :\ D262= C8          H
CPY #&08        :\ D263= C0 08       @.
BNE LD25F       :\ D265= D0 F8       Px
CLC             :\ D267= 18          .
LDA &D4         :\ D268= A5 D4       %T
ADC &0352       :\ D26A= 6D 52 03    mR.
STA &D4         :\ D26D= 85 D4       .T
LDA &D5         :\ D26F= A5 D5       %U
ADC &0353       :\ D271= 6D 53 03    mS.
BPL LD27A       :\ D274= 10 04       ..
SEC             :\ D276= 38          8
SBC &0354       :\ D277= ED 54 03    mT.
.LD27A
STA &D5         :\ D27A= 85 D5       .U
LDY #&00        :\ D27C= A0 00        .
JMP (&035D)     :\ D27E= 6C 5D 03    l].
 
LSR &D1         :\ D281= 46 D1       FQ
BCC LD25F       :\ D283= 90 DA       .Z
JSR LD304       :\ D285= 20 04 D3     .S
JMP (&035D)     :\ D288= 6C 5D 03    l].
 
ASL &D1         :\ D28B= 06 D1       .Q
BCC LD25F       :\ D28D= 90 D0       .P
JSR LD314       :\ D28F= 20 14 D3     .S
JMP (&035D)     :\ D292= 6C 5D 03    l].
 
DEY             :\ D295= 88          .
BPL LD2A4       :\ D296= 10 0C       ..
JSR LD2EA       :\ D298= 20 EA D2     jR
BNE LD2A4       :\ D29B= D0 07       P.
LSR &D1         :\ D29D= 46 D1       FQ
BCC LD2A4       :\ D29F= 90 03       ..
JSR LD304       :\ D2A1= 20 04 D3     .S
.LD2A4
PLP             :\ D2A4= 28          (
INX             :\ D2A5= E8          h
BNE LD2AC       :\ D2A6= D0 04       P.
INC &DB         :\ D2A8= E6 DB       f[
BEQ LD2B6       :\ D2AA= F0 0A       p.
.LD2AC
BIT &D9         :\ D2AC= 24 D9       $Y
BVS LD2B7       :\ D2AE= 70 07       p.
BCS LD2E7       :\ D2B0= B0 35       05
DEC &DD         :\ D2B2= C6 DD       F]
BNE LD2E7       :\ D2B4= D0 31       P1
.LD2B6
RTS             :\ D2B6= 60          `
 
.LD2B7
LDA &DC         :\ D2B7= A5 DC       %\
STX &DA         :\ D2B9= 86 DA       .Z
AND #&02        :\ D2BB= 29 02       ).
TAX             :\ D2BD= AA          *
BCS LD2D9       :\ D2BE= B0 19       0.
BIT &DC         :\ D2C0= 24 DC       $\
BMI LD2CE       :\ D2C2= 30 0A       0.
INC &032C,X     :\ D2C4= FE 2C 03    ~,.
BNE LD2D9       :\ D2C7= D0 10       P.
INC &032D,X     :\ D2C9= FE 2D 03    ~-.
BCC LD2D9       :\ D2CC= 90 0B       ..
.LD2CE
LDA &032C,X     :\ D2CE= BD 2C 03    =,.
BNE LD2D6       :\ D2D1= D0 03       P.
DEC &032D,X     :\ D2D3= DE 2D 03    ^-.
.LD2D6
DEC &032C,X     :\ D2D6= DE 2C 03    ^,.
.LD2D9
TXA             :\ D2D9= 8A          .
EOR #&02        :\ D2DA= 49 02       I.
TAX             :\ D2DC= AA          *
INC &032C,X     :\ D2DD= FE 2C 03    ~,.
BNE LD2E5       :\ D2E0= D0 03       P.
INC &032D,X     :\ D2E2= FE 2D 03    ~-.
.LD2E5
LDX &DA         :\ D2E5= A6 DA       &Z
.LD2E7
JMP LD1FA       :\ D2E7= 4C FA D1    LzQ
 
.LD2EA
SEC             :\ D2EA= 38          8
LDA &D4         :\ D2EB= A5 D4       %T
SBC &0352       :\ D2ED= ED 52 03    mR.
STA &D4         :\ D2F0= 85 D4       .T
LDA &D5         :\ D2F2= A5 D5       %U
SBC &0353       :\ D2F4= ED 53 03    mS.
CMP &034E       :\ D2F7= CD 4E 03    MN.
BCS LD2FF       :\ D2FA= B0 03       0.
ADC &0354       :\ D2FC= 6D 54 03    mT.
.LD2FF
STA &D5         :\ D2FF= 85 D5       .U
LDY #&07        :\ D301= A0 07        .
RTS             :\ D303= 60          `
 
.LD304
LDA &0362       :\ D304= AD 62 03    -b.
STA &D1         :\ D307= 85 D1       .Q
LDA &D4         :\ D309= A5 D4       %T
ADC #&07        :\ D30B= 69 07       i.
STA &D4         :\ D30D= 85 D4       .T
BCC LD313       :\ D30F= 90 02       ..
INC &D5         :\ D311= E6 D5       fU
.LD313
RTS             :\ D313= 60          `
 
.LD314
LDA &0363       :\ D314= AD 63 03    -c.
STA &D1         :\ D317= 85 D1       .Q
LDA &D4         :\ D319= A5 D4       %T
BNE LD31F       :\ D31B= D0 02       P.
DEC &D5         :\ D31D= C6 D5       FU
.LD31F
SBC #&08        :\ D31F= E9 08       i.
STA &D4         :\ D321= 85 D4       .T
RTS             :\ D323= 60          `
 
.LD324
LDY #&28        :\ D324= A0 28        (
LDX #&20        :\ D326= A2 20       " 
.LD328
JSR LD32F       :\ D328= 20 2F D3     /S
INX             :\ D32B= E8          h
INX             :\ D32C= E8          h
INY             :\ D32D= C8          H
INY             :\ D32E= C8          H
.LD32F
SEC             :\ D32F= 38          8
LDA &0304,X     :\ D330= BD 04 03    =..
SBC &0300,X     :\ D333= FD 00 03    }..
STA &0300,Y     :\ D336= 99 00 03    ...
LDA &0305,X     :\ D339= BD 05 03    =..
SBC &0301,X     :\ D33C= FD 01 03    }..
STA &0301,Y     :\ D33F= 99 01 03    ...
RTS             :\ D342= 60          `
 
.LD343
LDA &DC         :\ D343= A5 DC       %\
BNE LD34E       :\ D345= D0 07       P.
LDX #&28        :\ D347= A2 28       "(
LDY #&2A        :\ D349= A0 2A        *
JSR LCD1A       :\ D34B= 20 1A CD     .M
.LD34E
LDX #&28        :\ D34E= A2 28       "(
LDY #&37        :\ D350= A0 37        7
JSR LD3A1       :\ D352= 20 A1 D3     !S
SEC             :\ D355= 38          8
LDX &DC         :\ D356= A6 DC       &\
LDA &0330       :\ D358= AD 30 03    -0.
SBC &032C,X     :\ D35B= FD 2C 03    },.
TAY             :\ D35E= A8          (
LDA &0331       :\ D35F= AD 31 03    -1.
SBC &032D,X     :\ D362= FD 2D 03    }-.
BMI LD36A       :\ D365= 30 03       0.
JSR LD3B2       :\ D367= 20 B2 D3     2S
.LD36A
STA &DB         :\ D36A= 85 DB       .[
STY &DA         :\ D36C= 84 DA       .Z
LDX #&35        :\ D36E= A2 35       "5
.LD370
JSR LD37E       :\ D370= 20 7E D3     ~S
LSR A           :\ D373= 4A          J
STA &0301,X     :\ D374= 9D 01 03    ...
TYA             :\ D377= 98          .
ROR A           :\ D378= 6A          j
STA &0300,X     :\ D379= 9D 00 03    ...
DEX             :\ D37C= CA          J
DEX             :\ D37D= CA          J
.LD37E
LDY &0304,X     :\ D37E= BC 04 03    <..
LDA &0305,X     :\ D381= BD 05 03    =..
BPL LD392       :\ D384= 10 0C       ..
JSR LD3B2       :\ D386= 20 B2 D3     2S
STA &0305,X     :\ D389= 9D 05 03    ...
PHA             :\ D38C= 48          H
TYA             :\ D38D= 98          .
STA &0304,X     :\ D38E= 9D 04 03    ...
PLA             :\ D391= 68          h
.LD392
RTS             :\ D392= 60          `
 
.LD393
LDA #&08        :\ D393= A9 08       ).
BNE LD3A3       :\ D395= D0 0C       P.
.LD397
LDY #&30        :\ D397= A0 30        0
.LD399
LDA #&02        :\ D399= A9 02       ).
BNE LD3A3       :\ D39B= D0 06       P.
.LD39D
LDY #&28        :\ D39D= A0 28        (
.LD39F
LDX #&24        :\ D39F= A2 24       "$
.LD3A1
LDA #&04        :\ D3A1= A9 04       ).
.LD3A3
STA &D8         :\ D3A3= 85 D8       .X
.LD3A5
LDA &0300,X     :\ D3A5= BD 00 03    =..
STA &0300,Y     :\ D3A8= 99 00 03    ...
INX             :\ D3AB= E8          h
INY             :\ D3AC= C8          H
DEC &D8         :\ D3AD= C6 D8       FX
BNE LD3A5       :\ D3AF= D0 F4       Pt
RTS             :\ D3B1= 60          `
 
.LD3B2
PHA             :\ D3B2= 48          H
TYA             :\ D3B3= 98          .
EOR #&FF        :\ D3B4= 49 FF       I.
TAY             :\ D3B6= A8          (
PLA             :\ D3B7= 68          h
EOR #&FF        :\ D3B8= 49 FF       I.
INY             :\ D3BA= C8          H
BNE LD3C0       :\ D3BB= D0 03       P.
CLC             :\ D3BD= 18          .
ADC #&01        :\ D3BE= 69 01       i.
.LD3C0
RTS             :\ D3C0= 60          `
 
.LD3C1
JSR LD773       :\ D3C1= 20 73 D7     sW
BNE LD3CE       :\ D3C4= D0 08       P.
LDA (&D4),Y     :\ D3C6= B1 D4       1T
EOR &035A       :\ D3C8= 4D 5A 03    MZ.
STA &D8         :\ D3CB= 85 D8       .X
RTS             :\ D3CD= 60          `
 
.LD3CE
PLA             :\ D3CE= 68          h
PLA             :\ D3CF= 68          h
.LD3D0
INC &0326       :\ D3D0= EE 26 03    n&.
JMP LD45C       :\ D3D3= 4C 5C D4    L\T
 
.LD3D6
JSR LD3C1       :\ D3D6= 20 C1 D3     AS
AND &D1         :\ D3D9= 25 D1       %Q
BNE LD3D0       :\ D3DB= D0 F3       Ps
LDX #&00        :\ D3DD= A2 00       ".
JSR LD4A8       :\ D3DF= 20 A8 D4     (T
BEQ LD411       :\ D3E2= F0 2D       p-
LDY &031A       :\ D3E4= AC 1A 03    ,..
ASL &D1         :\ D3E7= 06 D1       .Q
BCS LD3F0       :\ D3E9= B0 05       0.
JSR LD48A       :\ D3EB= 20 8A D4     .T
BCC LD411       :\ D3EE= 90 21       .!
.LD3F0
JSR LD314       :\ D3F0= 20 14 D3     .S
LDA (&D4),Y     :\ D3F3= B1 D4       1T
EOR &035A       :\ D3F5= 4D 5A 03    MZ.
STA &D8         :\ D3F8= 85 D8       .X
BNE LD40E       :\ D3FA= D0 12       P.
SEC             :\ D3FC= 38          8
TXA             :\ D3FD= 8A          .
ADC &0361       :\ D3FE= 6D 61 03    ma.
BCC LD407       :\ D401= 90 04       ..
INC &D9         :\ D403= E6 D9       fY
BPL LD40E       :\ D405= 10 07       ..
.LD407
TAX             :\ D407= AA          *
JSR LD015       :\ D408= 20 15 D0     .P
SEC             :\ D40B= 38          8
BCS LD3F0       :\ D40C= B0 E2       0b
.LD40E
JSR LD48A       :\ D40E= 20 8A D4     .T
.LD411
LDY #&00        :\ D411= A0 00        .
JSR LD4C2       :\ D413= 20 C2 D4     BT
LDY #&20        :\ D416= A0 20         
LDX #&24        :\ D418= A2 24       "$
JSR LCD22       :\ D41A= 20 22 CD     "M
.LD41D
JSR LD3C1       :\ D41D= 20 C1 D3     AS
LDX #&04        :\ D420= A2 04       ".
JSR LD4A8       :\ D422= 20 A8 D4     (T
TXA             :\ D425= 8A          .
BNE LD42A       :\ D426= D0 02       P.
DEC &D9         :\ D428= C6 D9       FY
.LD42A
DEX             :\ D42A= CA          J
.LD42B
JSR LD462       :\ D42B= 20 62 D4     bT
BCC LD457       :\ D42E= 90 27       .'
.LD430
JSR LD304       :\ D430= 20 04 D3     .S
LDA (&D4),Y     :\ D433= B1 D4       1T
EOR &035A       :\ D435= 4D 5A 03    MZ.
STA &D8         :\ D438= 85 D8       .X
LDA &DA         :\ D43A= A5 DA       %Z
BNE LD42B       :\ D43C= D0 ED       Pm
LDA &D8         :\ D43E= A5 D8       %X
BNE LD454       :\ D440= D0 12       P.
SEC             :\ D442= 38          8
TXA             :\ D443= 8A          .
ADC &0361       :\ D444= 6D 61 03    ma.
BCC LD44D       :\ D447= 90 04       ..
INC &D9         :\ D449= E6 D9       fY
BPL LD454       :\ D44B= 10 07       ..
.LD44D
TAX             :\ D44D= AA          *
JSR LD015       :\ D44E= 20 15 D0     .P
SEC             :\ D451= 38          8
BCS LD430       :\ D452= B0 DC       0\
.LD454
JSR LD462       :\ D454= 20 62 D4     bT
.LD457
LDY #&04        :\ D457= A0 04        .
JSR LD4C2       :\ D459= 20 C2 D4     BT
.LD45C
JSR LCFEA       :\ D45C= 20 EA CF     jO
JMP LD0C9       :\ D45F= 4C C9 D0    LIP
 
.LD462
LDA &D1         :\ D462= A5 D1       %Q
CLC             :\ D464= 18          .
BCC LD475       :\ D465= 90 0E       ..
.LD467
PLA             :\ D467= 68          h
INX             :\ D468= E8          h
BNE LD46F       :\ D469= D0 04       P.
INC &D9         :\ D46B= E6 D9       fY
BPL LD485       :\ D46D= 10 16       ..
.LD46F
LSR &D1         :\ D46F= 46 D1       FQ
BCS LD485       :\ D471= B0 12       0.
ORA &D1         :\ D473= 05 D1       .Q
.LD475
PHA             :\ D475= 48          H
LDA &D1         :\ D476= A5 D1       %Q
BIT &D8         :\ D478= 24 D8       $X
PHP             :\ D47A= 08          .
PLA             :\ D47B= 68          h
EOR &DA         :\ D47C= 45 DA       EZ
PHA             :\ D47E= 48          H
PLP             :\ D47F= 28          (
BEQ LD467       :\ D480= F0 E5       pe
PLA             :\ D482= 68          h
EOR &D1         :\ D483= 45 D1       EQ
.LD485
STA &D1         :\ D485= 85 D1       .Q
JMP LD001       :\ D487= 4C 01 D0    L.P
 
.LD48A
LDA #&00        :\ D48A= A9 00       ).
CLC             :\ D48C= 18          .
BCC LD499       :\ D48D= 90 0A       ..
.LD48F
INX             :\ D48F= E8          h
BNE LD496       :\ D490= D0 04       P.
INC &D9         :\ D492= E6 D9       fY
BPL LD485       :\ D494= 10 EF       .o
.LD496
ASL A           :\ D496= 0A          .
BCS LD4A4       :\ D497= B0 0B       0.
.LD499
ORA &D1         :\ D499= 05 D1       .Q
BIT &D8         :\ D49B= 24 D8       $X
BEQ LD48F       :\ D49D= F0 F0       pp
EOR &D1         :\ D49F= 45 D1       EQ
LSR A           :\ D4A1= 4A          J
BCC LD485       :\ D4A2= 90 E1       .a
.LD4A4
ROR A           :\ D4A4= 6A          j
SEC             :\ D4A5= 38          8
BCS LD485       :\ D4A6= B0 DD       0]
.LD4A8
LDA &0300,X     :\ D4A8= BD 00 03    =..
SEC             :\ D4AB= 38          8
SBC &0320       :\ D4AC= ED 20 03    m .
TAY             :\ D4AF= A8          (
LDA &0301,X     :\ D4B0= BD 01 03    =..
SBC &0321       :\ D4B3= ED 21 03    m!.
BMI LD4BB       :\ D4B6= 30 03       0.
JSR LD3B2       :\ D4B8= 20 B2 D3     2S
.LD4BB
STA &D9         :\ D4BB= 85 D9       .Y
TYA             :\ D4BD= 98          .
TAX             :\ D4BE= AA          *
ORA &D9         :\ D4BF= 05 D9       .Y
RTS             :\ D4C1= 60          `
 
.LD4C2
STY &D8         :\ D4C2= 84 D8       .X
TXA             :\ D4C4= 8A          .
TAY             :\ D4C5= A8          (
LDA &D9         :\ D4C6= A5 D9       %Y
BMI LD4CC       :\ D4C8= 30 02       0.
LDA #&00        :\ D4CA= A9 00       ).
.LD4CC
LDX &D8         :\ D4CC= A6 D8       &X
BNE LD4D3       :\ D4CE= D0 03       P.
JSR LD3B2       :\ D4D0= 20 B2 D3     2S
.LD4D3
PHA             :\ D4D3= 48          H
CLC             :\ D4D4= 18          .
TYA             :\ D4D5= 98          .
ADC &0300,X     :\ D4D6= 7D 00 03    }..
STA &0320       :\ D4D9= 8D 20 03    . .
PLA             :\ D4DC= 68          h
ADC &0301,X     :\ D4DD= 7D 01 03    }..
STA &0321       :\ D4E0= 8D 21 03    .!.
RTS             :\ D4E3= 60          `
 
LDA #&03        :\ D4E4= A9 03       ).
JSR LD4EB       :\ D4E6= 20 EB D4     kT
LDA #&07        :\ D4E9= A9 07       ).
.LD4EB
PHA             :\ D4EB= 48          H
JSR LCD1E       :\ D4EC= 20 1E CD     .M
JSR LD0C9       :\ D4EF= 20 C9 D0     IP
LDX #&03        :\ D4F2= A2 03       ".
PLA             :\ D4F4= 68          h
TAY             :\ D4F5= A8          (
.LD4F6
LDA &0310,X     :\ D4F6= BD 10 03    =..
STA (&F0),Y     :\ D4F9= 91 F0       .p
DEY             :\ D4FB= 88          .
DEX             :\ D4FC= CA          J
BPL LD4F6       :\ D4FD= 10 F7       .w
RTS             :\ D4FF= 60          `
 
.LD500
LDX #&20        :\ D500= A2 20       " 
LDY #&3E        :\ D502= A0 3E        >
JSR LD393       :\ D504= 20 93 D3     .S
JSR LD548       :\ D507= 20 48 D5     HU
LDX #&14        :\ D50A= A2 14       ".
LDY #&24        :\ D50C= A0 24        $
JSR LD54C       :\ D50E= 20 4C D5     LU
JSR LD548       :\ D511= 20 48 D5     HU
LDX #&20        :\ D514= A2 20       " 
LDY #&2A        :\ D516= A0 2A        *
JSR LD328       :\ D518= 20 28 D3     (S
LDA &032B       :\ D51B= AD 2B 03    -+.
STA &0332       :\ D51E= 8D 32 03    .2.
LDX #&28        :\ D521= A2 28       "(
JSR LD370       :\ D523= 20 70 D3     pS
LDY #&2E        :\ D526= A0 2E        .
JSR LCFEF       :\ D528= 20 EF CF     oO
JSR LCD1E       :\ D52B= 20 1E CD     .M
CLC             :\ D52E= 18          .
JSR LD56E       :\ D52F= 20 6E D5     nU
JSR LCD1E       :\ D532= 20 1E CD     .M
LDX #&20        :\ D535= A2 20       " 
JSR LCD20       :\ D537= 20 20 CD      M
SEC             :\ D53A= 38          8
JSR LD56E       :\ D53B= 20 6E D5     nU
LDX #&3E        :\ D53E= A2 3E       ">
LDY #&20        :\ D540= A0 20         
JSR LD393       :\ D542= 20 93 D3     .S
JMP LCFEA       :\ D545= 4C EA CF    LjO
 
.LD548
LDX #&20        :\ D548= A2 20       " 
LDY #&14        :\ D54A= A0 14        .
.LD54C
LDA &0302,X     :\ D54C= BD 02 03    =..
CMP &0302,Y     :\ D54F= D9 02 03    Y..
LDA &0303,X     :\ D552= BD 03 03    =..
SBC &0303,Y     :\ D555= F9 03 03    y..
BMI LD56D       :\ D558= 30 13       0.
JMP LCD22       :\ D55A= 4C 22 CD    L"M
 
LDA &0318       :\ D55D= AD 18 03    -..
SEC             :\ D560= 38          8
SBC &0308       :\ D561= ED 08 03    m..
TAX             :\ D564= AA          *
LDA &0319       :\ D565= AD 19 03    -..
SEC             :\ D568= 38          8
SBC &030B       :\ D569= ED 0B 03    m..
TAY             :\ D56C= A8          (
.LD56D
RTS             :\ D56D= 60          `
 
.LD56E
PHP             :\ D56E= 08          .
LDX #&20        :\ D56F= A2 20       " 
LDY #&35        :\ D571= A0 35        5
JSR LD328       :\ D573= 20 28 D3     (S
LDA &0336       :\ D576= AD 36 03    -6.
STA &033D       :\ D579= 8D 3D 03    .=.
LDX #&33        :\ D57C= A2 33       "3
JSR LD370       :\ D57E= 20 70 D3     pS
LDY #&39        :\ D581= A0 39        9
JSR LCFEF       :\ D583= 20 EF CF     oO
SEC             :\ D586= 38          8
LDA &0322       :\ D587= AD 22 03    -".
SBC &0326       :\ D58A= ED 26 03    m&.
STA &031B       :\ D58D= 8D 1B 03    ...
LDA &0323       :\ D590= AD 23 03    -#.
SBC &0327       :\ D593= ED 27 03    m'.
STA &031C       :\ D596= 8D 1C 03    ...
ORA &031B       :\ D599= 0D 1B 03    ...
BEQ LD5B5       :\ D59C= F0 17       p.
.LD59E
JSR LD5B8       :\ D59E= 20 B8 D5     8U
LDX #&33        :\ D5A1= A2 33       "3
JSR LD68A       :\ D5A3= 20 8A D6     .V
LDX #&28        :\ D5A6= A2 28       "(
JSR LD68A       :\ D5A8= 20 8A D6     .V
INC &031B       :\ D5AB= EE 1B 03    n..
BNE LD59E       :\ D5AE= D0 EE       Pn
INC &031C       :\ D5B0= EE 1C 03    n..
BNE LD59E       :\ D5B3= D0 E9       Pi
.LD5B5
PLP             :\ D5B5= 28          (
BCC LD56D       :\ D5B6= 90 B5       .5
.LD5B8
LDX #&39        :\ D5B8= A2 39       "9
LDY #&2E        :\ D5BA= A0 2E        .
.LD5BC
STX &DC         :\ D5BC= 86 DC       .\
LDA &0300,X     :\ D5BE= BD 00 03    =..
CMP &0300,Y     :\ D5C1= D9 00 03    Y..
LDA &0301,X     :\ D5C4= BD 01 03    =..
SBC &0301,Y     :\ D5C7= F9 01 03    y..
BMI LD5D2       :\ D5CA= 30 06       0.
TYA             :\ D5CC= 98          .
LDY &DC         :\ D5CD= A4 DC       $\
TAX             :\ D5CF= AA          *
STX &DC         :\ D5D0= 86 DC       .\
.LD5D2
STY &DD         :\ D5D2= 84 DD       .]
LDA &0300,Y     :\ D5D4= B9 00 03    9..
PHA             :\ D5D7= 48          H
LDA &0301,Y     :\ D5D8= B9 01 03    9..
PHA             :\ D5DB= 48          H
LDX &DD         :\ D5DC= A6 DD       &]
JSR LD020       :\ D5DE= 20 20 D0      P
BEQ LD5F0       :\ D5E1= F0 0D       p.
CMP #&02        :\ D5E3= C9 02       I.
BNE LD624       :\ D5E5= D0 3D       P=
LDX #&04        :\ D5E7= A2 04       ".
LDY &DD         :\ D5E9= A4 DD       $]
JSR LD399       :\ D5EB= 20 99 D3     .S
LDX &DD         :\ D5EE= A6 DD       &]
.LD5F0
JSR LD77A       :\ D5F0= 20 7A D7     zW
LDX &DC         :\ D5F3= A6 DC       &\
JSR LD020       :\ D5F5= 20 20 D0      P
LSR A           :\ D5F8= 4A          J
BNE LD624       :\ D5F9= D0 29       P)
BCC LD5FF       :\ D5FB= 90 02       ..
LDX #&00        :\ D5FD= A2 00       ".
.LD5FF
LDY &DD         :\ D5FF= A4 DD       $]
SEC             :\ D601= 38          8
LDA &0300,Y     :\ D602= B9 00 03    9..
SBC &0300,X     :\ D605= FD 00 03    }..
STA &DA         :\ D608= 85 DA       .Z
LDA &0301,Y     :\ D60A= B9 01 03    9..
SBC &0301,X     :\ D60D= FD 01 03    }..
STA &DB         :\ D610= 85 DB       .[
LDA #&00        :\ D612= A9 00       ).
.LD614
ASL A           :\ D614= 0A          .
ORA &D1         :\ D615= 05 D1       .Q
LDY &DA         :\ D617= A4 DA       $Z
BNE LD62F       :\ D619= D0 14       P.
DEC &DB         :\ D61B= C6 DB       F[
BPL LD62F       :\ D61D= 10 10       ..
STA &D1         :\ D61F= 85 D1       .Q
JSR LD001       :\ D621= 20 01 D0     .P
.LD624
LDX &DD         :\ D624= A6 DD       &]
PLA             :\ D626= 68          h
STA &0301,X     :\ D627= 9D 01 03    ...
PLA             :\ D62A= 68          h
STA &0300,X     :\ D62B= 9D 00 03    ...
RTS             :\ D62E= 60          `
 
.LD62F
DEC &DA         :\ D62F= C6 DA       FZ
TAX             :\ D631= AA          *
BPL LD614       :\ D632= 10 E0       .`
STA &D1         :\ D634= 85 D1       .Q
JSR LD001       :\ D636= 20 01 D0     .P
LDX &DA         :\ D639= A6 DA       &Z
INX             :\ D63B= E8          h
BNE LD640       :\ D63C= D0 02       P.
INC &DB         :\ D63E= E6 DB       f[
.LD640
TXA             :\ D640= 8A          .
PHA             :\ D641= 48          H
LSR &DB         :\ D642= 46 DB       F[
ROR A           :\ D644= 6A          j
LDY &0361       :\ D645= AC 61 03    ,a.
CPY #&03        :\ D648= C0 03       @.
BEQ LD651       :\ D64A= F0 05       p.
BCC LD654       :\ D64C= 90 06       ..
LSR &DB         :\ D64E= 46 DB       F[
ROR A           :\ D650= 6A          j
.LD651
LSR &DB         :\ D651= 46 DB       F[
LSR A           :\ D653= 4A          J
.LD654
LDY &031A       :\ D654= AC 1A 03    ,..
TAX             :\ D657= AA          *
BEQ LD669       :\ D658= F0 0F       p.
.LD65A
TYA             :\ D65A= 98          .
SEC             :\ D65B= 38          8
SBC #&08        :\ D65C= E9 08       i.
TAY             :\ D65E= A8          (
BCS LD663       :\ D65F= B0 02       0.
DEC &D5         :\ D661= C6 D5       FU
.LD663
JSR LD015       :\ D663= 20 15 D0     .P
DEX             :\ D666= CA          J
BNE LD65A       :\ D667= D0 F1       Pq
.LD669
PLA             :\ D669= 68          h
AND &0361       :\ D66A= 2D 61 03    -a.
BEQ LD624       :\ D66D= F0 B5       p5
TAX             :\ D66F= AA          *
LDA #&00        :\ D670= A9 00       ).
.LD672
ASL A           :\ D672= 0A          .
ORA &0363       :\ D673= 0D 63 03    .c.
DEX             :\ D676= CA          J
BNE LD672       :\ D677= D0 F9       Py
STA &D1         :\ D679= 85 D1       .Q
TYA             :\ D67B= 98          .
SEC             :\ D67C= 38          8
SBC #&08        :\ D67D= E9 08       i.
TAY             :\ D67F= A8          (
BCS LD684       :\ D680= B0 02       0.
DEC &D5         :\ D682= C6 D5       FU
.LD684
JSR LD004       :\ D684= 20 04 D0     .P
JMP LD624       :\ D687= 4C 24 D6    L$V
 
.LD68A
INC &0308,X     :\ D68A= FE 08 03    ~..
BNE LD692       :\ D68D= D0 03       P.
INC &0309,X     :\ D68F= FE 09 03    ~..
.LD692
SEC             :\ D692= 38          8
LDA &0300,X     :\ D693= BD 00 03    =..
SBC &0302,X     :\ D696= FD 02 03    }..
STA &0300,X     :\ D699= 9D 00 03    ...
LDA &0301,X     :\ D69C= BD 01 03    =..
SBC &0303,X     :\ D69F= FD 03 03    }..
STA &0301,X     :\ D6A2= 9D 01 03    ...
BPL LD6D7       :\ D6A5= 10 30       .0
.LD6A7
LDA &030A,X     :\ D6A7= BD 0A 03    =..
BMI LD6B7       :\ D6AA= 30 0B       0.
INC &0306,X     :\ D6AC= FE 06 03    ~..
BNE LD6C2       :\ D6AF= D0 11       P.
INC &0307,X     :\ D6B1= FE 07 03    ~..
JMP LD6C2       :\ D6B4= 4C C2 D6    LBV
 
.LD6B7
LDA &0306,X     :\ D6B7= BD 06 03    =..
BNE LD6BF       :\ D6BA= D0 03       P.
DEC &0307,X     :\ D6BC= DE 07 03    ^..
.LD6BF
DEC &0306,X     :\ D6BF= DE 06 03    ^..
.LD6C2
CLC             :\ D6C2= 18          .
LDA &0300,X     :\ D6C3= BD 00 03    =..
ADC &0304,X     :\ D6C6= 7D 04 03    }..
STA &0300,X     :\ D6C9= 9D 00 03    ...
LDA &0301,X     :\ D6CC= BD 01 03    =..
ADC &0305,X     :\ D6CF= 7D 05 03    }..
STA &0301,X     :\ D6D2= 9D 01 03    ...
BMI LD6A7       :\ D6D5= 30 D0       0P
.LD6D7
RTS             :\ D6D7= 60          `
 
.LD6D8
JSR LD6DE       :\ D6D8= 20 DE D6     ^V
JSR LC433       :\ D6DB= 20 33 C4     3D

\ Swap software cursor and screen data
\ ------------------------------------
.LD6DE
PHP             :\ D6DE= 08          .
SEI             :\ D6DF= 78          x
PHA             :\ D6E0= 48          H
LDA &D0         :\ D6E1= A5 D0       %P
AND #&30        :\ D6E3= 29 30       )0
BNE LD70E       :\ No cursor displayed, exit
LDA &0360       :\ D6E7= AD 60 03    -`.
STA &D8         :\ D6EA= 85 D8       .X
LDA &034B       :\ D6EC= AD 4B 03    -K.
EOR #&80        :\ D6EF= 49 80       I.
STA &034B       :\ D6F1= 8D 4B 03    .K.
LDX #&00        :\ D6F4= A2 00       ".
LDY #&07        :\ D6F6= A0 07        .
SEC             :\ D6F8= 38          8
.LD6F9
LDA (&D6),Y     :\ D6F9= B1 D6       1V
PHA             :\ D6FB= 48          H
LDA &080C,X     :\ D6FC= BD 0C 08    =..
STA (&D6),Y     :\ D6FF= 91 D6       .V
PLA             :\ D701= 68          h
STA &080C,X     :\ D702= 9D 0C 08    ...
INX             :\ D705= E8          h
TYA             :\ D706= 98          .
ADC #&07        :\ D707= 69 07       i.
TAY             :\ D709= A8          (
LSR &D8         :\ D70A= 46 D8       FX
BNE LD6F9       :\ D70C= D0 EB       Pk
.LD70E
PLA             :\ D70E= 68          h
PLP             :\ D70F= 28          (
RTS             :\ D710= 60          `
 
.LD711
JSR LD6DE       :\ D711= 20 DE D6     ^V
LDY #&07        :\ D714= A0 07        .
.LD716
STY &D8         :\ D716= 84 D8       .X
LDA #&01        :\ D718= A9 01       ).
STA &D9         :\ D71A= 85 D9       .Y
.LD71C
LDA &0362       :\ D71C= AD 62 03    -b.
STA &DA         :\ D71F= 85 DA       .Z
LDA (&D6),Y     :\ D721= B1 D6       1V
EOR &0358       :\ D723= 4D 58 03    MX.
CLC             :\ D726= 18          .
.LD727
BIT &DA         :\ D727= 24 DA       $Z
BEQ LD72C       :\ D729= F0 01       p.
SEC             :\ D72B= 38          8
.LD72C
ROL &D9         :\ D72C= 26 D9       &Y
BCS LD73A       :\ D72E= B0 0A       0.
LSR &DA         :\ D730= 46 DA       FZ
BCC LD727       :\ D732= 90 F3       .s
TYA             :\ D734= 98          .
ADC #&07        :\ D735= 69 07       i.
TAY             :\ D737= A8          (
BCC LD71C       :\ D738= 90 E2       .b
.LD73A
LDY &D8         :\ D73A= A4 D8       $X
LDA &D9         :\ D73C= A5 D9       %Y
STA &0328,Y     :\ D73E= 99 28 03    .(.
DEY             :\ D741= 88          .
BPL LD716       :\ D742= 10 D2       .R
LDX #&20        :\ D744= A2 20       " 
.LD746
TXA             :\ D746= 8A          .
PHA             :\ D747= 48          H
JSR LCF4F       :\ D748= 20 4F CF     OO
PLA             :\ D74B= 68          h
TAX             :\ D74C= AA          *
.LD74D
LDY #&07        :\ D74D= A0 07        .
.LD74F
LDA &0328,Y     :\ D74F= B9 28 03    9(.
CMP (&DC),Y     :\ D752= D1 DC       Q\
BNE LD75E       :\ D754= D0 08       P.
DEY             :\ D756= 88          .
BPL LD74F       :\ D757= 10 F6       .v
TXA             :\ D759= 8A          .
CPX #&7F        :\ D75A= E0 7F       `.
BNE LD76B       :\ D75C= D0 0D       P.
.LD75E
INX             :\ D75E= E8          h
LDA &DC         :\ D75F= A5 DC       %\
CLC             :\ D761= 18          .
ADC #&08        :\ D762= 69 08       i.
STA &DC         :\ D764= 85 DC       .\
BNE LD74D       :\ D766= D0 E5       Pe
TXA             :\ D768= 8A          .
BNE LD746       :\ D769= D0 DB       P[
.LD76B
JSR LD6DE       :\ D76B= 20 DE D6     ^V
LDY &0355       :\ D76E= AC 55 03    ,U.
TAX             :\ D771= AA          *
RTS             :\ D772= 60          `
 
.LD773
LDX #&20        :\ D773= A2 20       " 
.LD775
JSR LD020       :\ D775= 20 20 D0      P
BNE LD7E4       :\ D778= D0 6A       Pj
.LD77A
LDA &0302,X     :\ D77A= BD 02 03    =..
EOR #&FF        :\ D77D= 49 FF       I.
TAY             :\ D77F= A8          (
AND #&07        :\ D780= 29 07       ).
STA &031A       :\ D782= 8D 1A 03    ...
TYA             :\ D785= 98          .
LSR A           :\ D786= 4A          J
LSR A           :\ D787= 4A          J
LSR A           :\ D788= 4A          J
ASL A           :\ D789= 0A          .
TAY             :\ D78A= A8          (
LDA LC36D,Y     :\ D78B= B9 6D C3    9mC
STA &D8         :\ D78E= 85 D8       .X
LDA LC36E,Y     :\ D790= B9 6E C3    9nC
LDY &0356       :\ D793= AC 56 03    ,V.
BEQ LD79B       :\ D796= F0 03       p.
LSR &D8         :\ D798= 46 D8       FX
ROR A           :\ D79A= 6A          j
.LD79B
ADC &0350       :\ D79B= 6D 50 03    mP.
STA &D4         :\ D79E= 85 D4       .T
LDA &D8         :\ D7A0= A5 D8       %X
ADC &0351       :\ D7A2= 6D 51 03    mQ.
STA &D5         :\ D7A5= 85 D5       .U
LDA &0301,X     :\ D7A7= BD 01 03    =..
STA &D8         :\ D7AA= 85 D8       .X
LDA &0300,X     :\ D7AC= BD 00 03    =..
PHA             :\ D7AF= 48          H
AND &0361       :\ D7B0= 2D 61 03    -a.
ADC &0361       :\ D7B3= 6D 61 03    ma.
TAY             :\ D7B6= A8          (
LDA LC3C1,Y     :\ D7B7= B9 C1 C3    9AC
STA &D1         :\ D7BA= 85 D1       .Q
PLA             :\ D7BC= 68          h
LDY &0361       :\ D7BD= AC 61 03    ,a.
CPY #&03        :\ D7C0= C0 03       @.
BEQ LD7C9       :\ D7C2= F0 05       p.
BCS LD7CC       :\ D7C4= B0 06       0.
ASL A           :\ D7C6= 0A          .
ROL &D8         :\ D7C7= 26 D8       &X
.LD7C9
ASL A           :\ D7C9= 0A          .
ROL &D8         :\ D7CA= 26 D8       &X
.LD7CC
AND #&F8        :\ D7CC= 29 F8       )x
CLC             :\ D7CE= 18          .
ADC &D4         :\ D7CF= 65 D4       eT
STA &D4         :\ D7D1= 85 D4       .T
LDA &D8         :\ D7D3= A5 D8       %X
ADC &D5         :\ D7D5= 65 D5       eU
BPL LD7DD       :\ D7D7= 10 04       ..
SEC             :\ D7D9= 38          8
SBC &0354       :\ D7DA= ED 54 03    mT.
.LD7DD
STA &D5         :\ D7DD= 85 D5       .U
LDY &031A       :\ D7DF= AC 1A 03    ,..
.LD7E2
LDA #&00        :\ D7E2= A9 00       ).
.LD7E4
RTS             :\ D7E4= 60          `
 
.LD7E5
PHA             :\ D7E5= 48          H
LDA #&A0        :\ D7E6= A9 A0       ) 
LDX &026A       :\ D7E8= AE 6A 02    .j.
BNE LD832       :\ D7EB= D0 45       PE
BIT &D0         :\ D7ED= 24 D0       $P
BNE LD832       :\ D7EF= D0 41       PA
JSR LD6DE       :\ D7F1= 20 DE D6     ^V
BVS LD808       :\ D7F4= 70 12       p.
LDX #&18        :\ D7F6= A2 18       ".
LDY #&64        :\ D7F8= A0 64        d
JSR LD399       :\ D7FA= 20 99 D3     .S
JSR LCCC1       :\ D7FD= 20 C1 CC     AL
LDA #&02        :\ D800= A9 02       ).
JSR LC523       :\ D802= 20 23 C5     #E
ASL &035F       :\ D805= 0E 5F 03    ._.
.LD808
LDA #&BF        :\ D808= A9 BF       )?
JSR LC530       :\ D80A= 20 30 C5     0E
PLA             :\ D80D= 68          h
AND #&7F        :\ D80E= 29 7F       ).
JSR LC433       :\ D810= 20 33 C4     3D
LDA #&40        :\ D813= A9 40       )@
JSR LC523       :\ D815= 20 23 C5     #E
JMP LD6DE       :\ D818= 4C DE D6    L^V
 
.LD81B
LDA #&20        :\ D81B= A9 20       ) 
BIT &D0         :\ D81D= 24 D0       $P
BVC LD7E2       :\ D81F= 50 C1       PA
BNE LD7E2       :\ D821= D0 BF       P?
JSR LD711       :\ D823= 20 11 D7     .W
BEQ LD833       :\ D826= F0 0B       p.
PHA             :\ D828= 48          H
JSR LD6DE       :\ D829= 20 DE D6     ^V
JSR LC5E2       :\ D82C= 20 E2 C5     bE
JSR LD6DE       :\ D82F= 20 DE D6     ^V
.LD832
PLA             :\ D832= 68          h
.LD833
RTS             :\ D833= 60          `

\ OSBYTE &84 - Read top of user memory
\ ------------------------------------
.LD834
LDX &0355       :\ Get current screen MODE

\ OSBYTE &85 - Read top of user memory for specified MODE
\ -------------------------------------------------------
.LD837
TXA             :\ D837= 8A          .
AND #&07        :\ D838= 29 07       ).
TAY             :\ D83A= A8          (
LDX LC3FB,Y     :\ D83B= BE FB C3    >{C
LDA LC40B,X     :\ D83E= BD 0B C4    =.D
LDX #&00        :\ D841= A2 00       ".
TAY             :\ D843= A8          (
RTS             :\ D844= 60          `
 
\ Default page 2 contents - vectors and OSBYTE variables
\ ======================================================
.LD845
ROR &33E0,X     :\ D845= 7E E0 33    ~`3
EQUB &DB        :\ D848= DB          [
EQUB &47        :\ D849= 47          G
EQUB &DB        :\ D84A= DB          [
BIT #&DB        :\ D84B= 89 DB       .[
TRB &DD         :\ D84D= 14 DD       .]
EQUB &44        :\ D84F= 44          D
SBC &BC         :\ D850= E5 BC       e<
SBC &2D         :\ D852= E5 2D       e-
DEC LDC50,X     :\ D854= DE 50 DC    ^P\
DEC &F1,X       :\ D857= D6 F1       Vq
CPY &20F0       :\ D859= CC F0 20    Lp 
EQUB &F4        :\ D85C= F4          t
BRA LD853       :\ D85D= 80 F4       .t
 
LDX #&FF        :\ D85F= A2 FF       ".
JSR LE8F3       :\ D861= 20 F3 E8     sh
BEQ LD808       :\ D864= F0 A2       p"
EQUB &FF        :\ D866= FF          .
LDX #&FF        :\ D867= A2 FF       ".
LDX #&FF        :\ D869= A2 FF       ".
LDX #&FF        :\ D86B= A2 FF       ".
EQUB &DF        :\ D86D= DF          _
NOP             :\ D86E= EA          j
AND (&E2,X)     :\ D86F= 21 E2       !b
CMP (&E1)       :\ D871= D2 E1       Ra
EOR (&DF,X)     :\ D873= 41 DF       A_
LDX #&FF        :\ D875= A2 FF       ".
LDX #&FF        :\ D877= A2 FF       ".
LDX #&FF        :\ D879= A2 FF       ".

\ Default OSBYTE variables
BCC LD87E       :\ D87B= 90 01       ..
EQUB &9F        :\ D87D= 9F          .
.LD87E
ORA &02A0       :\ D87E= 0D A0 02    . .
EQUB &D3        :\ D881= D3          S
SBC &0300       :\ D882= ED 00 03    m..
BRK             :\ D885= 00          .
BRK             :\ D886= 00          .
EQUB &FF        :\ D887= FF          .
BRK             :\ D888= 00          .
BRK             :\ D889= 00          .
BRK             :\ D88A= 00          .
BRK             :\ D88B= 00          .
BRK             :\ D88C= 00          .
BRK             :\ D88D= 00          .
BRK             :\ D88E= 00          .
BRK             :\ D88F= 00          .
EQUB &FF        :\ D890= FF          .
TSB &04         :\ D891= 04 04       ..
BRK             :\ D893= 00          .
EQUB &FF        :\ D894= FF          .
BRK             :\ D895= 00          .
ORA &1919,Y     :\ D896= 19 19 19    ...
AND (&08)       :\ D899= 32 08       2.
BRK             :\ D89B= 00          .
BRK             :\ D89C= 00          .
BRK             :\ D89D= 00          .
BRK             :\ D89E= 00          .
BRK             :\ D89F= 00          .
EQUB &FF        :\ D8A0= FF          .
BRK             :\ D8A1= 00          .
BRK             :\ D8A2= 00          .
BRK             :\ D8A3= 00          .
BRK             :\ D8A4= 00          .
BRK             :\ D8A5= 00          .
BVC LD8A8       :\ D8A6= 50 00       P.
.LD8A8
EQUB &03        :\ D8A8= 03          .
BCC LD90F       :\ D8A9= 90 64       .d
ASL &81         :\ D8AB= 06 81       ..
BRK             :\ D8AD= 00          .
BRK             :\ D8AE= 00          .
BRK             :\ D8AF= 00          .
BRK             :\ D8B0= 00          .
EQUB &1B        :\ D8B1= 1B          .
ORA (&D0,X)     :\ D8B2= 01 D0       .P
CPX #&F0        :\ D8B4= E0 F0       `p
ORA (&01,X)     :\ D8B6= 01 01       ..
ORA (&00,X)     :\ D8B8= 01 00       ..
BRK             :\ D8BA= 00          .
BRK             :\ D8BB= 00          .
.LD8BC
EQUB &FF        :\ D8BC= FF          .
EQUB &FF        :\ D8BD= FF          .
EQUB &FF        :\ D8BE= FF          .
BRK             :\ D8BF= 00          .
BRK             :\ D8C0= 00          .
BRK             :\ D8C1= 00          .
BRK             :\ D8C2= 00          .
BRK             :\ D8C3= 00          .
BRK             :\ D8C4= 00          .
BRK             :\ D8C5= 00          .
BRK             :\ D8C6= 00          .
BRK             :\ D8C7= 00          .
ORA &FF         :\ D8C8= 05 FF       ..
BRK             :\ D8CA= 00          .
ASL A           :\ D8CB= 0A          .
BRK             :\ D8CC= 00          .
BRK             :\ D8CD= 00          .
BRK             :\ D8CE= 00          .
BRK             :\ D8CF= 00          .
BRK             :\ D8D0= 00          .
EQUB &FF        :\ D8D1= FF          .

\ RESET
\ =====
.LD8D2
LDA #&40:STA &0D00    :\ Put RTI in NMI code space
SEI:CLD               :\ Disable IRQs, put in Decimal mode
LDX #&FF:TXS          :\ Reset stack
INX                   :\ X=&00
STX &FE00             :\ 
STX &028D             :\ Set Last Break Type to &00=SoftBreak
LDA #&F8:STA LFE05    :\
LDA LFE00:AND #&02    :\ Read PowerOn flag from ULA
EOR #&02:PHA          :\ Save PowerOn flag
BEQ LD8FB             :\ If PowerOn, jump to clear memory

\ Not PowerOn, check BreakAction flags
LDA &0258             :\ Get BreakAction from *FX200
LSR A                 :\ Divide by 2
CMP #&01:BNE LD912    :\ Not *FX200,2 or *FX200,3, skip past
LSR A                 :\ Divide by 2 again to give A=0

\ Clear memory if PowerOn or *FX200,2/3
.LD8FB
LDX #&04:STX &01      :\ Start at page 4
STA &00               :\ (&00/1)=&0400
TAY                   :\ Y=0
.LD902
STA (&00),Y           :\ Clear memory
INY:BNE LD902         :\ Loop for 256 bytes
INY                   :\ Step from &00 to &01 to skip &0D00
INC &01:BPL LD902     :\ Loop until (&00/1)=&8000
STA &028E             :\ MaxMemSize=&00
STX &0284             :\ Set soft keys as inconsistant

.LD912
LDX #&3A:JSR LEC1E  :\ Scan for key &3A - CTRL
PHP             :\ D917= 08          .
PLA             :\ D918= 68          h
ASL A           :\ D919= 0A          .
LDX #&9B        :\ D91A= A2 9B       ".
LDY #&8D        :\ D91C= A0 8D        .
PLA             :\ D91E= 68          h
BEQ LD92A       :\ D91F= F0 09       p.
LDY #&7E        :\ D921= A0 7E        ~
BCC LD934       :\ D923= 90 0F       ..
LDY #&87        :\ D925= A0 87        .
INC &028D       :\ D927= EE 8D 02    n..
.LD92A
INC &028D       :\ D92A= EE 8D 02    n..
LDA #&FF        :\ D92D= A9 FF       ).
STA &028F       :\ D92F= 8D 8F 02    ...
LDX #&90        :\ D932= A2 90       ".
.LD934
LDA #&00        :\ D934= A9 00       ).
.LD936
CPX #&C3        :\ D936= E0 C3       `C
BCC LD93C       :\ D938= 90 02       ..
LDA #&FF        :\ D93A= A9 FF       ).
.LD93C
STA &0200,X     :\ D93C= 9D 00 02    ...
INX             :\ D93F= E8          h
BNE LD936       :\ D940= D0 F4       Pt
STX &02F7       :\ D942= 8E F7 02    .w.
TXA             :\ D945= 8A          .
LDX #&E2        :\ D946= A2 E2       "b
.LD948
STA &00,X       :\ D948= 95 00       ..
INX             :\ D94A= E8          h
BNE LD948       :\ D94B= D0 FB       P{

.LD94D
LDA LD845-1,Y:STA &0200-1,Y  :\ Set up vectors
DEY:BNE LD94D
LDA #&07        :\ D956= A9 07       ).
STA &ED         :\ D958= 85 ED       .m
STY &FC         :\ D95A= 84 FC       .|
CLI             :\ D95C= 58          X
SEI             :\ D95D= 78          x
LDA &FC         :\ D95E= A5 FC       %|
BEQ LD965       :\ D960= F0 03       p.
JSR LEEC2       :\ D962= 20 C2 EE     Bn
.LD965
LDA &028F       :\ Get startup options
JSR LDADA       :\ Convert mode number into ULA mode setting
ORA #&84        :\ D96B= 09 84       ..
STA &0282       :\ D96D= 8D 82 02    ...
STA LFE07       :\ D970= 8D 07 FE    ..~
STA LFE04       :\ D973= 8D 04 FE    ..~
LDX #&0C        :\ D976= A2 0C       ".
STX &025B       :\ D978= 8E 5B 02    .[.
STX LFE00       :\ D97B= 8E 00 FE    ..~
JSR LE976       :\ D97E= 20 76 E9     vi
LDX &0284       :\ D981= AE 84 02    ...
BEQ LD989       :\ D984= F0 03       p.
JSR LE7C0       :\ D986= 20 C0 E7     @g
.LD989

\ Check sideways ROMs and build ROM table
LDX #&00        :\ Start at ROM 0
.LD98B
JSR LE39F       :\ Page in ROM X
LDX #&03        :\ 3+1 bytes to check
LDY &8007       :\ Get offset to (C) string
.LD993
LDA &8000,Y     :\ Get byte from ROM
CMP LDC97,X     :\ Compare with '(C)'
BNE LD9CF       :\ No match, jump to skip this ROM
INY             :\ Step to next byte to check
DEX:BPL LD993   :\ Loop to check four bytes

\ Check if this is a duplicate of a higher ROM
LDX &F4         :\ D99F= A6 F4       &t
TXA             :\ D9A1= 8A          .
TAY             :\ D9A2= A8          (
.LD9A3
INY             :\ D9A3= C8          H
CPY #&10        :\ D9A4= C0 10       @.
BCS LD9D3       :\ D9A6= B0 2B       0+
TYA             :\ D9A8= 98          .
EOR #&FF        :\ D9A9= 49 FF       I.
STA &FA         :\ D9AB= 85 FA       .z
LDA #&7F        :\ D9AD= A9 7F       ).
STA &FB         :\ D9AF= 85 FB       .{
.LD9B1
JSR LE3A9       :\ D9B1= 20 A9 E3     )c
STY LFE05       :\ D9B4= 8C 05 FE    ..~
LDA (&FA),Y     :\ D9B7= B1 FA       1z
JSR LE3A9       :\ D9B9= 20 A9 E3     )c
STX LFE05       :\ D9BC= 8E 05 FE    ..~
CMP (&FA),Y     :\ D9BF= D1 FA       Qz
BNE LD9A3       :\ D9C1= D0 E0       P`
INC &FA         :\ D9C3= E6 FA       fz
BNE LD9B1       :\ D9C5= D0 EA       Pj
INC &FB         :\ D9C7= E6 FB       f{
LDA &FB         :\ D9C9= A5 FB       %{
CMP #&84        :\ D9CB= C9 84       I.
BCC LD9B1       :\ D9CD= 90 E2       .b
.LD9CF
LDX &F4         :\ D9CF= A6 F4       &t
BPL LD9E0       :\ D9D1= 10 0D       ..

\ This ROM is not a duplicate
.LD9D3
LDA &8006:STA &02A0,X  :\ Store ROM type in ROM table
AND #&8F               :\ Check if b7=0 and b3-b0=0
BNE LD9E0              :\ If not 6502 BASIC, skip past
STX &024B              :\ Store as BASIC
.LD9E0
INX                    :\ Step to next ROM
CPX #&10:BCC LD98B     :\ Loop until all 16 ROMs done

LDA &028F              :\ Get startup options
JSR LC300              :\ Use it to select screen mode
LDY #&CA:JSR LE25F     :\ Enter f10 into keyboard buffer
JSR LE87B              :\ Check Break Intercept Vector
JSR LF08B              :\ Set up casette options
LDA #&81:STA LFCE0     :\ Write &81 to Tube control
LDA LFCE0              :\ Read back from Tube control
ROR A:BCC LDA16        :\ Bit 0 didn't remain set, no Tube
LDA #&01:STA LFCE0     :\ Write &01 to Tube control
LDA LFCE0              :\ Read back from Tube control
ROR A:BCS LDA16        :\ Bit 0 didn't remain clear, no Tube
LDX #&FF:JSR LF0A8     :\ Service call &FF - Tube PreInit
BNE LDA16              :\ No response, no Tube support, skip past
DEC &027A              :\ Set TubePresent to &FF=Present

.LDA16
LDY #&0E               :\ Initial value for OSHWM (PAGE)
LDX #&01:JSR LF0A8     :\ Service call &01 - claim shared workspace
LDX #&02:JSR LF0A8     :\ Service call &02 - claim private workspace
STY &0243              :\ Set primary OSHWM
STY &0244              :\ Set current OSHWM (PAGE)
LDX #&FE               :\ Service call &FE - Tube PostInit
LDY &027A              :\ Y=TubePresent flag
JSR LF0A8              :\ Send service call
AND &0267:BPL LDA52    :\ If claimed or banner supressed, skip past

\ Print startup banner
LDY #&02:JSR LDC34     :\ Print 'Acorn Electron' message
LDA &028D:BEQ LDA4D    :\ Soft Break, skip past
LDA #&07:JSR OSWRCH    :\ Beep
JSR LD6DE              :\ Store software cursor
JSR LCED5              :\ Copy Electron Acorn bitmap to cursor store
JSR LD6DE              :\ Restore software cursor to draw the Acorn bitmap
.LDA4D
LDY #&13:JSR LDC34     :\ Print Newlines
.LDA52
SEC:JSR LE87B          :\ Call Break Intercept Vector
JSR LE7D1              :\ Get Shift key state
PHP:PLA                :\ Copy flags into A
LSR A:LSR A:LSR A:LSR A:\ Move Sift key state into bit 3
EOR &028F:AND #&08     :\ Toggle with startup options
TAY                    :\ Y=Boot option (Shift EOR Startup)
LDX #&03:JSR LF0A8     :\ Service call 3, boot filing system
BEQ LDA88              :\ Claimed, skip past checking ROMFS
TYA:BNE LDA83          :\ Shift not pressed, don't boot ROMFS
LDA #&8D:JSR LE7A5     :\ Select ROMFS
LDX #LF009 AND 255     :\ Point to "/!BOOT"
LDY #LF009 DIV 256
DEC &0267              :\ Set 'errors return to Reset handler' 
JSR OS_CLI             :\ Do */!BOOT
INC &0267              :\ Clear 'error return to Reset handler'
BNE LDA88

\ If ROMFS */!BOOT causes an error, it jumps back to here
.LDA83
LDA #&00:JSR LE7A7     :\ Select TAPEFS

Look for default language
.LDA88
LDA &028D:BNE LDA92    :\ Not Soft Break, find default language
LDX &028C:BPL LDAB0    :\ Use current language if b7=0
.LDA92
LDX #&0F               :\ Start at ROM 15 to find a default language
.LDA94
LDA &02A0,X            :\ Get ROM type byte
ROL A:BMI LDAB0        :\ If b6 set, use it
DEX:BPL LDA94          :\ Loop through all ROMs
LDA #&00
BIT &027A:BMI LDAD7    :\ If Tube present, enter Tube with A=&00
BRK                    :\ No Tube, error 'No language'
EQUB &F9
EQUS "Language?"
BRK

\ ===========================================
\ ENTER LANGUAGE ROM
\ X=ROM number
\ Cy=0 - entered at RESET
\ Cy=1 - entered from OSBYTE 142
\ ===========================================
.LDAB0
CLC                   :\ CLC=Entering from RESET
.LDAB1
PHP                   :\ Save Carry flag
STX &028C             :\ Save as Current Language
JSR LE39F             :\ Page in this ROM
LDA #&80:LDY #&08     :\ Prepare to print from &8008
JSR LDC36             :\ Display ROM title at &8008
STY &FD               :\ Store offset to end of title as last error message
JSR OSNEWL:JSR OSNEWL :\ Print two newlines
LDA #&00:STA &025D
PLP                   :\ Get RESET/OSBYTE flag back
LDA #&01              :\ A=&01 for language entry
BIT &027A:BMI LDAD7   :\ If Tube present, enter Tube code
JMP &8000             :\ Enter ROM language entry
.LDAD7
JMP &0400             :\ Enter Tube code to start language

\ Convert MODE number into table offset
\ On entry, A=mode
\ On exit,  X=validated mode number 0-6
\           A=validated mode number * 8
.LDADA
AND #&07        :\ DADA= 29 07       ).
CMP #&07        :\ DADC= C9 07       I.
BCC LDAE2       :\ DADE= 90 02       ..
LDA #&06        :\ DAE0= A9 06       ).
.LDAE2
TAX             :\ DAE2= AA          *
ASL A           :\ DAE3= 0A          .
ASL A           :\ DAE4= 0A          .
ASL A           :\ DAE5= 0A          .
RTS             :\ DAE6= 60          `

\ IRQ Handler
\ ===========
.LDAE7
STA &FC              :\ Save A in IRQ store
PLA:PHA              :\ Get flags from stack
AND #&10:BNE LDB06   :\ If BRK jump to BRK handler
JMP (&0204)          :\ Pass on to IRQ1V

\ OSRDRM - read byte from sideways ROM
\ ------------------------------------
.LDAF2
LDX &F4              :\ Save current ROM in X
STY &F4              :\ Select ROM Y
JSR LE3A9            :\ Electron paging mechanism
STY LFE05            :\ Page in ROM Y
LDY #&00:LDA (&F6),Y :\ Get byte pointed to by &F6/7
.LDB00
PHA:JSR LE39F:PLA    :\ Page ROM X back in
.LDB05
RTS

\ BRK handler
\ -----------
.LDB06
TXA:PHA              :\ Save X
TSX:LDA &0103,X      :\ Get stacked address of BRK
CLD                  :\ Ensure operating in binary
SEC:SBC #&01:STA &FD :\ Subtract 1 from address so that
LDA &0104,X          :\ FAULT at &FD/E points to error block
SBC #&00:STA &FE
STX &F0              :\ &F0=stack pointer when BRK occured
LDX #&06:JSR LF0A8   :\ Issue service call 6 - BRK occured
LDA &F4:STA &024A    :\ Save ROM that was paged in at BRK
LDX &028C:JSR LDB00  :\ Get current language ROM and page it in
PLA:TAX:LDA &FC:CLI  :\ Restore X and A, enable IRQs
JMP (&0202)          :\ Pass on to BRKV error handler

.LDB33
LDY #&00        :\ DB33= A0 00        .
JSR LDC3C       :\ DB35= 20 3C DC     <\
LDA &0267       :\ DB38= AD 67 02    -g.
ROR A           :\ DB3B= 6A          j
.LDB3C
BCS LDB3C       :\ DB3C= B0 FE       0~
JSR OSNEWL      :\ DB3E= 20 E7 FF     g.
JSR OSNEWL      :\ DB41= 20 E7 FF     g.
JMP LDA83       :\ DB44= 4C 83 DA    L.Z

.LDB47
CLD             :\ DB47= D8          X
LDA &FC         :\ DB48= A5 FC       %|
PHA             :\ DB4A= 48          H
TXA             :\ DB4B= 8A          .
PHA             :\ DB4C= 48          H
TYA             :\ DB4D= 98          .
PHA             :\ DB4E= 48          H
LDA #&DB        :\ DB4F= A9 DB       )[
PHA             :\ DB51= 48          H
LDA #&81        :\ DB52= A9 81       ).
PHA             :\ DB54= 48          H
LDY LFE00       :\ DB55= AC 00 FE    ,.~
TYA             :\ DB58= 98          .
LSR A           :\ DB59= 4A          J
BCC LDB6F       :\ DB5A= 90 13       ..
TYA             :\ DB5C= 98          .
AND &025B       :\ DB5D= 2D 5B 02    -[.
AND #&FE        :\ DB60= 29 FE       )~
TAX             :\ DB62= AA          *
AND #&0C        :\ DB63= 29 0C       ).
BIT &25         :\ DB65= 24 25       $%
TXA             :\ DB67= 8A          .
AND #&70        :\ DB68= 29 70       )p
BEQ LDB8C       :\ DB6A= F0 20       p 
JMP LF4DF       :\ DB6C= 4C DF F4    L_t
 
.LDB6F
LDX #&05:JSR LF0A8       :\ Issue service call 5 - IRQ occured
BEQ LDB05                :\ If claimed, exit
PLA:PLA                  :\ Drop caller address
PLA:TAY:PLA:TAX          :\ Restore Y and X
PLA:STA &FC              :\ Restore A and A store
JMP (&0206)              :\ Pass on to IRQ2V

.LDB82
PLA:TAY:PLA:TAX          :\ Restore Y and X
PLA:STA &FC              :\ Restore A and IRQ store
LDA &FC                  :\ Restore A from IRQ store
RTI                      :\ Return from IRQ
 
.LDB8C
TXA             :\ DB8C= 8A          .
LDY #&20        :\ DB8D= A0 20         
AND #&08        :\ DB8F= 29 08       ).
BNE LDBC5       :\ DB91= D0 32       P2
TXA             :\ DB93= 8A          .
AND #&04        :\ DB94= 29 04       ).
BEQ LDB6F       :\ DB96= F0 D7       pW
JSR LC98E       :\ DB98= 20 8E C9     .I
LDA &0251       :\ DB9B= AD 51 02    -Q.
BEQ LDBBB       :\ DB9E= F0 1B       p.
DEC &0251       :\ DBA0= CE 51 02    NQ.
BNE LDBBB       :\ DBA3= D0 16       P.
LDX &0252       :\ DBA5= AE 52 02    .R.
LDA &0248       :\ DBA8= AD 48 02    -H.
BEQ LDBB0       :\ DBAB= F0 03       p.
LDX &0253       :\ DBAD= AE 53 02    .S.
.LDBB0
EOR #&07        :\ DBB0= 49 07       I.
STA &0248       :\ DBB2= 8D 48 02    .H.
STX &0251       :\ DBB5= 8E 51 02    .Q.
JSR LC8A3       :\ DBB8= 20 A3 C8     #H
.LDBBB
LDY #&04        :\ DBBB= A0 04        .
JSR LE202       :\ DBBD= 20 02 E2     .b
DEC &0240       :\ DBC0= CE 40 02    N@.
LDY #&10        :\ DBC3= A0 10        .
.LDBC5
STY LFE05       :\ DBC5= 8C 05 FE    ..~
LDA &0283       :\ DBC8= AD 83 02    -..
TAX             :\ DBCB= AA          *
EOR #&0F        :\ DBCC= 49 0F       I.
PHA             :\ DBCE= 48          H
TAY             :\ DBCF= A8          (
SEC             :\ DBD0= 38          8
.LDBD1
LDA &0290,X     :\ DBD1= BD 90 02    =..
ADC #&00        :\ DBD4= 69 00       i.
STA &0290,Y     :\ DBD6= 99 90 02    ...
DEX             :\ DBD9= CA          J
BEQ LDBDF       :\ DBDA= F0 03       p.
DEY             :\ DBDC= 88          .
BNE LDBD1       :\ DBDD= D0 F2       Pr
.LDBDF
PLA             :\ DBDF= 68          h
STA &0283       :\ DBE0= 8D 83 02    ...
LDX #&05        :\ DBE3= A2 05       ".
.LDBE5
INC &029A,X     :\ DBE5= FE 9A 02    ~..
BNE LDBF2       :\ DBE8= D0 08       P.
DEX             :\ DBEA= CA          J
BNE LDBE5       :\ DBEB= D0 F8       Px
LDY #&05        :\ DBED= A0 05        .
JSR LE202       :\ DBEF= 20 02 E2     .b
.LDBF2
LDA &02B0       :\ DBF2= AD B0 02    -0.
BNE LDBFF       :\ DBF5= D0 08       P.
LDA &02B1       :\ DBF7= AD B1 02    -1.
BEQ LDC02       :\ DBFA= F0 06       p.
DEC &02B1       :\ DBFC= CE B1 02    N1.
.LDBFF
DEC &02B0       :\ DBFF= CE B0 02    N0.
.LDC02
BIT &0278       :\ DC02= 2C 78 02    ,x.
BPL LDC12       :\ DC05= 10 0B       ..
INC &0278       :\ DC07= EE 78 02    nx.
CLI             :\ DC0A= 58          X
JSR LE893       :\ DC0B= 20 93 E8     .h
SEI             :\ DC0E= 78          x
DEC &0278       :\ DC0F= CE 78 02    Nx.
.LDC12
LDA &0242       :\ DC12= AD 42 02    -B.
BEQ LDC22       :\ DC15= F0 0B       p.
LDA &EC         :\ DC17= A5 EC       %l
ORA &ED         :\ DC19= 05 ED       .m
CLC             :\ DC1B= 18          .
BEQ LDC1F       :\ DC1C= F0 01       p.
SEC             :\ DC1E= 38          8
.LDC1F
JSR LEC49       :\ DC1F= 20 49 EC     Il
.LDC22
LDY &0249       :\ DC22= AC 49 02    ,I.
BEQ LDC2C       :\ DC25= F0 05       p.
LDX #&15        :\ DC27= A2 15       ".
JSR LF0A8       :\ DC29= 20 A8 F0     (p
.LDC2C
BIT &02C6       :\ DC2C= 2C C6 02    ,F.
BMI LDC45       :\ DC2F= 30 14       0.
JMP LDEF9       :\ DC31= 4C F9 DE    Ly^
 
.LDC34
LDA #&C3        :\ DC34= A9 C3       )C
.LDC36
STA &FE         :\ DC36= 85 FE       .~
LDA #&00        :\ DC38= A9 00       ).
STA &FD         :\ DC3A= 85 FD       .}
.LDC3C
INY             :\ DC3C= C8          H
LDA (&FD),Y     :\ DC3D= B1 FD       1}
JSR OSASCI      :\ DC3F= 20 E3 FF     c.
TAX             :\ DC42= AA          *
BNE LDC3C       :\ DC43= D0 F7       Pw
.LDC45
RTS             :\ DC45= 60          `
 
.LDC46
STX &02B0       :\ DC46= 8E B0 02    .0.
STY &02B1       :\ DC49= 8C B1 02    .1.
LDA #&FF        :\ DC4C= A9 FF       ).
BNE LDC52       :\ DC4E= D0 02       P.
.LDC50
LDA #&00        :\ DC50= A9 00       ).
.LDC52
STA &E6         :\ DC52= 85 E6       .f
TXA             :\ DC54= 8A          .
PHA             :\ DC55= 48          H
TYA             :\ DC56= 98          .
PHA             :\ DC57= 48          H
LDY &0256       :\ DC58= AC 56 02    ,V.
BEQ LDC71       :\ DC5B= F0 14       p.
SEC             :\ DC5D= 38          8
ROR &EB         :\ DC5E= 66 EB       fk
JSR OSBGET      :\ DC60= 20 D7 FF     W.
PHP             :\ DC63= 08          .
LSR &EB         :\ DC64= 46 EB       Fk
PLP             :\ DC66= 28          (
BCC LDC8E       :\ DC67= 90 25       .%
LDA #&00        :\ DC69= A9 00       ).
STA &0256       :\ DC6B= 8D 56 02    .V.
JSR OSFIND      :\ DC6E= 20 CE FF     N.
.LDC71
BIT &FF         :\ DC71= 24 FF       $.
BMI LDC8B       :\ DC73= 30 16       0.
LDX &0241       :\ DC75= AE 41 02    .A.
JSR LE32E       :\ DC78= 20 2E E3     .c
BCC LDC8E       :\ DC7B= 90 11       ..
BIT &E6         :\ DC7D= 24 E6       $f
BVC LDC71       :\ DC7F= 50 F0       Pp
LDA &02B0       :\ DC81= AD B0 02    -0.
ORA &02B1       :\ DC84= 0D B1 02    .1.
BNE LDC71       :\ DC87= D0 E8       Ph
BCS LDC90       :\ DC89= B0 05       0.
.LDC8B
SEC             :\ DC8B= 38          8
LDA #&1B        :\ DC8C= A9 1B       ).
.LDC8E
STA &E6         :\ DC8E= 85 E6       .f
.LDC90
PLA             :\ DC90= 68          h
TAY             :\ DC91= A8          (
PLA             :\ DC92= 68          h
TAX             :\ DC93= AA          *
LDA &E6         :\ DC94= A5 E6       %f
RTS             :\ DC96= 60          `
 
.LDC97
EQUS ")C(":EQUB 0 ;\ Copyright match string

.LDC9B
EQUS "."        :EQUB LDDBA DIV 256:EQUB LDDBA AND 255:EQUB &05 :\
EQUS "FX"       :EQUB LE0B0 DIV 256:EQUB LE0B0 AND 255:EQUB &FF :\ XY=>parameters
EQUS "BASIC"    :EQUB LDDA1 DIV 256:EQUB LDDA1 AND 255:EQUB &00 :\
EQUS "CAT"      :EQUB LDDBA DIV 256:EQUB LDDBA AND 255:EQUB &05 :\ XY=>parameters, FSC &05
EQUS "CODE"     :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &88 :\ X,Y=parameters, OSBYTE &88
EQUS "EXEC"     :EQUB LF5EA DIV 256:EQUB LF5EA AND 255:EQUB &00 :\
EQUS "HELP"     :EQUB LEED5 DIV 256:EQUB LEED5 AND 255:EQUB &FF :\ XY=>parameters
EQUS "KEY"      :EQUB LE095 DIV 256:EQUB LE095 AND 255:EQUB &FF :\ XY=>parameters
EQUS "LOAD"     :EQUB LDFAA DIV 256:EQUB LDFAA AND 255:EQUB &00 :\
EQUS "LINE"     :EQUB LE461 DIV 256:EQUB LE461 AND 255:EQUB &01 :\
EQUS "MOTOR"    :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &89 :\ X,Y=parameters, OSBYTE &89
EQUS "OPT"      :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &8B :\ X,Y=parameters, OSBYTE &8B
EQUS "RUN"      :EQUB LDDBA DIV 256:EQUB LDDBA AND 255:EQUB &04 :\ XY=>parameters, FSC &04
EQUS "ROM"      :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &8D :\ X,Y=parameters, OSBYTE &8D
EQUS "SAVE"     :EQUB LDFAC DIV 256:EQUB LDFAC AND 255:EQUB &00 :\
EQUS "SPOOL"    :EQUB LDFEF DIV 256:EQUB LDFEF AND 255:EQUB &00 :\
EQUS "TAPE"     :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &8C :\ X,Y=parameters, OSBYTE &8C
EQUS "TV"       :EQUB LE0B6 DIV 256:EQUB LE0B6 AND 255:EQUB &90 :\ X,Y=parameters, OSBYTE &90
EQUS ""         :EQUB LDDBA DIV 256:EQUB LDDBA AND 255:EQUB &03 :\ FSC &03
EQUB &00

.LDD14
STX &F2         :\ DD14= 86 F2       .r
STY &F3         :\ DD16= 84 F3       .s
LDA #&08        :\ DD18= A9 08       ).
JSR LDDBA       :\ DD1A= 20 BA DD     :]
LDY #&00        :\ DD1D= A0 00        .
.LDD1F
LDA (&F2),Y     :\ DD1F= B1 F2       1r
CMP #&0D        :\ DD21= C9 0D       I.
BEQ LDD29       :\ DD23= F0 04       p.
INY             :\ DD25= C8          H
BNE LDD1F       :\ DD26= D0 F7       Pw
RTS             :\ DD28= 60          `
 
.LDD29
LDY #&FF        :\ DD29= A0 FF        .
.LDD2B
JSR LDDC2       :\ DD2B= 20 C2 DD     B]
BEQ LDDA0       :\ DD2E= F0 70       pp
CMP #&2A        :\ DD30= C9 2A       I*
BEQ LDD2B       :\ DD32= F0 F7       pw
JSR LDDC3       :\ DD34= 20 C3 DD     C]
BEQ LDDA0       :\ DD37= F0 67       pg
CMP #&7C        :\ DD39= C9 7C       I|
BEQ LDDA0       :\ DD3B= F0 63       pc
CMP #&2F        :\ DD3D= C9 2F       I/
BNE LDD49       :\ DD3F= D0 08       P.
INY             :\ DD41= C8          H
JSR LDD92       :\ DD42= 20 92 DD     .]
LDA #&02        :\ DD45= A9 02       ).
BNE LDDBA       :\ DD47= D0 71       Pq
.LDD49
STY &E6         :\ DD49= 84 E6       .f
LDX #&00        :\ DD4B= A2 00       ".
BEQ LDD62       :\ DD4D= F0 13       p.
.LDD4F
EOR LDC9B,X     :\ DD4F= 5D 9B DC    ].\
AND #&DF        :\ DD52= 29 DF       )_
BNE LDD6D       :\ DD54= D0 17       P.
INY             :\ DD56= C8          H
CLC             :\ DD57= 18          .
.LDD58
BCS LDD7D       :\ DD58= B0 23       0#
INX             :\ DD5A= E8          h
LDA (&F2),Y     :\ DD5B= B1 F2       1r
JSR LE251       :\ DD5D= 20 51 E2     Qb
BCC LDD4F       :\ DD60= 90 ED       .m
.LDD62
LDA LDC9B,X     :\ DD62= BD 9B DC    =.\
BMI LDD7F       :\ DD65= 30 18       0.
LDA (&F2),Y     :\ DD67= B1 F2       1r
CMP #&2E        :\ DD69= C9 2E       I.
BEQ LDD71       :\ DD6B= F0 04       p.
.LDD6D
CLC             :\ DD6D= 18          .
LDY &E6         :\ DD6E= A4 E6       $f
DEY             :\ DD70= 88          .
.LDD71
INY             :\ DD71= C8          H
INX             :\ DD72= E8          h
.LDD73
INX             :\ DD73= E8          h
LDA LDC99,X     :\ DD74= BD 99 DC    =.\
BEQ LDDAA       :\ DD77= F0 31       p1
BPL LDD73       :\ DD79= 10 F8       .x
BMI LDD58       :\ DD7B= 30 DB       0[
.LDD7D
DEX             :\ DD7D= CA          J
DEX             :\ DD7E= CA          J
.LDD7F
PHA             :\ DD7F= 48          H
LDA LDC9C,X     :\ DD80= BD 9C DC    =.\
PHA             :\ DD83= 48          H
JSR LDDC3       :\ DD84= 20 C3 DD     C]
CLC             :\ DD87= 18          .
PHP             :\ DD88= 08          .
JSR LDD8D       :\ DD89= 20 8D DD     .]
RTI             :\ DD8C= 40          @
 
.LDD8D
LDA LDC9D,X     :\ DD8D= BD 9D DC    =.\
BMI LDDA0       :\ DD90= 30 0E       0.
.LDD92
TYA             :\ DD92= 98          .
LDY LDC9D,X     :\ DD93= BC 9D DC    <.\
.LDD96
CLC             :\ DD96= 18          .
ADC &F2         :\ DD97= 65 F2       er
TAX             :\ DD99= AA          *
TYA             :\ DD9A= 98          .
LDY &F3         :\ DD9B= A4 F3       $s
BCC LDDA0       :\ DD9D= 90 01       ..
INY             :\ DD9F= C8          H
.LDDA0
RTS             :\ DDA0= 60          `
 
LDX &024B       :\ DDA1= AE 4B 02    .K.
BMI LDDAA       :\ DDA4= 30 04       0.
SEC             :\ DDA6= 38          8
JMP LDAB1       :\ DDA7= 4C B1 DA    L1Z
 
.LDDAA
LDY &E6         :\ DDAA= A4 E6       $f
LDX #&04        :\ DDAC= A2 04       ".
JSR LF0A8       :\ DDAE= 20 A8 F0     (p
BEQ LDDA0       :\ DDB1= F0 ED       pm
LDA &E6         :\ DDB3= A5 E6       %f
JSR LDD96       :\ DDB5= 20 96 DD     .]
LDA #&03        :\ DDB8= A9 03       ).
.LDDBA
JMP (&021E)     :\ DDBA= 6C 1E 02    l..
 
ASL A           :\ DDBD= 0A          .
AND #&01        :\ DDBE= 29 01       ).
BPL LDDBA       :\ DDC0= 10 F8       .x
.LDDC2
INY             :\ DDC2= C8          H
.LDDC3
LDA (&F2),Y     :\ DDC3= B1 F2       1r
CMP #&20        :\ DDC5= C9 20       I 
BEQ LDDC2       :\ DDC7= F0 F9       py
.LDDC9
CMP #&0D        :\ DDC9= C9 0D       I.
RTS             :\ DDCB= 60          `
 
.LDDCC
BCC LDDC3       :\ DDCC= 90 F5       .u
.LDDCE
JSR LDDC3       :\ DDCE= 20 C3 DD     C]
CMP #&2C        :\ DDD1= C9 2C       I,
BNE LDDC9       :\ DDD3= D0 F4       Pt
INY             :\ DDD5= C8          H
RTS             :\ DDD6= 60          `
 
.LDDD7
JSR LDDC3       :\ DDD7= 20 C3 DD     C]
JSR LDE06       :\ DDDA= 20 06 DE     .^
BCC LDE16       :\ DDDD= 90 37       .7
.LDDDF
STA &E6         :\ DDDF= 85 E6       .f
JSR LDE05       :\ DDE1= 20 05 DE     .^
BCC LDDFF       :\ DDE4= 90 19       ..
TAX             :\ DDE6= AA          *
LDA &E6         :\ DDE7= A5 E6       %f
ASL A           :\ DDE9= 0A          .
BCS LDE16       :\ DDEA= B0 2A       0*
ASL A           :\ DDEC= 0A          .
BCS LDE16       :\ DDED= B0 27       0'
ADC &E6         :\ DDEF= 65 E6       ef
BCS LDE16       :\ DDF1= B0 23       0#
ASL A           :\ DDF3= 0A          .
BCS LDE16       :\ DDF4= B0 20       0 
STA &E6         :\ DDF6= 85 E6       .f
TXA             :\ DDF8= 8A          .
ADC &E6         :\ DDF9= 65 E6       ef
BCS LDE16       :\ DDFB= B0 19       0.
BCC LDDDF       :\ DDFD= 90 E0       .`
.LDDFF
LDX &E6         :\ DDFF= A6 E6       &f
CMP #&0D        :\ DE01= C9 0D       I.
SEC             :\ DE03= 38          8
RTS             :\ DE04= 60          `
 
.LDE05
INY             :\ DE05= C8          H
.LDE06
LDA (&F2),Y     :\ DE06= B1 F2       1r
CMP #&3A        :\ DE08= C9 3A       I:
BCS LDE16       :\ DE0A= B0 0A       0.
CMP #&30        :\ DE0C= C9 30       I0
BCC LDE16       :\ DE0E= 90 06       ..
AND #&0F        :\ DE10= 29 0F       ).
RTS             :\ DE12= 60          `
 
.LDE13
JSR LDDCE       :\ DE13= 20 CE DD     N]
.LDE16
CLC             :\ DE16= 18          .
RTS             :\ DE17= 60          `
 
.LDE18
JSR LDE06       :\ DE18= 20 06 DE     .^
BCS LDE2B       :\ DE1B= B0 0E       0.
AND #&DF        :\ DE1D= 29 DF       )_
CMP #&47        :\ DE1F= C9 47       IG
BCS LDE13       :\ DE21= B0 F0       0p
CMP #&41        :\ DE23= C9 41       IA
BCC LDE13       :\ DE25= 90 EC       .l
PHP             :\ DE27= 08          .
SBC #&37        :\ DE28= E9 37       i7
PLP             :\ DE2A= 28          (
.LDE2B
INY             :\ DE2B= C8          H
RTS             :\ DE2C= 60          `
 
.LDE2D
PHA             :\ DE2D= 48          H
TXA             :\ DE2E= 8A          .
PHA             :\ DE2F= 48          H
TYA             :\ DE30= 98          .
PHA             :\ DE31= 48          H
TSX             :\ DE32= BA          :
LDA &0103,X     :\ DE33= BD 03 01    =..
PHA             :\ DE36= 48          H
BIT &0260       :\ DE37= 2C 60 02    ,`.
BPL LDE44       :\ DE3A= 10 08       ..
TAY             :\ DE3C= A8          (
LDA #&04        :\ DE3D= A9 04       ).
JSR LE395       :\ DE3F= 20 95 E3     .c
BCS LDE9D       :\ DE42= B0 59       0Y
.LDE44
CLC             :\ DE44= 18          .
LDA #&02        :\ DE45= A9 02       ).
BIT &027C       :\ DE47= 2C 7C 02    ,|.
BNE LDE51       :\ DE4A= D0 05       P.
PLA             :\ DE4C= 68          h
PHA             :\ DE4D= 48          H
JSR LD6D8       :\ DE4E= 20 D8 D6     XV
.LDE51
LDA #&08        :\ DE51= A9 08       ).
BIT &027C       :\ DE53= 2C 7C 02    ,|.
BNE LDE5A       :\ DE56= D0 02       P.
BCC LDE5F       :\ DE58= 90 05       ..
.LDE5A
PLA             :\ DE5A= 68          h
PHA             :\ DE5B= 48          H
JSR LDEA4       :\ DE5C= 20 A4 DE     $^
.LDE5F
LDA &027C       :\ DE5F= AD 7C 02    -|.
ROR A           :\ DE62= 6A          j
BCC LDE87       :\ DE63= 90 22       ."
LDY &EA         :\ DE65= A4 EA       $j
DEY             :\ DE67= 88          .
BPL LDE87       :\ DE68= 10 1D       ..
PLA             :\ DE6A= 68          h
PHA             :\ DE6B= 48          H
PHP             :\ DE6C= 08          .
SEI             :\ DE6D= 78          x
BIT &024F       :\ DE6E= 2C 4F 02    ,O.
PHP             :\ DE71= 08          .
LDX #&02        :\ DE72= A2 02       ".
JSR LDF68       :\ DE74= 20 68 DF     h_
PLP             :\ DE77= 28          (
BPL LDE86       :\ DE78= 10 0C       ..
LDX #&13        :\ DE7A= A2 13       ".
JSR LF0A8       :\ DE7C= 20 A8 F0     (p
BEQ LDE86       :\ DE7F= F0 05       p.
LDX #&02        :\ DE81= A2 02       ".
JSR LDF09       :\ DE83= 20 09 DF     ._
.LDE86
PLP             :\ DE86= 28          (
.LDE87
LDA #&10        :\ DE87= A9 10       ).
BIT &027C       :\ DE89= 2C 7C 02    ,|.
BNE LDE9D       :\ DE8C= D0 0F       P.
LDY &0257       :\ DE8E= AC 57 02    ,W.
BEQ LDE9D       :\ DE91= F0 0A       p.
PLA             :\ DE93= 68          h
PHA             :\ DE94= 48          H
SEC             :\ DE95= 38          8
ROR &EB         :\ DE96= 66 EB       fk
JSR OSBPUT      :\ DE98= 20 D4 FF     T.
LSR &EB         :\ DE9B= 46 EB       Fk
.LDE9D
PLA             :\ DE9D= 68          h
PLA             :\ DE9E= 68          h
TAY             :\ DE9F= A8          (
PLA             :\ DEA0= 68          h
TAX             :\ DEA1= AA          *
PLA             :\ DEA2= 68          h
RTS             :\ DEA3= 60          `
 
.LDEA4
BIT &027C       :\ DEA4= 2C 7C 02    ,|.
BVS LDEC9       :\ DEA7= 70 20       p 
CMP &0286       :\ DEA9= CD 86 02    M..
BEQ LDEC9       :\ DEAC= F0 1B       p.
.LDEAE
PHP             :\ DEAE= 08          .
SEI             :\ DEAF= 78          x
TAX             :\ DEB0= AA          *
LDA #&04        :\ DEB1= A9 04       ).
BIT &027C       :\ DEB3= 2C 7C 02    ,|.
BNE LDEC8       :\ DEB6= D0 10       P.
TXA             :\ DEB8= 8A          .
LDX #&03        :\ DEB9= A2 03       ".
JSR LDF68       :\ DEBB= 20 68 DF     h_
BCS LDEC8       :\ DEBE= B0 08       0.
BIT &02C6       :\ DEC0= 2C C6 02    ,F.
BPL LDEC8       :\ DEC3= 10 03       ..
JSR LDECA       :\ DEC5= 20 CA DE     J^
.LDEC8
PLP             :\ DEC8= 28          (
.LDEC9
RTS             :\ DEC9= 60          `
 
.LDECA
LDA &0285       :\ DECA= AD 85 02    -..
BEQ LDF09       :\ DECD= F0 3A       p:
CMP #&03        :\ DECF= C9 03       I.
BCS LDEDE       :\ DED1= B0 0B       0.
LDX #&14        :\ DED3= A2 14       ".
JSR LF0A8       :\ DED5= 20 A8 F0     (p
BEQ LDEC9       :\ DED8= F0 EF       po
LDX #&03        :\ DEDA= A2 03       ".
BNE LDF09       :\ DEDC= D0 2B       P+
.LDEDE
CLC             :\ DEDE= 18          .
LDA #&01        :\ DEDF= A9 01       ).
JSR LDEFB       :\ DEE1= 20 FB DE     {^
.LDEE4
ROR &02C6       :\ DEE4= 6E C6 02    nF.
RTS             :\ DEE7= 60          `
 
.LDEE8
BNE LDF06       :\ DEE8= D0 1C       P.
.LDEEA
LDX #&08        :\ DEEA= A2 08       ".
.LDEEC
CLI             :\ DEEC= 58          X
SEI             :\ DEED= 78          x
JSR LDEF4       :\ DEEE= 20 F4 DE     t^
DEX             :\ DEF1= CA          J
BPL LDEEC       :\ DEF2= 10 F8       .x
.LDEF4
CPX #&09        :\ DEF4= E0 09       `.
BCC LDF09       :\ DEF6= 90 11       ..
RTS             :\ DEF8= 60          `
 
.LDEF9
LDA #&00        :\ DEF9= A9 00       ).
.LDEFB
LDX #&03        :\ DEFB= A2 03       ".
.LDEFD
LDY &0285       :\ DEFD= AC 85 02    ,..
JSR LE395       :\ DF00= 20 95 E3     .c
JMP (&0222)     :\ DF03= 6C 22 02    l".
 
.LDF06
LDX &0241       :\ DF06= AE 41 02    .A.
.LDF09
CLC             :\ DF09= 18          .
.LDF0A
PHA             :\ DF0A= 48          H
PHP             :\ DF0B= 08          .
SEI             :\ DF0C= 78          x
BCS LDF28       :\ DF0D= B0 19       0.
TXA             :\ DF0F= 8A          .
AND #&04        :\ DF10= 29 04       ).
BEQ LDF28       :\ DF12= F0 14       p.
LDA &026B       :\ DF14= AD 6B 02    -k.
BEQ LDF25       :\ DF17= F0 0C       p.
TXA             :\ DF19= 8A          .
PHA             :\ DF1A= 48          H
TAY             :\ DF1B= A8          (
LDX #&17        :\ DF1C= A2 17       ".
JSR LF0A8       :\ DF1E= 20 A8 F0     (p
PLA             :\ DF21= 68          h
TAX             :\ DF22= AA          *
BNE LDF28       :\ DF23= D0 03       P.
.LDF25
JSR LE983       :\ DF25= 20 83 E9     .i
.LDF28
SEC             :\ DF28= 38          8
ROR &02C3,X     :\ DF29= 7E C3 02    ~C.
CPX #&02        :\ DF2C= E0 02       `.
BCS LDF3B       :\ DF2E= B0 0B       0.
LDA #&00        :\ DF30= A9 00       ).
STA &0268       :\ DF32= 8D 68 02    .h.
STA &025D       :\ DF35= 8D 5D 02    .].
STA &026A       :\ DF38= 8D 6A 02    .j.
.LDF3B
JSR LE50B       :\ DF3B= 20 0B E5     .e
PLP             :\ DF3E= 28          (
PLA             :\ DF3F= 68          h
RTS             :\ DF40= 60          `
 
BVC LDF4A       :\ DF41= 50 07       P.
LDA &02CC,X     :\ DF43= BD CC 02    =L.
STA &02D5,X     :\ DF46= 9D D5 02    .U.
RTS             :\ DF49= 60          `
 
.LDF4A
PHP             :\ DF4A= 08          .
SEI             :\ DF4B= 78          x
PHP             :\ DF4C= 08          .
SEC             :\ DF4D= 38          8
LDA &02D5,X     :\ DF4E= BD D5 02    =U.
SBC &02CC,X     :\ DF51= FD CC 02    }L.
BCS LDF5A       :\ DF54= B0 04       0.
SEC             :\ DF56= 38          8
SBC LE1B5,X     :\ DF57= FD B5 E1    }5a
.LDF5A
PLP             :\ DF5A= 28          (
BCC LDF63       :\ DF5B= 90 06       ..
CLC             :\ DF5D= 18          .
ADC LE1B5,X     :\ DF5E= 7D B5 E1    }5a
EOR #&FF        :\ DF61= 49 FF       I.
.LDF63
LDY #&00        :\ DF63= A0 00        .
TAX             :\ DF65= AA          *
PLP             :\ DF66= 28          (
RTS             :\ DF67= 60          `
 
.LDF68
SEI             :\ DF68= 78          x
JSR LE21E       :\ DF69= 20 1E E2     .b
BCC LDF7B       :\ DF6C= 90 0D       ..
JSR LE7E5       :\ DF6E= 20 E5 E7     eg
BMI LDF7B       :\ DF71= 30 08       0.
PHA             :\ DF73= 48          H
JSR LE950       :\ DF74= 20 50 E9     Pi
PLA             :\ DF77= 68          h
CLI             :\ DF78= 58          X
BCS LDF68       :\ DF79= B0 ED       0m
.LDF7B
RTS             :\ DF7B= 60          `
 
.LDF7C
PHA             :\ DF7C= 48          H
LDA #&00        :\ DF7D= A9 00       ).
STA &02E2,X     :\ DF7F= 9D E2 02    .b.
STA &02E3,X     :\ DF82= 9D E3 02    .c.
STA &02E4,X     :\ DF85= 9D E4 02    .d.
STA &02E5,X     :\ DF88= 9D E5 02    .e.
PLA             :\ DF8B= 68          h
RTS             :\ DF8C= 60          `
 
.LDF8D
STY &E6         :\ DF8D= 84 E6       .f
ROL A           :\ DF8F= 2A          *
ROL A           :\ DF90= 2A          *
ROL A           :\ DF91= 2A          *
ROL A           :\ DF92= 2A          *
LDY #&04        :\ DF93= A0 04        .
.LDF95
ROL A           :\ DF95= 2A          *
ROL &02E2,X     :\ DF96= 3E E2 02    >b.
ROL &02E3,X     :\ DF99= 3E E3 02    >c.
ROL &02E4,X     :\ DF9C= 3E E4 02    >d.
ROL &02E5,X     :\ DF9F= 3E E5 02    >e.
BCS LDFD5       :\ DFA2= B0 31       01
DEY             :\ DFA4= 88          .
BNE LDF95       :\ DFA5= D0 EE       Pn
LDY &E6         :\ DFA7= A4 E6       $f
RTS             :\ DFA9= 60          `
 
LDA #&FF        :\ DFAA= A9 FF       ).
STX &F2         :\ DFAC= 86 F2       .r
STY &F3         :\ DFAE= 84 F3       .s
STX &02E2       :\ DFB0= 8E E2 02    .b.
STY &02E3       :\ DFB3= 8C E3 02    .c.
PHA             :\ DFB6= 48          H
LDX #&02        :\ DFB7= A2 02       ".
JSR LDF7C       :\ DFB9= 20 7C DF     |_
LDY #&FF        :\ DFBC= A0 FF        .
STY &02E8       :\ DFBE= 8C E8 02    .h.
INY             :\ DFC1= C8          H
JSR LE7FC       :\ DFC2= 20 FC E7     |g
.LDFC5
JSR LE80E       :\ DFC5= 20 0E E8     .h
BCC LDFC5       :\ DFC8= 90 FB       .{
PLA             :\ DFCA= 68          h
PHA             :\ DFCB= 48          H
BEQ LE030       :\ DFCC= F0 62       pb
JSR LE01B       :\ DFCE= 20 1B E0     .`
BCS LE00E       :\ DFD1= B0 3B       0;
BEQ LE013       :\ DFD3= F0 3E       p>
.LDFD5
BRK             :\ DFD5= 00          .
EQUB &FC        :\ DFD6= FC          |
EQUB &42        :\ DFD7= 42          B
ADC (&64,X)     :\ DFD8= 61 64       ad
JSR &6461       :\ DFDA= 20 61 64     ad
STZ &72         :\ DFDD= 64 72       dr
ADC &73         :\ DFDF= 65 73       es
EQUB &73        :\ DFE1= 73          s
BRK             :\ DFE2= 00          .
.LDFE3
LDX #&10        :\ DFE3= A2 10       ".
JSR LF0A8       :\ DFE5= 20 A8 F0     (p
BEQ LE00D       :\ DFE8= F0 23       p#
JSR LF5E8       :\ DFEA= 20 E8 F5     hu
LDA #&00        :\ DFED= A9 00       ).
PHP             :\ DFEF= 08          .
STY &E6         :\ DFF0= 84 E6       .f
LDY &0257       :\ DFF2= AC 57 02    ,W.
STA &0257       :\ DFF5= 8D 57 02    .W.
BEQ LDFFD       :\ DFF8= F0 03       p.
JSR OSFIND      :\ DFFA= 20 CE FF     N.
.LDFFD
LDY &E6         :\ DFFD= A4 E6       $f
PLP             :\ DFFF= 28          (
BEQ LE00D       :\ E000= F0 0B       p.
LDA #&80        :\ E002= A9 80       ).
JSR OSFIND      :\ E004= 20 CE FF     N.
TAY             :\ E007= A8          (
BEQ LE07E       :\ E008= F0 74       pt
STA &0257       :\ E00A= 8D 57 02    .W.
.LE00D
RTS             :\ E00D= 60          `
 
.LE00E
BNE LE07E       :\ E00E= D0 6E       Pn
INC &02E8       :\ E010= EE E8 02    nh.
.LE013
LDX #&E2        :\ E013= A2 E2       "b
LDY #&02        :\ E015= A0 02        .
PLA             :\ E017= 68          h
JMP OSFILE      :\ E018= 4C DD FF    L].
 
.LE01B
JSR LDDC3       :\ E01B= 20 C3 DD     C]
JSR LDE18       :\ E01E= 20 18 DE     .^
BCC LE02F       :\ E021= 90 0C       ..
JSR LDF7C       :\ E023= 20 7C DF     |_
.LE026
JSR LDF8D       :\ E026= 20 8D DF     ._
JSR LDE18       :\ E029= 20 18 DE     .^
BCS LE026       :\ E02C= B0 F8       0x
SEC             :\ E02E= 38          8
.LE02F
RTS             :\ E02F= 60          `
 
.LE030
LDX #&0A        :\ E030= A2 0A       ".
JSR LE01B       :\ E032= 20 1B E0     .`
BCC LE07E       :\ E035= 90 47       .G
CLV             :\ E037= B8          8
LDA (&F2),Y     :\ E038= B1 F2       1r
CMP #&2B        :\ E03A= C9 2B       I+
BNE LE042       :\ E03C= D0 04       P.
BIT LD8BC       :\ E03E= 2C BC D8    ,<X
INY             :\ E041= C8          H
.LE042
LDX #&0E        :\ E042= A2 0E       ".
JSR LE01B       :\ E044= 20 1B E0     .`
BCC LE07E       :\ E047= 90 35       .5
PHP             :\ E049= 08          .
BVC LE05B       :\ E04A= 50 0F       P.
LDX #&FC        :\ E04C= A2 FC       "|
CLC             :\ E04E= 18          .
.LE04F
LDA &01F0,X     :\ E04F= BD F0 01    =p.
ADC &01F4,X     :\ E052= 7D F4 01    }t.
STA &01F4,X     :\ E055= 9D F4 01    .t.
INX             :\ E058= E8          h
BNE LE04F       :\ E059= D0 F4       Pt
.LE05B
LDX #&03        :\ E05B= A2 03       ".
.LE05D
LDA &02EC,X     :\ E05D= BD EC 02    =l.
STA &02E8,X     :\ E060= 9D E8 02    .h.
STA &02E4,X     :\ E063= 9D E4 02    .d.
DEX             :\ E066= CA          J
BPL LE05D       :\ E067= 10 F4       .t
PLP             :\ E069= 28          (
BEQ LE013       :\ E06A= F0 A7       p'
LDX #&06        :\ E06C= A2 06       ".
JSR LE01B       :\ E06E= 20 1B E0     .`
BCC LE07E       :\ E071= 90 0B       ..
BEQ LE013       :\ E073= F0 9E       p.
LDX #&02        :\ E075= A2 02       ".
JSR LE01B       :\ E077= 20 1B E0     .`
BCC LE07E       :\ E07A= 90 02       ..
BEQ LE013       :\ E07C= F0 95       p.
.LE07E
BRK             :\ E07E= 00          .
INC &6142,X     :\ E07F= FE 42 61    ~Ba
STZ &20         :\ E082= 64 20       d 
EQUB &63        :\ E084= 63          c
EQUB &6F        :\ E085= 6F          o
ADC &616D       :\ E086= 6D 6D 61    mma
ROR &0064       :\ E089= 6E 64 00    nd.
EQUB &FB        :\ E08C= FB          {
EQUB &42        :\ E08D= 42          B
ADC (&64,X)     :\ E08E= 61 64       ad
JSR &656B       :\ E090= 20 6B 65     ke
ADC &2000,Y     :\ E093= 79 00 20    y. 
EQUB &D7        :\ E096= D7          W
CMP LF190,X     :\ E097= DD 90 F1    ].q
CPX #&10        :\ E09A= E0 10       `.
BCS LE08B       :\ E09C= B0 ED       0m
JSR LDDCE       :\ E09E= 20 CE DD     N]
PHP             :\ E0A1= 08          .
LDX &0B10       :\ E0A2= AE 10 0B    ...
TYA             :\ E0A5= 98          .
PHA             :\ E0A6= 48          H
JSR LE13F       :\ E0A7= 20 3F E1     ?a
PLA             :\ E0AA= 68          h
TAY             :\ E0AB= A8          (
PLP             :\ E0AC= 28          (
BNE LE0E5       :\ E0AD= D0 36       P6
RTS             :\ E0AF= 60          `
 
JSR LDDD7       :\ E0B0= 20 D7 DD     W]
BCC LE07E       :\ E0B3= 90 C9       .I
TXA             :\ E0B5= 8A          .
PHA             :\ E0B6= 48          H
LDA #&00        :\ E0B7= A9 00       ).
STA &E5         :\ E0B9= 85 E5       .e
STA &E4         :\ E0BB= 85 E4       .d
JSR LDDCC       :\ E0BD= 20 CC DD     L]
BEQ LE0DA       :\ E0C0= F0 18       p.
JSR LDDD7       :\ E0C2= 20 D7 DD     W]
BCC LE07E       :\ E0C5= 90 B7       .7
STX &E5         :\ E0C7= 86 E5       .e
JSR LDDCE       :\ E0C9= 20 CE DD     N]
BEQ LE0DA       :\ E0CC= F0 0C       p.
JSR LDDD7       :\ E0CE= 20 D7 DD     W]
BCC LE07E       :\ E0D1= 90 AB       .+
STX &E4         :\ E0D3= 86 E4       .d
JSR LDDC3       :\ E0D5= 20 C3 DD     C]
BNE LE07E       :\ E0D8= D0 A4       P$
.LE0DA
LDY &E4         :\ E0DA= A4 E4       $d
LDX &E5         :\ E0DC= A6 E5       &e
PLA             :\ E0DE= 68          h
JSR OSBYTE      :\ E0DF= 20 F4 FF     t.
BVS LE07E       :\ E0E2= 70 9A       p.
RTS             :\ E0E4= 60          `
 
.LE0E5
SEC             :\ E0E5= 38          8
JSR LE7FD       :\ E0E6= 20 FD E7     }g
.LE0E9
JSR LE80E       :\ E0E9= 20 0E E8     .h
BCS LE0F6       :\ E0EC= B0 08       0.
INX             :\ E0EE= E8          h
BEQ LE08B       :\ E0EF= F0 9A       p.
STA &0B00,X     :\ E0F1= 9D 00 0B    ...
BCC LE0E9       :\ E0F4= 90 F3       .s
.LE0F6
BNE LE08B       :\ E0F6= D0 93       P.
PHP             :\ E0F8= 08          .
SEI             :\ E0F9= 78          x
JSR LE13F       :\ E0FA= 20 3F E1     ?a
LDX #&10        :\ E0FD= A2 10       ".
.LE0FF
CPX &E6         :\ E0FF= E4 E6       df
BEQ LE111       :\ E101= F0 0E       p.
LDA &0B00,X     :\ E103= BD 00 0B    =..
CMP &0B00,Y     :\ E106= D9 00 0B    Y..
BNE LE111       :\ E109= D0 06       P.
LDA &0B10       :\ E10B= AD 10 0B    -..
STA &0B00,X     :\ E10E= 9D 00 0B    ...
.LE111
DEX             :\ E111= CA          J
BPL LE0FF       :\ E112= 10 EB       .k
PLP             :\ E114= 28          (
RTS             :\ E115= 60          `
 
.LE116
PHP             :\ E116= 08          .
SEI             :\ E117= 78          x
LDA &0B10       :\ E118= AD 10 0B    -..
SEC             :\ E11B= 38          8
SBC &0B00,Y     :\ E11C= F9 00 0B    y..
STA &FB         :\ E11F= 85 FB       .{
TXA             :\ E121= 8A          .
PHA             :\ E122= 48          H
LDX #&10        :\ E123= A2 10       ".
.LE125
LDA &0B00,X     :\ E125= BD 00 0B    =..
SEC             :\ E128= 38          8
SBC &0B00,Y     :\ E129= F9 00 0B    y..
BCC LE136       :\ E12C= 90 08       ..
BEQ LE136       :\ E12E= F0 06       p.
CMP &FB         :\ E130= C5 FB       E{
BCS LE136       :\ E132= B0 02       0.
.LE134
STA &FB         :\ E134= 85 FB       .{
.LE136
DEX             :\ E136= CA          J
BPL LE125       :\ E137= 10 EC       .l
PLA             :\ E139= 68          h
TAX             :\ E13A= AA          *
LDA &FB         :\ E13B= A5 FB       %{
PLP             :\ E13D= 28          (
RTS             :\ E13E= 60          `
 
.LE13F
PHP             :\ E13F= 08          .
SEI             :\ E140= 78          x
TXA             :\ E141= 8A          .
PHA             :\ E142= 48          H
LDY &E6         :\ E143= A4 E6       $f
JSR LE116       :\ E145= 20 16 E1     .a
LDA &0B00,Y     :\ E148= B9 00 0B    9..
TAY             :\ E14B= A8          (
CLC             :\ E14C= 18          .
ADC &FB         :\ E14D= 65 FB       e{
TAX             :\ E14F= AA          *
STA &FA         :\ E150= 85 FA       .z
LDA &0268       :\ E152= AD 68 02    -h.
BEQ LE164       :\ E155= F0 0D       p.
BRK             :\ E157= 00          .
PLX             :\ E158= FA          z
EQUB &4B        :\ E159= 4B          K
ADC &79         :\ E15A= 65 79       ey
JSR &6E69       :\ E15C= 20 69 6E     in
JSR &7375       :\ E15F= 20 75 73     us
ADC &00         :\ E162= 65 00       e.
.LE164
DEC &0284       :\ E164= CE 84 02    N..
PLA             :\ E167= 68          h
SEC             :\ E168= 38          8
SBC &FA         :\ E169= E5 FA       ez
STA &FA         :\ E16B= 85 FA       .z
BEQ LE17B       :\ E16D= F0 0C       p.
.LE16F
LDA &0B01,X     :\ E16F= BD 01 0B    =..
STA &0B01,Y     :\ E172= 99 01 0B    ...
INY             :\ E175= C8          H
INX             :\ E176= E8          h
DEC &FA         :\ E177= C6 FA       Fz
BNE LE16F       :\ E179= D0 F4       Pt
.LE17B
TYA             :\ E17B= 98          .
PHA             :\ E17C= 48          H
LDY &E6         :\ E17D= A4 E6       $f
LDX #&10        :\ E17F= A2 10       ".
.LE181
LDA &0B00,X     :\ E181= BD 00 0B    =..
CMP &0B00,Y     :\ E184= D9 00 0B    Y..
BCC LE190       :\ E187= 90 07       ..
BEQ LE190       :\ E189= F0 05       p.
SBC &FB         :\ E18B= E5 FB       e{
STA &0B00,X     :\ E18D= 9D 00 0B    ...
.LE190
DEX             :\ E190= CA          J
BPL LE181       :\ E191= 10 EE       .n
LDA &0B10       :\ E193= AD 10 0B    -..
STA &0B00,Y     :\ E196= 99 00 0B    ...
PLA             :\ E199= 68          h
STA &0B10       :\ E19A= 8D 10 0B    ...
TAX             :\ E19D= AA          *
INC &0284       :\ E19E= EE 84 02    n..
PLP             :\ E1A1= 28          (
RTS             :\ E1A2= 60          `
 
.LE1A3
EQUB &03        :\ E1A3= 03          .
ASL A           :\ E1A4= 0A          .
PHP             :\ E1A5= 08          .
EQUB &07        :\ E1A6= 07          .
EQUB &07        :\ E1A7= 07          .
EQUB &07        :\ E1A8= 07          .
EQUB &07        :\ E1A9= 07          .
EQUB &07        :\ E1AA= 07          .
ORA #&00        :\ E1AB= 09 00       ..
BRK             :\ E1AD= 00          .
CPY #&C0        :\ E1AE= C0 C0       @@
BVC LE212       :\ E1B0= 50 60       P`
BVS LE134       :\ E1B2= 70 80       p.
BRK             :\ E1B4= 00          .
.LE1B5
CPX #&00        :\ E1B5= E0 00       `.
RTI             :\ E1B7= 40          @
 
CPY #&F0        :\ E1B8= C0 F0       @p
BEQ LE1AC       :\ E1BA= F0 F0       pp
BEQ LE17E       :\ E1BC= F0 C0       p@
.LE1BE
LDA LE1AC,X     :\ E1BE= BD AC E1    =,a
STA &FA         :\ E1C1= 85 FA       .z
LDA LE1A3,X     :\ E1C3= BD A3 E1    =#a
STA &FB         :\ E1C6= 85 FB       .{
RTS             :\ E1C8= 60          `
 
.LE1C9
BIT LD8BC       :\ E1C9= 2C BC D8    ,<X
BVS LE1CF       :\ E1CC= 70 01       p.
.LE1CE
CLV             :\ E1CE= B8          8
.LE1CF
JMP (&022C)     :\ E1CF= 6C 2C 02    l,.
 
PHP             :\ E1D2= 08          .
SEI             :\ E1D3= 78          x
LDA &02CC,X     :\ E1D4= BD CC 02    =L.
CMP &02D5,X     :\ E1D7= DD D5 02    ]U.
BEQ LE24E       :\ E1DA= F0 72       pr
TAY             :\ E1DC= A8          (
JSR LE1BE       :\ E1DD= 20 BE E1     >a
LDA (&FA),Y     :\ E1E0= B1 FA       1z
BVS LE1FE       :\ E1E2= 70 1A       p.
PHA             :\ E1E4= 48          H
INY             :\ E1E5= C8          H
TYA             :\ E1E6= 98          .
BNE LE1EC       :\ E1E7= D0 03       P.
LDA LE1B5,X     :\ E1E9= BD B5 E1    =5a
.LE1EC
STA &02CC,X     :\ E1EC= 9D CC 02    .L.
CPX #&02        :\ E1EF= E0 02       `.
BCC LE1FD       :\ E1F1= 90 0A       ..
CMP &02D5,X     :\ E1F3= DD D5 02    ]U.
BNE LE1FD       :\ E1F6= D0 05       P.
LDY #&00        :\ E1F8= A0 00        .
JSR LE202       :\ E1FA= 20 02 E2     .b
.LE1FD
PLA             :\ E1FD= 68          h
.LE1FE
TAY             :\ E1FE= A8          (
PLP             :\ E1FF= 28          (
CLC             :\ E200= 18          .
RTS             :\ E201= 60          `
 
.LE202
PHP             :\ E202= 08          .
SEI             :\ E203= 78          x
PHA             :\ E204= 48          H
STA &FA         :\ E205= 85 FA       .z
LDA &02B5,Y     :\ E207= B9 B5 02    95.
BEQ LE24D       :\ E20A= F0 41       pA
TYA             :\ E20C= 98          .
LDY &FA         :\ E20D= A4 FA       $z
JSR LE7E2       :\ E20F= 20 E2 E7     bg
.LE212
PLA             :\ E212= 68          h
PLP             :\ E213= 28          (
CLC             :\ E214= 18          .
RTS             :\ E215= 60          `
 
.LE216
TYA             :\ E216= 98          .
LDY #&02        :\ E217= A0 02        .
JSR LE202       :\ E219= 20 02 E2     .b
TAY             :\ E21C= A8          (
.LE21D
TYA             :\ E21D= 98          .
.LE21E
JMP (&022A)     :\ E21E= 6C 2A 02    l*.
 
PHP             :\ E221= 08          .
SEI             :\ E222= 78          x
PHA             :\ E223= 48          H
LDY &02D5,X     :\ E224= BC D5 02    <U.
INY             :\ E227= C8          H
BNE LE22D       :\ E228= D0 03       P.
LDY LE1B5,X     :\ E22A= BC B5 E1    <5a
.LE22D
TYA             :\ E22D= 98          .
CMP &02CC,X     :\ E22E= DD CC 02    ]L.
BEQ LE242       :\ E231= F0 0F       p.
LDY &02D5,X     :\ E233= BC D5 02    <U.
STA &02D5,X     :\ E236= 9D D5 02    .U.
JSR LE1BE       :\ E239= 20 BE E1     >a
PLA             :\ E23C= 68          h
STA (&FA),Y     :\ E23D= 91 FA       .z
PLP             :\ E23F= 28          (
CLC             :\ E240= 18          .
RTS             :\ E241= 60          `
 
.LE242
PLA             :\ E242= 68          h
CPX #&02        :\ E243= E0 02       `.
BCS LE24E       :\ E245= B0 07       0.
LDY #&01        :\ E247= A0 01        .
JSR LE202       :\ E249= 20 02 E2     .b
PHA             :\ E24C= 48          H
.LE24D
PLA             :\ E24D= 68          h
.LE24E
PLP             :\ E24E= 28          (
SEC             :\ E24F= 38          8
RTS             :\ E250= 60          `
 
.LE251
PHA             :\ E251= 48          H
AND #&DF        :\ E252= 29 DF       )_
CMP #&41        :\ E254= C9 41       IA
BCC LE25C       :\ E256= 90 04       ..
CMP #&5B        :\ E258= C9 5B       I[
BCC LE25D       :\ E25A= 90 01       ..
.LE25C
SEC             :\ E25C= 38          8
.LE25D
PLA             :\ E25D= 68          h
RTS             :\ E25E= 60          `
 
.LE25F
LDX #&00        :\ E25F= A2 00       ".
TXA             :\ E261= 8A          .
AND &0245       :\ E262= 2D 45 02    -E.
BNE LE21D       :\ E265= D0 B6       P6
TYA             :\ E267= 98          .
EOR &026C       :\ E268= 4D 6C 02    Ml.
ORA &0275       :\ E26B= 0D 75 02    .u.
BNE LE216       :\ E26E= D0 A6       P&
LDA &0258       :\ E270= AD 58 02    -X.
ROR A           :\ E273= 6A          j
TYA             :\ E274= 98          .
BCS LE281       :\ E275= B0 0A       0.
LDY #&06        :\ E277= A0 06        .
JSR LE202       :\ E279= 20 02 E2     .b
BCC LE281       :\ E27C= 90 03       ..
JSR LE480       :\ E27E= 20 80 E4     .d
.LE281
CLC             :\ E281= 18          .
RTS             :\ E282= 60          `
 
.LE283
CMP #&A0        :\ E283= C9 A0       I 
BCC LE28C       :\ E285= 90 05       ..
LDA &0273       :\ E287= AD 73 02    -s.
BCS LE28F       :\ E28A= B0 03       0.
.LE28C
LDA &0272       :\ E28C= AD 72 02    -r.
.LE28F
BEQ LE2B2       :\ E28F= F0 21       p!
LSR A           :\ E291= 4A          J
BNE LE2C5       :\ E292= D0 31       P1
LDA &F4         :\ E294= A5 F4       %t
PHA             :\ E296= 48          H
LDA &028C       :\ E297= AD 8C 02    -..
BMI LE2B5       :\ E29A= 30 19       0.
JSR LE3A0       :\ E29C= 20 A0 E3      c
LDA &8006       :\ E29F= AD 06 80    -..
AND #&10        :\ E2A2= 29 10       ).
BEQ LE2B5       :\ E2A4= F0 0F       p.
LDA #&03        :\ E2A6= A9 03       ).
JSR &8000       :\ E2A8= 20 00 80     ..
.LE2AB
STY &025D       :\ E2AB= 8C 5D 02    .].
PLA             :\ E2AE= 68          h
JSR LE3A0       :\ E2AF= 20 A0 E3      c
.LE2B2
JMP LE333       :\ E2B2= 4C 33 E3    L3c
 
.LE2B5
LDA LEE89,Y     :\ E2B5= B9 89 EE    9.n
STA &025C       :\ E2B8= 8D 5C 02    .\.
LDA LEEA9,Y     :\ E2BB= B9 A9 EE    9)n
TAY             :\ E2BE= A8          (
BCS LE2AB       :\ E2BF= B0 EA       0j
.LE2C1
ROR A           :\ E2C1= 6A          j
PLA             :\ E2C2= 68          h
BCS LE281       :\ E2C3= B0 BC       0<
.LE2C5
TYA             :\ E2C5= 98          .
PHA             :\ E2C6= 48          H
LSR A           :\ E2C7= 4A          J
LSR A           :\ E2C8= 4A          J
LSR A           :\ E2C9= 4A          J
LSR A           :\ E2CA= 4A          J
EOR #&04        :\ E2CB= 49 04       I.
TAY             :\ E2CD= A8          (
LDA &0265,Y     :\ E2CE= B9 65 02    9e.
CMP #&01        :\ E2D1= C9 01       I.
BEQ LE353       :\ E2D3= F0 7E       p~
PLA             :\ E2D5= 68          h
BCC LE2E5       :\ E2D6= 90 0D       ..
AND #&0F        :\ E2D8= 29 0F       ).
CLC             :\ E2DA= 18          .
ADC &0265,Y     :\ E2DB= 79 65 02    ye.
CLC             :\ E2DE= 18          .
RTS             :\ E2DF= 60          `
 
.LE2E0
JSR LE64B       :\ E2E0= 20 4B E6     Kf
PLA             :\ E2E3= 68          h
TAX             :\ E2E4= AA          *
.LE2E5
JSR LE1CE       :\ E2E5= 20 CE E1     Na
BCS LE350       :\ E2E8= B0 66       0f
CPX #&01        :\ E2EA= E0 01       `.
BNE LE2F3       :\ E2EC= D0 05       P.
LDY &0245       :\ E2EE= AC 45 02    ,E.
BNE LE34F       :\ E2F1= D0 5C       P\
.LE2F3
TAY             :\ E2F3= A8          (
BPL LE34F       :\ E2F4= 10 59       .Y
CMP #&90        :\ E2F6= C9 90       I.
BCC LE2FE       :\ E2F8= 90 04       ..
CMP #&B0        :\ E2FA= C9 B0       I0
BCC LE283       :\ E2FC= 90 85       ..
.LE2FE
AND #&0F        :\ E2FE= 29 0F       ).
CMP #&0B        :\ E300= C9 0B       I.
BCC LE2C5       :\ E302= 90 C1       .A
ADC #&7B        :\ E304= 69 7B       i{
PHA             :\ E306= 48          H
LDA &027D       :\ E307= AD 7D 02    -}.
BNE LE2C1       :\ E30A= D0 B5       P5
LDA &027C       :\ E30C= AD 7C 02    -|.
ROR A           :\ E30F= 6A          j
ROR A           :\ E310= 6A          j
PLA             :\ E311= 68          h
BCS LE2E5       :\ E312= B0 D1       0Q
CMP #&87        :\ E314= C9 87       I.
BNE LE325       :\ E316= D0 0D       P.
TXA             :\ E318= 8A          .
PHA             :\ E319= 48          H
JSR LD81B       :\ E31A= 20 1B D8     .X
TAY             :\ E31D= A8          (
BEQ LE2E0       :\ E31E= F0 C0       p@
PLA             :\ E320= 68          h
TAX             :\ E321= AA          *
TYA             :\ E322= 98          .
CLC             :\ E323= 18          .
RTS             :\ E324= 60          `
 
.LE325
TAY             :\ E325= A8          (
TXA             :\ E326= 8A          .
PHA             :\ E327= 48          H
TYA             :\ E328= 98          .
JSR LD7E5       :\ E329= 20 E5 D7     eW
PLA             :\ E32C= 68          h
TAX             :\ E32D= AA          *
.LE32E
BIT &025F       :\ E32E= 2C 5F 02    ,_.
BMI LE393       :\ E331= 30 60       0`
.LE333
TXA             :\ E333= 8A          .
AND &0245       :\ E334= 2D 45 02    -E.
BNE LE2E5       :\ E337= D0 AC       P,
LDA &025D       :\ E339= AD 5D 02    -].
BNE LE365       :\ E33C= D0 27       P'
LDA &0268       :\ E33E= AD 68 02    -h.
BEQ LE2E5       :\ E341= F0 A2       p"
LDY &0279       :\ E343= AC 79 02    ,y.
LDA &0B01,Y     :\ E346= B9 01 0B    9..
INC &0279       :\ E349= EE 79 02    ny.
DEC &0268       :\ E34C= CE 68 02    Nh.
.LE34F
CLC             :\ E34F= 18          .
.LE350
BCS LE398       :\ E350= B0 46       0F
RTS             :\ E352= 60          `
 
.LE353
PLA             :\ E353= 68          h
AND #&0F        :\ E354= 29 0F       ).
TAY             :\ E356= A8          (
JSR LE116       :\ E357= 20 16 E1     .a
STA &0268       :\ E35A= 8D 68 02    .h.
LDA &0B00,Y     :\ E35D= B9 00 0B    9..
STA &0279       :\ E360= 8D 79 02    .y.
BNE LE32E       :\ E363= D0 C9       PI
.LE365
TAX             :\ E365= AA          *
LDA &F4         :\ E366= A5 F4       %t
PHA             :\ E368= 48          H
LDA &028C       :\ E369= AD 8C 02    -..
BMI LE387       :\ E36C= 30 19       0.
JSR LE3A0       :\ E36E= 20 A0 E3      c
LDA &8006       :\ E371= AD 06 80    -..
AND #&10        :\ E374= 29 10       ).
BEQ LE387       :\ E376= F0 0F       p.
LDA #&02        :\ E378= A9 02       ).
JSR &8000       :\ E37A= 20 00 80     ..
.LE37D
DEC &025D       :\ E37D= CE 5D 02    N].
PLA             :\ E380= 68          h
JSR LE3A0       :\ E381= 20 A0 E3      c
TYA             :\ E384= 98          .
CLC             :\ E385= 18          .
RTS             :\ E386= 60          `
 
.LE387
LDY &025C       :\ E387= AC 5C 02    ,\.
LDA LEF59,Y     :\ E38A= B9 59 EF    9Yo
TAY             :\ E38D= A8          (
INC &025C       :\ E38E= EE 5C 02    n\.
BNE LE37D       :\ E391= D0 EA       Pj
.LE393
LDA #&06        :\ E393= A9 06       ).
.LE395
JMP (&0224)     :\ E395= 6C 24 02    l$.
 
.LE398
PHA             :\ E398= 48          H
JSR LE950       :\ E399= 20 50 E9     Pi
.LE39C
PLA             :\ E39C= 68          h
SEC             :\ E39D= 38          8
RTS             :\ E39E= 60          `

\ Select ROM in X
\ --------------- 
.LE39F
TXA             :\ E39F= 8A          .

\ Select ROM in A
\ ---------------
.LE3A0
STA &F4         :\ E3A0= 85 F4       .t
JSR LE3A9       :\ E3A2= 20 A9 E3     )c
STA LFE05       :\ E3A5= 8D 05 FE    ..~
RTS             :\ E3A8= 60          `
 
.LE3A9
PHA             :\ E3A9= 48          H
LDA #&0C        :\ E3AA= A9 0C       ).
STA LFE05       :\ E3AC= 8D 05 FE    ..~
PLA             :\ E3AF= 68          h
RTS             :\ E3B0= 60          `
 
\ OSBYTE/OSWORD dispatch table
\ ============================
.LE3B1
SBC (&E5)       :\ E3B1= F2 E5       re
BRA LE39C       :\ E3B3= 80 E7       .g
 
AND (&E5)       :\ E3B5= 32 E5       2e
EQUB &8F        :\ E3B7= 8F          .
EQUB &E7        :\ E3B8= E7          g
EQUB &8F        :\ E3B9= 8F          .
EQUB &E7        :\ E3BA= E7          g
EQUB &67        :\ E3BB= 67          g
EQUB &E7        :\ E3BC= E7          g
BRA LE3A6       :\ E3BD= 80 E7       .g
 
SEC             :\ E3BF= 38          8
SBC &38         :\ E3C0= E5 38       e8
SBC &9C         :\ E3C2= E5 9C       e.
CPX &9E         :\ E3C4= E4 9E       d.
CPX &8D         :\ E3C6= E4 8D       d.
EQUB &E7        :\ E3C8= E7          g
STY &E7         :\ E3C9= 84 E7       .g
EQUB &C2        :\ E3CB= C2          B
CPX &C3         :\ E3CC= E4 C3       dC
CPX &E8         :\ E3CE= E4 E8       dh
DEC LE538,X     :\ E3D0= DE 38 E5    ^8e
SEC             :\ E3D3= 38          8
SBC &C0         :\ E3D4= E5 C0       e@
EQUB &E7        :\ E3D6= E7          g
LDX &5EE7       :\ E3D7= AE E7 5E    .g^
CPY LDEF4       :\ E3DA= CC F4 DE    Lt^
STZ &E4         :\ E3DD= 64 E4       dd    \ &16 - &E464 - Increment ROM polling semaphore
TRB &EF         :\ E3DF= 14 EF       .o    \ &17 - &EF14 - Decrement ROM polling semaphore
SEC             :\ E3E1= 38          8     \ &18 - &E538 - Select external sound system
SBC &07         :\ E3E2= E5 07       e.    \ &73 - &CC07 - Reset palette
CPY LE976       :\ E3E4= CC 76 E9    Lvi   \ &74 - &E976 - Reset sound system
PHA             :\ E3E7= 48          H     \ &75 - &E648 - Read VDU status byte
INC &D1         :\ E3E8= E6 D1       fQ    \ &76 - &E7D1 -
EQUB &E7        :\ E3EA= E7          g     
EQUB &E3        :\ E3EB= E3          c     \ &77 - &DFE7 -
EQUB &DF        :\ E3EC= DF          _
BPL LE3DF       :\ E3ED= 10 F0       .p    \ &78 - &F010 - Write keys pressed
EOR (&EC),Y     :\ E3EF= 51 EC       Ql    \ &79 - &EC51 -
EQUB &4F        :\ E3F1= 4F          O     \ &7A - &EC4F - Keyboard scan from &10
CPX LDEE4       :\ E3F2= EC E4 DE    ld^   \ &7B - &DEE4 - Printer going idle
EQUB &7F        :\ E3F5= 7F          .     \ &7C - &E47F - Set Escape state
CPX &80         :\ E3F6= E4 80       d.    \ &7D - &E480 - Clear Escape state
CPX &68         :\ E3F8= E4 68       dh    \ &7E - &E468 - Acknowledge Escape state
CPX &BE         :\ E3FA= E4 BE       d>    \ &7F - &DDBE - Read EOF
CMP LE511,X     :\ E3FC= DD 11 E5    ].e   \ &80 - &E511 - ADVAL
BNE LE3E5       :\ E3FF= D0 E4       Pd    \ &81 - &E4D0 - INKEY
EQUB &EB        :\ E401= EB          k     \ &82 - &E4EB - Read memory high word
CPX &DD         :\ E402= E4 DD       d]    \ &83 - &EFDD - Read bottom of user memory
EQUB &EF        :\ E404= EF          o
BIT &D8,X       :\ E405= 34 D8       4X    \ &84 - &D834 - Read top of user memory
EQUB &37        :\ E407= 37          7     \ &85 - &D837 - Read top of user memory for specified MODE
CLD             :\ E408= D8          X
EOR &11D5,X     :\ E409= 5D D5 11    ]U.
EQUB &D7        :\ E40C= D7          W
EQUB &5F        :\ E40D= 5F          _
CPX &8A         :\ E40E= E4 8A       d.
CPX &1D         :\ E410= E4 1D       d.
EQUB &E2        :\ E412= E2          b
LDA &A5DD,X     :\ E413= BD DD A5    =]%
EQUB &E7        :\ E416= E7          g
LDA &E7         :\ E417= A5 E7       %g
LDA (&DA),Y     :\ E419= B1 DA       1Z
TAY             :\ E41B= A8          (
BEQ LE3A7       :\ E41C= F0 89       p.
INX             :\ E41E= E8          h
DEC &8FE1       :\ E41F= CE E1 8F    Na.
INX             :\ E422= E8          h
TXA             :\ E423= 8A          .
INX             :\ E424= E8          h
TAY             :\ E425= A8          (
EQUB &FF        :\ E426= FF          .
EQUB &A3        :\ E427= A3          #
EQUB &FF        :\ E428= FF          .
AND (&F0)       :\ E429= 32 F0       2p
STA &E8         :\ E42B= 85 E8       .h
CMP #&E1        :\ E42D= C9 E1       Ia
ADC (&E2,X)     :\ E42F= 61 E2       ab
INX             :\ E431= E8          h
INC LFFA2       :\ E432= EE A2 FF    n".
SEC             :\ E435= 38          8
SBC &B3         :\ E436= E5 B3       e3
EQUB &FF        :\ E438= FF          .
SEC             :\ E439= 38          8
SBC &38         :\ E43A= E5 38       e8
SBC &B8         :\ E43C= E5 B8       e8
EQUB &E7        :\ E43E= E7          g
STY &E7,X       :\ E43F= 94 E7       .g
ADC (&E4,X)     :\ E441= 61 E4       ad
EQUB &F3        :\ E443= F3          s
INC &C6         :\ E444= E6 C6       fF
INC &D9         :\ E446= E6 D9       fY
INC &C2         :\ E448= E6 C2       fB
INC &D5         :\ E44A= E6 D5       fU
INC &D4         :\ E44C= E6 D4       fT
SBC &DC         :\ E44E= E5 DC       e\
SBC &FE         :\ E450= E5 FE       e~
SBC &7F         :\ E452= E5 7F       e.
INC &AD         :\ E454= E6 AD       f-
DEC &40         :\ E456= C6 40       F@
CPY LC6E5       :\ E458= CC E5 C6    LeF
STA LE4C8,X     :\ E45B= 9D C8 E4    .Hd
EQUB &D4        :\ E45E= D4          T
LDA #&00        :\ E45F= A9 00       ).
JMP (&0200)     :\ E461= 6C 00 02    l..
 
\ OSBYTE xx - Increment ROM polling semaphore
\ -------------------------------------------
.LE464
INC &0249       :\ E464= EE 49 02    nI.
.LE467
RTS             :\ E467= 60          `

\ OSBYTE &7E - Acknowledge Escape state
\ -------------------------------------
.LE468
LDX #&00             :\ X=0 for no pending Escape
BIT &FF:BPL LE47F    :\ If no pending, tell Tube and return
LDA &0276:BNE LE47D  :\ Check Escape effects, skip if disabled
CLI                  :\ Enable IRQs
STA &0269            :\ Clear paged line counter
JSR LF5EA            :\ Close any open EXEC file
JSR LDEEA            :\ Flush all buffers
.LE47D
LDX #&FF             :\ X=&FF for Escape was pending

\ OSBYTE &7C - Clear Escape state
\ -------------------------------
.LE47F
CLC                  :\ CLC to clear Escape state

\ OSBYTE &7D - Set Escape state
\ -----------------------------
.LE480
ROR &FF              :\ Rotate into Escape flag
BIT &027A:BPL LE467  :\ If no Tube, return
JMP &0403            :\ Inform Tube and return

.LE48A
LDA &0282       :\ E48A= AD 82 02    -..
AND #&BF        :\ E48D= 29 BF       )?
CPX #&00        :\ E48F= E0 00       `.
BEQ LE495       :\ E491= F0 02       p.
ORA #&40        :\ E493= 09 40       .@
.LE495
STA &0282       :\ E495= 8D 82 02    ...
STA LFE07       :\ E498= 8D 07 FE    ..~
RTS             :\ E49B= 60          `

.LE49C
INY             :\ E49C= C8          H
CLC             :\ E49D= 18          .
LDA &0252,Y     :\ E49E= B9 52 02    9R.
PHA             :\ E4A1= 48          H
TXA             :\ E4A2= 8A          .
STA &0252,Y     :\ E4A3= 99 52 02    .R.
PLA             :\ E4A6= 68          h
TAY             :\ E4A7= A8          (
LDA &0251       :\ E4A8= AD 51 02    -Q.
BNE LE4C0       :\ E4AB= D0 13       P.
STX &0251       :\ E4AD= 8E 51 02    .Q.
LDA #&00        :\ E4B0= A9 00       ).
BCC LE4B6       :\ E4B2= 90 02       ..
LDA #&07        :\ E4B4= A9 07       ).
.LE4B6
STA &0248       :\ E4B6= 8D 48 02    .H.
TYA             :\ E4B9= 98          .
PHA             :\ E4BA= 48          H
JSR LC8A3       :\ E4BB= 20 A3 C8     #H
PLA             :\ E4BE= 68          h
TAY             :\ E4BF= A8          (
.LE4C0
BVC LE4CD       :\ E4C0= 50 0B       P.
TYA             :\ E4C2= 98          .
CPX #&0A        :\ E4C3= E0 0A       `.
BCS LE4CE       :\ E4C5= B0 07       0.
LDY &02B5,X     :\ E4C7= BC B5 02    <5.
STA &02B5,X     :\ E4CA= 9D B5 02    .5.
.LE4CD
TYA             :\ E4CD= 98          .
.LE4CE
TAX             :\ E4CE= AA          *
RTS             :\ E4CF= 60          `

\ OSBYTE &81 - INKEY 
\ ==================
.LE4D0
TYA             :\ E4D0= 98          .
BMI LE4DE       :\ E4D1= 30 0B       0.
CLI             :\ E4D3= 58          X
JSR LDC46       :\ E4D4= 20 46 DC     F\
BCS LE4DC       :\ E4D7= B0 03       0.
TAX             :\ E4D9= AA          *
.LE4DA
LDA #&00        :\ E4DA= A9 00       ).
.LE4DC
TAY             :\ E4DC= A8          (
RTS             :\ E4DD= 60          `

\ Negative INKEY
\ --------------
.LE4DE
TXA:AND #&0F      :\ Check low nybble of INKEY number
BEQ LE4F4         :\ INKEY -&x0 passed to sideways ROMs
\                 :\ Would be better as AND #&0F, CMP #&05, BCC LE4F4
TXA:EOR #&7F:TAX  :\ Toggle to convert to keyscan number
JSR LEC4C         :\ Scan for key or keys
ROL A             :\ Move &00/&80 keypress to Carry

\ OSBYTE &82 - Read address high word
\ -----------------------------------
.LE4EB
LDX #&FF:LDY #&FF :\ Prepare XY=&FFFF for pressed
BCS LE4F3         :\ Return XY=&FFFF if pressed
INX:INY           :\ Return XY=&0000 for not pressed
.LE4F3
RTS

.LE4F4
TXA:BEQ LE4FE     :\ INKEY-256, jump to return MOS type
JSR LE538         :\ If INKEY -&x0, pass to sideways ROMs
CLC:BNE LE4EB     :\ If not claimed, jump to return &0000
RTS               :\ Otherwise, return result from ROM call
 
.LE4FE
LDX #&01:BNE LE4DA :\ INKEY-256 returns &0001

.LE502
TXA:EOR #&FF:TAX  :\ Toggle X to convert to buffer number
CPX #&02          :\ CC=input, read used; CS=output, read free
CLV:BVC LE50E     :\ VC=read size, jump to CNTV
.LE50B
BIT LD8BC         :\ Set V
.LE50E
JMP (&022E)       :\ CNTV, examine buffer status

\ OSBYTE &80 - ADVAL
\ ------------------
.LE511
BMI LE502       :\ Negative ADVAL - read buffer status
BEQ LE522       :\ ADVAL(0)
JSR LE538       :\ Positive ADVAL - pass to sideways ROMs
BEQ LE521       :\ If claimed, return the result
LDY &02FB,X     :\ Otherwise, get from workspace updated in background
LDA &02F7,X:TAX :\ 
.LE521
RTS

\ ADVAL(0)
\ --------
.LE522
JSR LE538          :\ Pass to sideways ROMs
BEQ LE529          :\ If claimed, return result from X, buttons pressed
LDX #&00           :\ Otherwise, X=0
.LE529
LDY &02F7          :\ Get Y from workspace, last channel converted
LDA #&00:STA &02F7 :\ And clear it
RTS

.LE532 
TXA             :\ E532= 8A          .
ORA &0241       :\ E533= 0D 41 02    .A.
BEQ LE4F3       :\ E536= F0 BB       p;

\ Pass on unsupported call as Unknown OSBYTE service call
\ -------------------------------------------------------
\ Eg, unknown SOUND, ADVAL, INKEY, etc.
.LE538
LDX #&07        :\ E538= A2 07       ".
JSR LF0A8       :\ E53A= 20 A8 F0     (p
LDX &F0         :\ E53D= A6 F0       &p
LDY &F1         :\ E53F= A4 F1       $q
EOR #&00        :\ E541= 49 00       I.
RTS             :\ E543= 60          `
 
\ OSBYTE handler
\ ==============
PHA             :\ E544= 48          H
PHP             :\ E545= 08          .
SEI             :\ E546= 78          x
STA &EF         :\ E547= 85 EF       .o
STX &F0         :\ E549= 86 F0       .p
STY &F1         :\ E54B= 84 F1       .q
LDX #&07        :\ E54D= A2 07       ".
CMP #&73        :\ E54F= C9 73       Is
BCC LE593       :\ E551= 90 40       .@
CMP #&A1        :\ E553= C9 A1       I!
BCC LE560       :\ E555= 90 09       ..
CMP #&A6        :\ E557= C9 A6       I&
BCC LE599       :\ E559= 90 3E       .>
CLC             :\ E55B= 18          .
.LE55C
LDA #&A1        :\ E55C= A9 A1       )!
ADC #&00        :\ E55E= 69 00       i.
.LE560
SBC #&59        :\ E560= E9 59       iY
.LE562
ASL A           :\ E562= 0A          .
SEC             :\ E563= 38          8
.LE564
STY &F1         :\ E564= 84 F1       .q
TAY             :\ E566= A8          (
BIT &025E       :\ E567= 2C 5E 02    ,^.
BPL LE573       :\ E56A= 10 07       ..
TXA             :\ E56C= 8A          .
CLV             :\ E56D= B8          8
JSR LE395       :\ E56E= 20 95 E3     .c
BVS LE58D       :\ E571= 70 1A       p.
.LE573
LDA LE3B2,Y     :\ E573= B9 B2 E3    92c
STA &FB         :\ E576= 85 FB       .{
LDA LE3B1,Y     :\ E578= B9 B1 E3    91c
STA &FA         :\ E57B= 85 FA       .z
LDA &EF         :\ E57D= A5 EF       %o
LDY &F1         :\ E57F= A4 F1       $q
BCS LE587       :\ E581= B0 04       0.
LDY #&00        :\ E583= A0 00        .
LDA (&F0),Y     :\ E585= B1 F0       1p
.LE587
SEC             :\ E587= 38          8
LDX &F0         :\ E588= A6 F0       &p
JSR LEEBF       :\ E58A= 20 BF EE     ?n
.LE58D
ROR A           :\ E58D= 6A          j
PLP             :\ E58E= 28          (
ROL A           :\ E58F= 2A          *
PLA             :\ E590= 68          h
CLV             :\ E591= B8          8
RTS             :\ E592= 60          `
 
.LE593
LDY #&00        :\ E593= A0 00        .
CMP #&19        :\ E595= C9 19       I.
BCC LE562       :\ E597= 90 C9       .I
.LE599
PHP             :\ E599= 08          .
PHP             :\ E59A= 08          .
.LE59B
PLA             :\ E59B= 68          h
PLA             :\ E59C= 68          h
JSR LF0A8       :\ E59D= 20 A8 F0     (p
BNE LE5A7       :\ E5A0= D0 05       P.
LDX &F0         :\ E5A2= A6 F0       &p
JMP LE58D       :\ E5A4= 4C 8D E5    L.e
 
.LE5A7
PLP             :\ E5A7= 28          (
PLA             :\ E5A8= 68          h
BIT LD8BC       :\ E5A9= 2C BC D8    ,<X
RTS             :\ E5AC= 60          `
 
.LE5AD
LDA &EB         :\ E5AD= A5 EB       %k
BMI LE5E3       :\ E5AF= 30 32       02
LDA #&08        :\ E5B1= A9 08       ).
AND &E2         :\ E5B3= 25 E2       %b
BNE LE5BB       :\ E5B5= D0 04       P.
LDA #&88        :\ E5B7= A9 88       ).
AND &BB         :\ E5B9= 25 BB       %;
.LE5BB
RTS             :\ E5BB= 60          `
 
\ OSWORD handler
\ ==============
PHA             :\ E5BC= 48          H
PHP             :\ E5BD= 08          .
SEI             :\ E5BE= 78          x
STA &EF         :\ E5BF= 85 EF       .o
STX &F0         :\ E5C1= 86 F0       .p
STY &F1         :\ E5C3= 84 F1       .q
LDX #&08        :\ E5C5= A2 08       ".
CMP #&E0        :\ E5C7= C9 E0       I`
BCS LE55C       :\ E5C9= B0 91       0.
CMP #&0E        :\ E5CB= C9 0E       I.
BCS LE599       :\ E5CD= B0 CA       0J
ADC #&49        :\ E5CF= 69 49       iI
ASL A           :\ E5D1= 0A          .
BCC LE564       :\ E5D2= 90 90       ..

.LE5D4
JSR LE5E6       :\ E5D4= 20 E6 E5     fe
LDA (&FA,X)     :\ E5D7= A1 FA       !z
STA (&F0),Y     :\ E5D9= 91 F0       .p
RTS             :\ E5DB= 60          `

.LD5DC 
JSR LE5E6       :\ E5DC= 20 E6 E5     fe
LDA (&F0),Y     :\ E5DF= B1 F0       1p
STA (&FA,X)     :\ E5E1= 81 FA       .z
.LE5E3
LDA #&00        :\ E5E3= A9 00       ).
RTS             :\ E5E5= 60          `
 
.LE5E6
STA &FA         :\ E5E6= 85 FA       .z
INY             :\ E5E8= C8          H
LDA (&F0),Y     :\ E5E9= B1 F0       1p
STA &FB         :\ E5EB= 85 FB       .{
LDY #&04        :\ E5ED= A0 04        .
.LE5EF
LDX #&00:RTS

\ OSBYTE &00 - Read host
\ ======================
.LE5F2
BNE LE5EF       :\ If X<>0, jump to return X=0
BRK:EQUB &F7:EQUS "OS 1.00":BRK

.LE5FE
LDA &0262       :\ E5FE= AD 62 02    -b.
BNE LE64A       :\ E601= D0 47       PG
LDA &026B       :\ E603= AD 6B 02    -k.
BNE LE60D       :\ E606= D0 05       P.
INY             :\ E608= C8          H
LDA (&F0),Y     :\ E609= B1 F0       1p
CMP #&20        :\ E60B= C9 20       I 
.LE60D
LDX #&08        :\ E60D= A2 08       ".
BCS LE59B       :\ E60F= B0 8A       0.
DEY             :\ E611= 88          .
LDA (&F0),Y     :\ E612= B1 F0       1p
JSR LE6A4       :\ E614= 20 A4 E6     $f
JSR LE6BA       :\ E617= 20 BA E6     :f
ORA #&04        :\ E61A= 09 04       ..
TAX             :\ E61C= AA          *
BCC LE624       :\ E61D= 90 05       ..
JSR LDF0A       :\ E61F= 20 0A DF     ._
LDY #&01        :\ E622= A0 01        .
.LE624
JSR LE6BA       :\ E624= 20 BA E6     :f
STA &FA         :\ E627= 85 FA       .z
PHP             :\ E629= 08          .
LDY #&06        :\ E62A= A0 06        .
LDA (&F0),Y     :\ E62C= B1 F0       1p
PHA             :\ E62E= 48          H
LDY #&04        :\ E62F= A0 04        .
LDA (&F0),Y     :\ E631= B1 F0       1p
PHA             :\ E633= 48          H
LDY #&02        :\ E634= A0 02        .
LDA (&F0),Y     :\ E636= B1 F0       1p
ROL A           :\ E638= 2A          *
SEC             :\ E639= 38          8
SBC #&02        :\ E63A= E9 02       i.
ASL A           :\ E63C= 0A          .
ASL A           :\ E63D= 0A          .
ORA &FA         :\ E63E= 05 FA       .z
JSR LDF68       :\ E640= 20 68 DF     h_
BCC LE671       :\ E643= 90 2C       .,
PLA             :\ E645= 68          h
PLA             :\ E646= 68          h
PLP             :\ E647= 28          (

\ OSBYTE &75 - Read VDU status byte
\ ---------------------------------
LDX &D0         :\ E648= A6 D0       &P
.LE64A
RTS             :\ E64A= 60          `
 
.LE64B
LDA &0262       :\ E64B= AD 62 02    -b.
BNE LE64A       :\ E64E= D0 FA       Pz
LDA &026B       :\ E650= AD 6B 02    -k.
BEQ LE65A       :\ E653= F0 05       p.
LDX #&16        :\ E655= A2 16       ".
JMP LF0A8       :\ E657= 4C A8 F0    L(p
 
.LE65A
PHP             :\ E65A= 08          .
SEI             :\ E65B= 78          x
LDA &0263       :\ E65C= AD 63 02    -c.
JSR LE6A4       :\ E65F= 20 A4 E6     $f
TAX             :\ E662= AA          *
LDA &0264       :\ E663= AD 64 02    -d.
JSR LE21E       :\ E666= 20 1E E2     .b
LDA &0266       :\ E669= AD 66 02    -f.
PHA             :\ E66C= 48          H
LDA &0265       :\ E66D= AD 65 02    -e.
PHA             :\ E670= 48          H
.LE671
SEC             :\ E671= 38          8
ROR &0814       :\ E672= 6E 14 08    n..
PLA             :\ E675= 68          h
JSR LE21E       :\ E676= 20 1E E2     .b
PLA             :\ E679= 68          h
JSR LE21E       :\ E67A= 20 1E E2     .b
PLP             :\ E67D= 28          (
RTS             :\ E67E= 60          `
 
LDX &0262       :\ E67F= AE 62 02    .b.
BNE LE64A       :\ E682= D0 C6       PF
LDX &026B       :\ E684= AE 6B 02    .k.
BNE LE60D       :\ E687= D0 84       P.
SBC #&01        :\ E689= E9 01       i.
ASL A           :\ E68B= 0A          .
ASL A           :\ E68C= 0A          .
ASL A           :\ E68D= 0A          .
ASL A           :\ E68E= 0A          .
ORA #&0F        :\ E68F= 09 0F       ..
TAX             :\ E691= AA          *
LDA #&00        :\ E692= A9 00       ).
LDY #&10        :\ E694= A0 10        .
.LE696
CPY #&0E        :\ E696= C0 0E       @.
BCS LE69C       :\ E698= B0 02       0.
LDA (&F0),Y     :\ E69A= B1 F0       1p
.LE69C
STA &08C0,X     :\ E69C= 9D C0 08    .@.
DEX             :\ E69F= CA          J
DEY             :\ E6A0= 88          .
BNE LE696       :\ E6A1= D0 F3       Ps
RTS             :\ E6A3= 60          `
 
.LE6A4
AND #&03        :\ E6A4= 29 03       ).
ORA #&04        :\ E6A6= 09 04       ..
CMP &0825       :\ E6A8= CD 25 08    M%.
BEQ LE6B9       :\ E6AB= F0 0C       p.
PHA             :\ E6AD= 48          H
CLC             :\ E6AE= 18          .
LDX &0825       :\ E6AF= AE 25 08    .%.
STA &0825       :\ E6B2= 8D 25 08    .%.
JSR LDF0A       :\ E6B5= 20 0A DF     ._
PLA             :\ E6B8= 68          h
.LE6B9
RTS             :\ E6B9= 60          `
 
.LE6BA
LDA (&F0),Y     :\ E6BA= B1 F0       1p
CMP #&10        :\ E6BC= C9 10       I.
AND #&03        :\ E6BE= 29 03       ).
INY             :\ E6C0= C8          H
RTS             :\ E6C1= 60          `
 
LDX #&0F        :\ E6C2= A2 0F       ".
BNE LE6C9       :\ E6C4= D0 03       P.
LDX &0283       :\ E6C6= AE 83 02    ...
.LE6C9
LDY #&04        :\ E6C9= A0 04        .
.LE6CB
LDA &028C,X     :\ E6CB= BD 8C 02    =..
STA (&F0),Y     :\ E6CE= 91 F0       .p
INX             :\ E6D0= E8          h
DEY             :\ E6D1= 88          .
BPL LE6CB       :\ E6D2= 10 F7       .w
.LE6D4
RTS             :\ E6D4= 60          `
 
LDA #&0F        :\ E6D5= A9 0F       ).
BNE LE6DF       :\ E6D7= D0 06       P.
LDA &0283       :\ E6D9= AD 83 02    -..
EOR #&0F        :\ E6DC= 49 0F       I.
CLC             :\ E6DE= 18          .
.LE6DF
PHA             :\ E6DF= 48          H
TAX             :\ E6E0= AA          *
LDY #&04        :\ E6E1= A0 04        .
.LE6E3
LDA (&F0),Y     :\ E6E3= B1 F0       1p
STA &028C,X     :\ E6E5= 9D 8C 02    ...
INX             :\ E6E8= E8          h
DEY             :\ E6E9= 88          .
BPL LE6E3       :\ E6EA= 10 F7       .w
PLA             :\ E6EC= 68          h
BCS LE6D4       :\ E6ED= B0 E5       0e
STA &0283       :\ E6EF= 8D 83 02    ...
RTS             :\ E6F2= 60          `
 
LDY #&04        :\ E6F3= A0 04        .
.LE6F5
LDA (&F0),Y     :\ E6F5= B1 F0       1p
STA &02B0,Y     :\ E6F7= 99 B0 02    .0.
DEY             :\ E6FA= 88          .
CPY #&02        :\ E6FB= C0 02       @.
BCS LE6F5       :\ E6FD= B0 F6       0v
LDA (&F0),Y     :\ E6FF= B1 F0       1p
STA &E9         :\ E701= 85 E9       .i
DEY             :\ E703= 88          .
STY &0269       :\ E704= 8C 69 02    .i.
LDA (&F0),Y     :\ E707= B1 F0       1p
STA &E8         :\ E709= 85 E8       .h
CLI             :\ E70B= 58          X
BCC LE715       :\ E70C= 90 07       ..
.LE70E
LDA #&07        :\ E70E= A9 07       ).
DEY             :\ E710= 88          .
.LE711
INY             :\ E711= C8          H
.LE712
JSR OSWRCH      :\ E712= 20 EE FF     n.
.LE715
JSR OSRDCH      :\ E715= 20 E0 FF     `.
BCS LE763       :\ E718= B0 49       0I
TAX             :\ E71A= AA          *
LDA &027C       :\ E71B= AD 7C 02    -|.
ROR A           :\ E71E= 6A          j
ROR A           :\ E71F= 6A          j
TXA             :\ E720= 8A          .
BCS LE728       :\ E721= B0 05       0.
LDX &026A       :\ E723= AE 6A 02    .j.
BNE LE712       :\ E726= D0 EA       Pj
.LE728
CMP #&7F        :\ E728= C9 7F       I.
BNE LE733       :\ E72A= D0 07       P.
CPY #&00        :\ E72C= C0 00       @.
BEQ LE715       :\ E72E= F0 E5       pe
DEY             :\ E730= 88          .
BCS LE712       :\ E731= B0 DF       0_
.LE733
CMP #&15        :\ E733= C9 15       I.
BNE LE744       :\ E735= D0 0D       P.
TYA             :\ E737= 98          .
BEQ LE715       :\ E738= F0 DB       p[
LDA #&7F        :\ E73A= A9 7F       ).
.LE73C
JSR OSWRCH      :\ E73C= 20 EE FF     n.
DEY             :\ E73F= 88          .
BNE LE73C       :\ E740= D0 FA       Pz
BEQ LE715       :\ E742= F0 D1       pQ
.LE744
STA (&E8),Y     :\ E744= 91 E8       .h
CMP #&0D        :\ E746= C9 0D       I.
BEQ LE75D       :\ E748= F0 13       p.
CPY &02B2       :\ E74A= CC B2 02    L2.
BCS LE70E       :\ E74D= B0 BF       0?
CMP &02B3       :\ E74F= CD B3 02    M3.
BCC LE712       :\ E752= 90 BE       .>
CMP &02B4       :\ E754= CD B4 02    M4.
BEQ LE711       :\ E757= F0 B8       p8
BCC LE711       :\ E759= 90 B6       .6
BCS LE712       :\ E75B= B0 B5       05
.LE75D
JSR OSNEWL      :\ E75D= 20 E7 FF     g.
JSR LE395       :\ E760= 20 95 E3     .c
.LE763
LDA &FF         :\ E763= A5 FF       %.
ROL A           :\ E765= 2A          *
RTS             :\ E766= 60          `
 
.LE767
CLI             :\ E767= 58          X
SEI             :\ E768= 78          x
BIT &FF         :\ E769= 24 FF       $.
BMI LE7A4       :\ E76B= 30 37       07
BIT &02C6       :\ E76D= 2C C6 02    ,F.
BPL LE767       :\ E770= 10 F5       .u
JSR LDEFD       :\ E772= 20 FD DE     }^
LDY #&00        :\ E775= A0 00        .
STY &F1         :\ E777= 84 F1       .q
STX &F0         :\ E779= 86 F0       .p
JSR LE538       :\ E77B= 20 38 E5     8e
LDA #&05        :\ E77E= A9 05       ).
ORA #&F0        :\ E780= 09 F0       .p
BNE LE792       :\ E782= D0 0E       P.
BNE LE78D       :\ E784= D0 07       P.
LDX #&32        :\ E786= A2 32       "2
STX &0254       :\ E788= 8E 54 02    .T.
LDX #&08        :\ E78B= A2 08       ".
.LE78D
ADC #&CF        :\ E78D= 69 CF       iO
CLC             :\ E78F= 18          .
ADC #&E9        :\ E790= 69 E9       ii
.LE792
STX &F0         :\ E792= 86 F0       .p
TAY             :\ E794= A8          (
LDA &0190,Y     :\ E795= B9 90 01    9..
TAX             :\ E798= AA          *
AND &F1         :\ E799= 25 F1       %q
EOR &F0         :\ E79B= 45 F0       Ep
STA &0190,Y     :\ E79D= 99 90 01    ...
LDA &0191,Y     :\ E7A0= B9 91 01    9..
TAY             :\ E7A3= A8          (
.LE7A4
RTS             :\ E7A4= 60          `
 
.LE7A5
EOR #&8C        :\ E7A5= 49 8C       I.
.LE7A7
ASL A           :\ E7A7= 0A          .
STA &0247       :\ E7A8= 8D 47 02    .G.
JMP LF094       :\ E7AB= 4C 94 F0    L.p
 
LDA &0240       :\ E7AE= AD 40 02    -@.
.LE7B1
CLI             :\ E7B1= 58          X
SEI             :\ E7B2= 78          x
CMP &0240       :\ E7B3= CD 40 02    M@.
BEQ LE7B1       :\ E7B6= F0 F9       py
LDY &0301,X     :\ E7B8= BC 01 03    <..
LDA &0300,X     :\ E7BB= BD 00 03    =..
TAX             :\ E7BE= AA          *
RTS             :\ E7BF= 60          `
 
.LE7C0
LDA #&10        :\ E7C0= A9 10       ).
STA &0284       :\ E7C2= 8D 84 02    ...
LDX #&00        :\ E7C5= A2 00       ".
.LE7C7
STA &0B00,X     :\ E7C7= 9D 00 0B    ...
INX             :\ E7CA= E8          h
BNE LE7C7       :\ E7CB= D0 FA       Pz
STX &0284       :\ E7CD= 8E 84 02    ...
RTS             :\ E7D0= 60          `
 
.LE7D1
PHP             :\ E7D1= 08          .
SEI             :\ E7D2= 78          x
LDA #&40        :\ E7D3= A9 40       )@
JSR LE7E5       :\ E7D5= 20 E5 E7     eg
BMI LE7DF       :\ E7D8= 30 05       0.
CLC             :\ E7DA= 18          .
CLV             :\ E7DB= B8          8
JSR LEC4C       :\ E7DC= 20 4C EC     Ll
.LE7DF
PLP             :\ E7DF= 28          (
ROL A           :\ E7E0= 2A          *
RTS             :\ E7E1= 60          `
 
.LE7E2
JMP (&0220)     :\ E7E2= 6C 20 02    l .
 
.LE7E5
BCC LE7F9       :\ E7E5= 90 12       ..
PHA             :\ E7E7= 48          H
LDA &0282       :\ E7E8= AD 82 02    -..
ORA #&80        :\ E7EB= 09 80       ..
STA LFE07       :\ E7ED= 8D 07 FE    ..~
AND #&7F        :\ E7F0= 29 7F       ).
STA &0282       :\ E7F2= 8D 82 02    ...
STA LFE07       :\ E7F5= 8D 07 FE    ..~
PLA             :\ E7F8= 68          h
.LE7F9
BIT &FF         :\ E7F9= 24 FF       $.
RTS             :\ E7FB= 60          `
 
.LE7FC
CLC             :\ E7FC= 18          .
.LE7FD
ROR &E4         :\ E7FD= 66 E4       fd
JSR LDDC3       :\ E7FF= 20 C3 DD     C]
INY             :\ E802= C8          H
CMP #&22        :\ E803= C9 22       I"
BEQ LE809       :\ E805= F0 02       p.
DEY             :\ E807= 88          .
CLC             :\ E808= 18          .
.LE809
ROR &E4         :\ E809= 66 E4       fd
CMP #&0D        :\ E80B= C9 0D       I.
RTS             :\ E80D= 60          `
 
.LE80E
LDA #&00        :\ E80E= A9 00       ).
.LE810
STA &E5         :\ E810= 85 E5       .e
LDA (&F2),Y     :\ E812= B1 F2       1r
CMP #&0D        :\ E814= C9 0D       I.
BNE LE81E       :\ E816= D0 06       P.
BIT &E4         :\ E818= 24 E4       $d
BMI LE86E       :\ E81A= 30 52       0R
BPL LE839       :\ E81C= 10 1B       ..
.LE81E
CMP #&20        :\ E81E= C9 20       I 
BCC LE86E       :\ E820= 90 4C       .L
BNE LE82A       :\ E822= D0 06       P.
BIT &E4         :\ E824= 24 E4       $d
BMI LE868       :\ E826= 30 40       0@
BVC LE839       :\ E828= 50 0F       P.
.LE82A
CMP #&22        :\ E82A= C9 22       I"
BNE LE83E       :\ E82C= D0 10       P.
BIT &E4         :\ E82E= 24 E4       $d
BPL LE868       :\ E830= 10 36       .6
INY             :\ E832= C8          H
LDA (&F2),Y     :\ E833= B1 F2       1r
CMP #&22        :\ E835= C9 22       I"
BEQ LE868       :\ E837= F0 2F       p/
.LE839
JSR LDDC3       :\ E839= 20 C3 DD     C]
SEC             :\ E83C= 38          8
RTS             :\ E83D= 60          `
 
.LE83E
CMP #&7C        :\ E83E= C9 7C       I|
BNE LE868       :\ E840= D0 26       P&
INY             :\ E842= C8          H
LDA (&F2),Y     :\ E843= B1 F2       1r
CMP #&7C        :\ E845= C9 7C       I|
BEQ LE868       :\ E847= F0 1F       p.
CMP #&22        :\ E849= C9 22       I"
BEQ LE868       :\ E84B= F0 1B       p.
CMP #&21        :\ E84D= C9 21       I!
BNE LE856       :\ E84F= D0 05       P.
INY             :\ E851= C8          H
LDA #&80        :\ E852= A9 80       ).
BNE LE810       :\ E854= D0 BA       P:
.LE856
CMP #&20        :\ E856= C9 20       I 
BCC LE86E       :\ E858= 90 14       ..
CMP #&3F        :\ E85A= C9 3F       I?
BEQ LE866       :\ E85C= F0 08       p.
JSR LEFF3       :\ E85E= 20 F3 EF     so
BIT LD8BC       :\ E861= 2C BC D8    ,<X
BVS LE869       :\ E864= 70 03       p.
.LE866
LDA #&7F        :\ E866= A9 7F       ).
.LE868
CLV             :\ E868= B8          8
.LE869
INY             :\ E869= C8          H
ORA &E5         :\ E86A= 05 E5       .e
CLC             :\ E86C= 18          .
RTS             :\ E86D= 60          `
 
.LE86E
BRK             :\ E86E= 00          .
SBC &6142,X     :\ E86F= FD 42 61    }Ba
STZ &20         :\ E872= 64 20       d 
EQUB &73        :\ E874= 73          s
STZ &72,X       :\ E875= 74 72       tr
ADC #&6E        :\ E877= 69 6E       in
EQUB &67        :\ E879= 67          g
BRK             :\ E87A= 00          .
.LE87B
LDA &0287       :\ E87B= AD 87 02    -..
EOR #&4C        :\ E87E= 49 4C       IL
BNE LE889       :\ E880= D0 07       P.
JMP &0287       :\ E882= 4C 87 02    L..
 
TYA             :\ E885= 98          .
STA LFE00,X     :\ E886= 9D 00 FE    ..~
.LE889
RTS             :\ E889= 60          `
 
TYA             :\ E88A= 98          .
STA LFC00,X     :\ E88B= 9D 00 FC    ..|
RTS             :\ E88E= 60          `
 
LDY LFC00,X     :\ E88F= BC 00 FC    <.|
RTS             :\ E892= 60          `
 
.LE893
LDA &026B       :\ E893= AD 6B 02    -k.
BNE LE89D       :\ E896= D0 05       P.
LDA &0814       :\ E898= AD 14 08    -..
BNE LE89E       :\ E89B= D0 01       P.
.LE89D
RTS             :\ E89D= 60          `
 
.LE89E
LDX &0825       :\ E89E= AE 25 08    .%.
LDA &02C3,X     :\ E8A1= BD C3 02    =C.
BMI LE8AB       :\ E8A4= 30 05       0.
LDA &081B       :\ E8A6= AD 1B 08    -..
BNE LE8AE       :\ E8A9= D0 03       P.
.LE8AB
JSR LE993       :\ E8AB= 20 93 E9     .i
.LE8AE
LDA &081B       :\ E8AE= AD 1B 08    -..
BEQ LE8C4       :\ E8B1= F0 11       p.
CMP #&FF        :\ E8B3= C9 FF       I.
BEQ LE8C7       :\ E8B5= F0 10       p.
DEC &081C       :\ E8B7= CE 1C 08    N..
BNE LE8C7       :\ E8BA= D0 0B       P.
JSR LEA01       :\ E8BC= 20 01 EA     .j
DEC &081B       :\ E8BF= CE 1B 08    N..
BNE LE8C7       :\ E8C2= D0 03       P.
.LE8C4
JSR LE993       :\ E8C4= 20 93 E9     .i
.LE8C7
LDY &081D       :\ E8C7= AC 1D 08    ,..
CPY #&FF        :\ E8CA= C0 FF       @.
BEQ LE92D       :\ E8CC= F0 5F       p_
LDA &081E       :\ E8CE= AD 1E 08    -..
BEQ LE8D8       :\ E8D1= F0 05       p.
DEC &081E       :\ E8D3= CE 1E 08    N..
BNE LE92D       :\ E8D6= D0 55       PU
.LE8D8
LDA &0819       :\ E8D8= AD 19 08    -..
CMP #&03        :\ E8DB= C9 03       I.
BEQ LE92D       :\ E8DD= F0 4E       pN
LDA &08C0,Y     :\ E8DF= B9 C0 08    9@.
AND #&7F        :\ E8E2= 29 7F       ).
STA &081E       :\ E8E4= 8D 1E 08    ...
LDA &081A       :\ E8E7= AD 1A 08    -..
BNE LE916       :\ E8EA= D0 2A       P*
INC &0819       :\ E8EC= EE 19 08    n..
LDA &0819       :\ E8EF= AD 19 08    -..
CMP #&03        :\ E8F2= C9 03       I.
BNE LE906       :\ E8F4= D0 10       P.
LDY &081D       :\ E8F6= AC 1D 08    ,..
LDA &08C0,Y     :\ E8F9= B9 C0 08    9@.
BMI LE92D       :\ E8FC= 30 2F       0/
LDA #&00        :\ E8FE= A9 00       ).
STA &0819       :\ E900= 8D 19 08    ...
JSR LEA1F       :\ E903= 20 1F EA     .j
.LE906
LDA &0819       :\ E906= AD 19 08    -..
CLC             :\ E909= 18          .
ADC &081D       :\ E90A= 6D 1D 08    m..
TAY             :\ E90D= A8          (
LDA &08C4,Y     :\ E90E= B9 C4 08    9D.
STA &081A       :\ E911= 8D 1A 08    ...
BEQ LE92D       :\ E914= F0 17       p.
.LE916
DEC &081A       :\ E916= CE 1A 08    N..
LDA &081D       :\ E919= AD 1D 08    -..
CLC             :\ E91C= 18          .
ADC &0819       :\ E91D= 6D 19 08    m..
TAY             :\ E920= A8          (
LDA &08C1,Y     :\ E921= B9 C1 08    9A.
BEQ LE92D       :\ E924= F0 07       p.
CLC             :\ E926= 18          .
ADC &081F       :\ E927= 6D 1F 08    m..
JSR LEA1F       :\ E92A= 20 1F EA     .j
.LE92D
LDA &EA         :\ E92D= A5 EA       %j
ORA &0262       :\ E92F= 0D 62 02    .b.
BNE LE975       :\ E932= D0 41       PA
PHP             :\ E934= 08          .
SEI             :\ E935= 78          x
LDA &0282       :\ E936= AD 82 02    -..
AND #&F9        :\ E939= 29 F9       )y
ORA &0820       :\ E93B= 0D 20 08    . .
CMP &0282       :\ E93E= CD 82 02    M..
BEQ LE949       :\ E941= F0 06       p.
STA &0282       :\ E943= 8D 82 02    ...
STA LFE07       :\ E946= 8D 07 FE    ..~
.LE949
PLP             :\ E949= 28          (
LDA &0821       :\ E94A= AD 21 08    -!.
STA LFE06       :\ E94D= 8D 06 FE    ..~

\ Update a counter
.LE950
LDA &0822       :\ E950= AD 22 08    -".
BEQ LE975       :\ E953= F0 20       p 
LDA &EA         :\ E955= A5 EA       %j
BNE LE975       :\ E957= D0 1C       P.
TXA             :\ E959= 8A          .
PHA             :\ E95A= 48          H
INC &0824       :\ E95B= EE 24 08    n$.
LDX &0824       :\ E95E= AE 24 08    .$.
LDA LE893,X     :\ E961= BD 93 E8    =.h
LDX &0292       :\ E964= AE 92 02    ...
EOR LE89A,X     :\ E967= 5D 9A E8    ].h
AND &0822       :\ E96A= 2D 22 08    -".
ORA &0823       :\ E96D= 0D 23 08    .#.
STA LFE06       :\ ULA counter
PLA             :\ E973= 68          h
TAX             :\ E974= AA          *
.LE975
RTS             :\ E975= 60          `
 
\ OSBYTE &74 - Reset sound system
\ -------------------------------
.LE976
LDX #&04        :\ E976= A2 04       ".
STX &0825       :\ E978= 8E 25 08    .%.
.LE97B
JSR LE983       :\ E97B= 20 83 E9     .i
INX             :\ E97E= E8          h
CPX #&07        :\ E97F= E0 07       `.
BNE LE97B       :\ E981= D0 F8       Px
.LE983
LDA #&00        :\ E983= A9 00       ).
STA &081B       :\ E985= 8D 1B 08    ...
STA &02C3,X     :\ E988= 9D C3 02    .C.
STA &0814       :\ E98B= 8D 14 08    ...
JSR LEA14       :\ E98E= 20 14 EA     .j
BEQ LE92D       :\ E991= F0 9A       p.
.LE993
LDX &0825       :\ E993= AE 25 08    .%.
JSR LEA14       :\ E996= 20 14 EA     .j
LDA &02C3,X     :\ E999= BD C3 02    =C.
BEQ LE9A6       :\ E99C= F0 08       p.
LDA #&00        :\ E99E= A9 00       ).
STA &02C3,X     :\ E9A0= 9D C3 02    .C.
STA &081B       :\ E9A3= 8D 1B 08    ...
.LE9A6
JSR LE1C9       :\ E9A6= 20 C9 E1     Ia
BCS LEA07       :\ E9A9= B0 5C       0\
PHP             :\ E9AB= 08          .
SEI             :\ E9AC= 78          x
JSR LE1CE       :\ E9AD= 20 CE E1     Na
PHA             :\ E9B0= 48          H
AND #&04        :\ E9B1= 29 04       ).
BEQ LE9C3       :\ E9B3= F0 0E       p.
PLA             :\ E9B5= 68          h
JSR LEA14       :\ E9B6= 20 14 EA     .j
JSR LE1CE       :\ E9B9= 20 CE E1     Na
JSR LE1CE       :\ E9BC= 20 CE E1     Na
PLP             :\ E9BF= 28          (
JMP LE9FE       :\ E9C0= 4C FE E9    L~i
 
.LE9C3
LDA #&02        :\ E9C3= A9 02       ).
STA &0820       :\ E9C5= 8D 20 08    . .
PLA             :\ E9C8= 68          h
AND #&F8        :\ E9C9= 29 F8       )x
ASL A           :\ E9CB= 0A          .
BCC LE9D9       :\ E9CC= 90 0B       ..
CMP #&F0        :\ E9CE= C9 F0       Ip
BNE LE9D7       :\ E9D0= D0 05       P.
LDA #&00        :\ E9D2= A9 00       ).
STA &0820       :\ E9D4= 8D 20 08    . .
.LE9D7
LDA #&FF        :\ E9D7= A9 FF       ).
.LE9D9
STA &081D       :\ E9D9= 8D 1D 08    ...
LDY #&01        :\ E9DC= A0 01        .
STY &081E       :\ E9DE= 8C 1E 08    ...
DEY             :\ E9E1= 88          .
STY &081A       :\ E9E2= 8C 1A 08    ...
STY &081F       :\ E9E5= 8C 1F 08    ...
DEY             :\ E9E8= 88          .
STY &0819       :\ E9E9= 8C 19 08    ...
JSR LE1CE       :\ E9EC= 20 CE E1     Na
STA &0818       :\ E9EF= 8D 18 08    ...
JSR LE1CE       :\ E9F2= 20 CE E1     Na
PLP             :\ E9F5= 28          (
PHA             :\ E9F6= 48          H
LDA &0818       :\ E9F7= AD 18 08    -..
JSR LEA26       :\ E9FA= 20 26 EA     &j
PLA             :\ E9FD= 68          h
.LE9FE
STA &081B       :\ E9FE= 8D 1B 08    ...
.LEA01
LDA #&05        :\ EA01= A9 05       ).
STA &081C       :\ EA03= 8D 1C 08    ...
RTS             :\ EA06= 60          `
 
.LEA07
PHP             :\ EA07= 08          .
SEI             :\ EA08= 78          x
JSR LE1C9       :\ EA09= 20 C9 E1     Ia
BCC LEA13       :\ EA0C= 90 05       ..
LDA #&00        :\ EA0E= A9 00       ).
STA &0814       :\ EA10= 8D 14 08    ...
.LEA13
PLP             :\ EA13= 28          (
.LEA14
LDA #&00        :\ EA14= A9 00       ).
STA &0820       :\ EA16= 8D 20 08    . .
.LEA19
LDA #&00        :\ EA19= A9 00       ).
.LEA1B
STA &0822       :\ EA1B= 8D 22 08    .".
RTS             :\ EA1E= 60          `
 
.LEA1F
STA &081F       :\ EA1F= 8D 1F 08    ...
CLC             :\ EA22= 18          .
ADC &0818       :\ EA23= 6D 18 08    m..
.LEA26
PHA             :\ EA26= 48          H
AND #&03        :\ EA27= 29 03       ).
TAX             :\ EA29= AA          *
LDA &0825       :\ EA2A= AD 25 08    -%.
CMP #&04        :\ EA2D= C9 04       I.
BNE LEA49       :\ EA2F= D0 18       P.
PLA             :\ EA31= 68          h
AND #&04        :\ EA32= 29 04       ).
BEQ LEA41       :\ EA34= F0 0B       p.
LDA LEA8A,X     :\ EA36= BD 8A EA    =.j
STA &0823       :\ EA39= 8D 23 08    .#.
LDA LED2D,X     :\ EA3C= BD 2D ED    =-m
BNE LEA1B       :\ EA3F= D0 DA       PZ
.LEA41
LDA LEA8E,X     :\ EA41= BD 8E EA    =.j
STA &0821       :\ EA44= 8D 21 08    .!.
BNE LEA19       :\ EA47= D0 D0       PP
.LEA49
INX             :\ EA49= E8          h
LDA #&00        :\ EA4A= A9 00       ).
STA &0821       :\ EA4C= 8D 21 08    .!.
PLA             :\ EA4F= 68          h
LSR A           :\ EA50= 4A          J
LSR A           :\ EA51= 4A          J
.LEA52
CMP #&0C        :\ EA52= C9 0C       I.
BCC LEA5D       :\ EA54= 90 07       ..
INC &0821       :\ EA56= EE 21 08    n!.
SBC #&0C        :\ EA59= E9 0C       i.
BNE LEA52       :\ EA5B= D0 F5       Pu
.LEA5D
TAY             :\ EA5D= A8          (
LDA &0821       :\ EA5E= AD 21 08    -!.
PHA             :\ EA61= 48          H
LDA LEA7E,Y     :\ EA62= B9 7E EA    9~j
.LEA65
CPY #&07        :\ EA65= C0 07       @.
SBC #&02        :\ EA67= E9 02       i.
DEX             :\ EA69= CA          J
BNE LEA65       :\ EA6A= D0 F9       Py
STA &0821       :\ EA6C= 8D 21 08    .!.
PLA             :\ EA6F= 68          h
TAY             :\ EA70= A8          (
BEQ LEA79       :\ EA71= F0 06       p.
.LEA73
LSR &0821       :\ EA73= 4E 21 08    N!.
DEY             :\ EA76= 88          .
BNE LEA73       :\ EA77= D0 FA       Pz
.LEA79
DEC &0821       :\ EA79= CE 21 08    N!.
BNE LEA19       :\ EA7C= D0 9B       P.
.LEA7E
BRK             :\ EA7E= 00          .
BEQ LEA64       :\ EA7F= F0 E3       pc
DEC &CB,X       :\ EA81= D6 CB       VK
EQUB &BF        :\ EA83= BF          ?
LDA &AA,X       :\ EA84= B5 AA       5*
LDY #&97        :\ EA86= A0 97        .
EQUB &8F        :\ EA88= 8F          .
EQUB &87        :\ EA89= 87          .
.LEA8A
RTI             :\ EA8A= 40          @
 
BRA LEA4D       :\ EA8B= 80 C0       .@
 
BRA LEACA       :\ EA8D= 80 3B       .;
 
ROR &F0,X       :\ EA8F= 76 F0       vp
ROR &A9,X       :\ EA91= 76 A9       v)
EQUB &EF        :\ EA93= EF          o
STA &F5         :\ EA94= 85 F5       .u
RTS             :\ EA96= 60          `
 
.LEA97
INC &F5         :\ EA97= E6 F5       fu
LDY &F5         :\ EA99= A4 F5       $u
LDX #&0D        :\ EA9B= A2 0D       ".
.LEA9D
PHP             :\ EA9D= 08          .
JSR LF0A8       :\ EA9E= 20 A8 F0     (p
PLP             :\ EAA1= 28          (
CMP #&01        :\ EAA2= C9 01       I.
TYA             :\ EAA4= 98          .
RTS             :\ EAA5= 60          `
 
.LEAA6
LDX #&0E        :\ EAA6= A2 0E       ".
LDY #&FF        :\ EAA8= A0 FF        .
JMP LEA9D       :\ EAAA= 4C 9D EA    L.j
 
.LEAAD
LDA &03CB       :\ EAAD= AD CB 03    -K.
STA &F6         :\ EAB0= 85 F6       .v
LDA &03CC       :\ EAB2= AD CC 03    -L.
STA &F7         :\ EAB5= 85 F7       .w
LDA &F5         :\ EAB7= A5 F5       %u
RTS             :\ EAB9= 60          `
 
.LEABA
LDX #&FF        :\ EABA= A2 FF       ".
STX &0242       :\ EABC= 8E 42 02    .B.
.LEABF
PHP             :\ EABF= 08          .
LDA &0282       :\ EAC0= AD 82 02    -..
AND #&7F        :\ EAC3= 29 7F       ).
PHA             :\ EAC5= 48          H
LDA #&10        :\ EAC6= A9 10       ).
BIT &025A       :\ EAC8= 2C 5A 02    ,Z.
BNE LEAD1       :\ EACB= D0 04       P.
PLA             :\ EACD= 68          h
ORA #&80        :\ EACE= 09 80       ..
PHA             :\ EAD0= 48          H
.LEAD1
PLA             :\ EAD1= 68          h
CMP &0282       :\ EAD2= CD 82 02    M..
BEQ LEADD       :\ EAD5= F0 06       p.
STA &0282       :\ EAD7= 8D 82 02    ...
STA LFE07       :\ EADA= 8D 07 FE    ..~
.LEADD
PLA             :\ EADD= 68          h
RTS             :\ EADE= 60          `

\ KEYV handler
\ ************
.LEADF
BVC LEAE9       :\ V=0, jump to keyscan routines (eg INKEY-num)
INC &0242       :\ Increment keyboard semaphore
BCS LEAEE       :\ V=1, C=1, jump with timer interupt
JMP LEC06       :\ V=1, C=0, jump with keypress interupt

\ VC, keyscan call
\ ----------------
.LEAE9
BCC LEAEE       :\ V=0, C=0, jump to test SHIFT and CTRL
JMP LEC53       :\ V=0, C=1, jump to scan whole keyboard
 
.LEAEE
LDA &025A           :\ Get current keyboard status
\                   :\   Bit 7  =1 Control pressed
\                   :\   Bit 6  =1 Shift pressed
\                   :\   bit 5  =1 Func is pressed
AND #&1F            :\ Clear bits 7-5, Shift off, Ctrl off, Func off
LDX #&3B:JSR LEC1E  :\ Scan for key &3B - SHIFT
STX &0277           :\ Save SHIFT keystate
CLV                 :\ Clear V = SHIFT is not pressed
BPL LEB03           :\ If no key pressed, skip past
BIT LD8BC           :\ Set V = SHIFT is pressed
ORA #&40            :\ Set bit 6 to indicate SHIFT is pressed
.LEB03
DEX:JSR LEC1E       :\ Scan for key &3A - CTRL
BCC LEABF           :\ If Carry clear, was entered to test keys
BPL LEB0D           :\ CTRL not pressed, skip past
ORA #&80            :\ Set bit 7 to indicate CTRL is pressed
.LEB0D
DEX:JSR LEC1E       :\ Scan for key &39 - CAPS/FUNC
BPL LEB15           :\ CAPS/FUNC not pressed, skip past
ORA #&20            :\ Set bit 5 to indicate FUNC is pressed
.LEB15
STA &025A           :\ Update keyboard status byte
LDX &EC         :\ EB18= A6 EC       &l
BEQ LEB2E       :\ EB1A= F0 12       p.
JSR LEC1E       :\ Scan for key
BMI LEB31       :\ EB1F= 30 10       0.
CPX &EC         :\ EB21= E4 EC       dl
.LEB23
STX &EC         :\ EB23= 86 EC       .l
BNE LEB2E       :\ EB25= D0 07       P.
LDX #&00        :\ EB27= A2 00       ".
STX &EC         :\ EB29= 86 EC       .l
.LEB2B
JSR LEC13       :\ EB2B= 20 13 EC     .l
.LEB2E
JMP LEBDD       :\ EB2E= 4C DD EB    L]k
 
.LEB31
CPX &EC         :\ EB31= E4 EC       dl
BNE LEB23       :\ EB33= D0 EE       Pn
LDA &E7         :\ EB35= A5 E7       %g
BEQ LEB5F       :\ EB37= F0 26       p&
DEC &E7         :\ EB39= C6 E7       Fg
BNE LEB5F       :\ EB3B= D0 22       P"
LDA &02BF       :\ EB3D= AD BF 02    -?.
STA &E7         :\ EB40= 85 E7       .g
LDA &0255       :\ EB42= AD 55 02    -U.
STA &02BF       :\ EB45= 8D BF 02    .?.
LDA &025A       :\ EB48= AD 5A 02    -Z.
LDX &EC         :\ EB4B= A6 EC       &l
CPX #&B9        :\ EB4D= E0 B9       `9
BNE LEB62       :\ EB4F= D0 11       P.
BIT &0277       :\ EB51= 2C 77 02    ,w.
BPL LEB58       :\ EB54= 10 02       ..
EOR #&30        :\ EB56= 49 30       I0
.LEB58
STA &025A       :\ EB58= 8D 5A 02    .Z.
LDA #&00        :\ EB5B= A9 00       ).
STA &E7         :\ EB5D= 85 E7       .g
.LEB5F
JMP LEBDD       :\ EB5F= 4C DD EB    L]k

\ Convert keypress to ASCII and insert in keyboard buffer
\ --------------------------------------------------------
\ On entry, X=internal key number &04-&3B OR &80 keypress
.LEB62
LDA LEDD3-&80-4,X  :\ Get code from lookup table
LDX &025A          :\ Get keyboard status
STX &0277          :\ Store it in &0277
TAX                :\ Copy key code to X
CMP #&21:BCC LEBC4 :\ Jump with control code or space
CMP #&26:BCS LEB85 :\ Jump with non-special keys
LDA #&C0:BIT &0277 :\ Test SHIFT+CTRL in copy of keyboard state
BEQ LEB7F          :\ Neither pressed, treat as editing key
LDY &ED:BEQ LEB85  :\ If not first keypress, treat as normal key
.LEB7F
CLC:TXA:ADC #&6A   :\ Convert &21-&25 to &8B-&8F
BNE LEBC3          :\ Jump to insert into buffer

\ Modify keypress according to modifiers
\ --------------------------------------
.LEB85
LDA &0277           :\ Get copy of keyboard status
EOR #&10:BEQ LEBC4  :\
ROL &0277:BCC LEB9A :\ Ctrl not pressed, skip past
LDY &ED:BNE LEB2B   :\ More than one key pressed....
LDA LEEC5-&2C,X     :\ Translate Ctrl+Key
BCS LEBC3           :\ Jump to insert in buffer

.LEB9A
ROL &0277:BCC LEBA9 :\ Shift not pressed, skip past
LDY &ED:BNE LEB2B   :\ More than one key pressed...
LDA LEFE3-&2C,X:TAX :\ Translate Shift+Keypress
BCS LEBB3           :\ EBA7= B0 0A       0.

.LEBA9
ROL &0277:BCC LEBB6 :\ Func not pressed...
LDA LF00B,X         :\ Translate Func+Keypress
BCS LEBC3           :\ Jump to insert in buffer

.LEBB3
ROL &0277           :\ Move CAPS bit up
.LEBB6
ROL &0277:BCS LEBC3 :\ CAPS not set, skip past
TXA                 :\ 
JSR LE251:BCS LEBC3 :\ If not a letter, skip past
EOR #&20            :\ Toggle case
.LEBC3
TAX                 :\ Copy code to X for insertion

\ Keycode has been modified, prepare to insert in keyboard buffer
.LEBC4
TXA:CMP &026C       :\ Is it Escape character?
BNE LEBD1           :\ No, skip to insert it
LDX &0275           :\ Get Escape key status
BNE LEBD1           :\ If Escape returns ASCII, skip to insert it
STX &E7             :\ Cancel autorepeat timer
.LEBD1
TAY                 :\ Y=character for insertion
JSR LED34           :\ Disable keyboard
LDA &0259:BNE LEBDD :\ If keyboard locked, skip
JSR LE25F           :\ Insert into keyboard buffer
.LEBDD
LDX &ED         :\ EBDD= A6 ED       &m
BEQ LEBEC       :\ EBDF= F0 0B       p.
JSR LEC1E       :\ EBE1= 20 1E EC     .l
STX &ED         :\ EBE4= 86 ED       .m
BMI LEBEC       :\ EBE6= 30 04       0.
LDX #&00        :\ EBE8= A2 00       ".
STX &ED         :\ EBEA= 86 ED       .m
.LEBEC
LDX &ED         :\ EBEC= A6 ED       &m
BNE LEC06       :\ EBEE= D0 16       P.
LDY #&EC        :\ EBF0= A0 EC        l
JSR LED76       :\ EBF2= 20 76 ED     vm
BMI LEC03       :\ EBF5= 30 0C       0.
JSR LE950       :\ EBF7= 20 50 E9     Pi
LDA &EC         :\ EBFA= A5 EC       %l
STA &ED         :\ EBFC= 85 ED       .m
.LEBFE
STX &EC         :\ EBFE= 86 EC       .l
JSR LEC13       :\ EC00= 20 13 EC     .l
.LEC03
JMP LEABA       :\ EC03= 4C BA EA    L:j

\ VS, CC - keypressed interupt
\ ----------------------------
.LEC06
LDA &EC:BNE LEC03  :\ Get current keypress, if pressed back to housekeeping
LDY #&ED           :\ Point Y to last keypress location
JSR LED76       :\ EC0C= 20 76 ED     vm
BMI LEC03       :\ EC0F= 30 F2       0r
BPL LEBFE       :\ EC11= 10 EB       .k
.LEC13
LDX #&01        :\ EC13= A2 01       ".
STX &E7         :\ EC15= 86 E7       .g
LDX &0254       :\ EC17= AE 54 02    .T.
STX &02BF       :\ EC1A= 8E BF 02    .?.
RTS             :\ EC1D= 60          `

\ Scan keyboard for internal key in X
\ -----------------------------------
\ Internal key numbers are &00-&3F, &00 indicates nonexistant key
\ Actual keys are &04-&3B
\ On entry, X=internal key number &00-&3F with or without bit 7 set
\ On exit,  X=keynumber OR &00/&80 keypress
\           Y=&00/&80 keypress
\           A=preserved
\           F=set from &00/&80 keypress in Y
.LEC1E
BEQ LEC48           :\ X=0, nonexistant key, exit
PHA                 :\ Save A
TXA:AND #&3F:PHA    :\ Save keynum b0-b5
JSR LECF8           :\ Get address and map of key
STA &FC             :\ Store bitmask in &FC
LDX &F4             :\ X=current ROM
LDA #&08:JSR LE3A0  :\ Page in keyboard in ROM 8
PHP:JSR LED38:PLP   :\ Read internal keypress from ROM
AND &FC             :\ Mask with row bitmask to get b0-b3 set
BEQ LEC3C           :\ Nothing set, skip forward
LDA #&80            :\ Bit set, convert it to &80
.LEC3C
STA &FC             :\ Store &00/&80 keypress state
JSR LE39F           :\ Restore current ROM from X
PLA                 :\ Get original keypress back
ORA &FC:TAX         :\ OR with &00/&80 keypress state, return in X
PLA                 :\ Restore A
LDY &FC             :\ Return keypress &00/&80 in Y
.LEC48
RTS

.LEC49
BIT LD8BC       :\ EC49= 2C BC D8    ,<X
.LEC4C
JMP (&0228)     :\ EC4C= 6C 28 02    l(.

\ OSBYTE &7A - Keyboard scan from &10
\ -----------------------------------
.LEC4F
LDX #&01        :\ Start from key &01

\ OSBYTE &79 - Keyboard scan from X
\ ---------------------------------
.LEC51
BCS LEC4C       :\ If Carry set from OSBYTE entry, vector via KEYV
\               :\ And thence back to:

\ KEYV - Scan keyboard, C=1, V=0, X=first key 
\ ===========================================
.LEC53
TXA:BPL LEC95   :\ If X<&80, scan multiple keys
AND #&7F:TAY    :\ Lose bit 7
JSR LE950       :\ Some counter stuff
LDX LEE40,Y     :\ Translate keypress
JSR LEC1E       :\ Scan for this key
TXA:RTS         :\ Copy keystate to A and return
 
.LEC64
BVC LEC75       :\ EC64= 50 0F       P.
JSR LEC82       :\ EC66= 20 82 EC     .l
BCC LEC75       :\ EC69= 90 0A       ..
BIT &02C0       :\ EC6B= 2C C0 02    ,@.
BEQ LEC75       :\ EC6E= F0 05       p.
EOR &02C0       :\ EC70= 4D C0 02    M@.
BEQ LEC81       :\ EC73= F0 0C       p.
.LEC75
LDX #&FF        :\ EC75= A2 FF       ".
.LEC77
LSR A           :\ EC77= 4A          J
INX             :\ EC78= E8          h
BCC LEC77       :\ EC79= 90 FC       .|
LDA #&00        :\ EC7B= A9 00       ).
.LEC7D
ROL A           :\ EC7D= 2A          *
DEX             :\ EC7E= CA          J
BPL LEC7D       :\ EC7F= 10 FC       .|
.LEC81
RTS             :\ EC81= 60          `
 
.LEC82
CLC             :\ EC82= 18          .
PHA             :\ EC83= 48          H
.LEC84
LDA &FA         :\ EC84= A5 FA       %z
EOR &02C1       :\ EC86= 4D C1 02    MA.
BNE LEC93       :\ EC89= D0 08       P.
LDA &FB         :\ EC8B= A5 FB       %{
EOR &02C2       :\ EC8D= 4D C2 02    MB.
BNE LEC93       :\ EC90= D0 01       P.
SEC             :\ EC92= 38          8
.LEC93
PLA             :\ EC93= 68          h
RTS             :\ EC94= 60          `
 
.LEC95
INX             :\ EC95= E8          h
TXA             :\ EC96= 8A          .
AND #&7F        :\ EC97= 29 7F       ).
TAX             :\ EC99= AA          *
SEI             :\ EC9A= 78          x
LDA &F4         :\ EC9B= A5 F4       %t
PHA             :\ EC9D= 48          H
LDA #&08:JSR LE3A0 :\ Select ROM 8 to read keyboard
LDA #&FF:TAY       :\
STA &02C0          :\ ECA6= 8D C0 02    .@.
STX &02C1          :\ ECA9= 8E C1 02    .A.
LDA &8000          :\ Read from %xx00000000000 - all columns
AND #&0F           :\ Mask and keep all rows
BEQ LECE9          :\ If zero, nothing pressed anywhere, quickly exit
STY &FA            :\ Start from &9FFF for column A13
LDX #&9F:STX &FB   :\
LDX #&00        :\ ECB9= A2 00       ".
.LECBB
JSR LED38          :\ Read this column
AND #&0F:BEQ LECF2 :\ If nothing pressed, skip to check next column
LDY #&04        :\ ECC2= A0 04        .
.LECC4
LSR A           :\ ECC4= 4A          J
BCC LECD9       :\ ECC5= 90 12       ..
PHA             :\ ECC7= 48          H
LDA LEE08,X     :\ ECC8= BD 08 EE    =.n
CMP &02C1       :\ ECCB= CD C1 02    MA.
BCC LECD8       :\ ECCE= 90 08       ..
CMP &02C0       :\ ECD0= CD C0 02    M@.
BCS LECD8       :\ ECD3= B0 03       0.
STA &02C0       :\ ECD5= 8D C0 02    .@.
.LECD8
PLA             :\ ECD8= 68          h
.LECD9
INX             :\ ECD9= E8          h
DEY             :\ ECDA= 88          .
BNE LECC4       :\ ECDB= D0 E7       Pg
.LECDD
LDA &FB         :\ Get high byte of address
EOR #&C0        :\ Swap b15/b14
SEC:ROR A       :\ Move bits down, keeping in &80-&BF range
ROR &FA         :\ Rotate into low byte
STA &FB         :\ Update high byte
BCS LECBB       :\ If zero bit hasn't fallen out, loop back
.LECE9
LDX &02C0           :\ Get result
PLA:JSR LE3A0       :\ Restore previous ROM
TXA:RTS             :\ Copy result to A and return
 
.LECF2
INX:INX:INX:INX :\ Set to next keynum
BPL LECDD       :\ Will always be positive, loop back

\ Translate keynumber to address and bitmask
\ ------------------------------------------
\ A=internal key number
\ Returns low address line A0-A13 for key column
\ and bitmask 1,2,4,8 for D0-D3 for key row
.LECF8
PHP               :\ Save flags
PHA               :\ Save key number
AND #&3F          :\ Reduce to key number &00-&3F
LSR A:LSR A:TAX   :\ Divide by four
LDA LED18-1,X     :\ Get high byte of address of this key
STA &FB:STA &02C2
LDA LED26-1,X     :\ Get low byte of address of this key
STA &FA:STA &02C1
PLA:AND #&03:TAX  :\ Get b0-b1 of keynum back
LDA LF086,X       :\ Get bit position for b0-b1
PLP:RTS           :\ Restore flags and return

\ Addresses in ROM 8 of internal keypresses
\ -----------------------------------------
\ (keynum DIV 4) high byte
\ Translates column number 0-13 to low address line A0-A13
.LED18                                  \         b0  b1  b2  b3
EQUB &BF        :\ ED18= BF          ?  \ &04-&07 ->  CPY     SPC
EQUB &BF        :\ ED19= BF          ?  \ &08-&0B <-  DWN RET DEL
EQUB &BF        :\ ED1A= BF          ?  \ &0C-&0F  -  UP   :
EQUB &BF        :\ ED1B= BF          ?  \ &10-&13  0   P   ;   ?
EQUB &BF        :\ ED1C= BF          ?  \ &14-&17  9   O   L   >
EQUB &BF        :\ ED1D= BF          ?  \ &18-&1B  8   I   K   <
EQUB &BF        :\ ED1E= BF          ?  \ &1C-&1F  7   U   J   M
EQUB &BF        :\ ED1F= BF          ?  \ &20-&23  6   Y   H   N
EQUB &BE        :\ ED20= BE          >  \ &24-&27  5   T   G   B
EQUB &BD        :\ ED21= BD          =  \ &28-&2B  4   R   F   V
EQUB &BB        :\ ED22= BB          ;  \ &2C-&2F  3   E   D   C
EQUB &B7        :\ ED23= B7          7  \ &30-&33  2   W   S   X
EQUB &AF        :\ ED24= AF          /  \ &34-&37  1   Q   A   Z
EQUB &9F        :\ ED25= 9F          .  \ &38-&3B ESC CAP CTL SFT

\ (keynum DIV 4) low byte
.LED26
INC LFBFD,X     :\ ED26= FE FD FB    ~}{
EQUB &F7        :\ ED29= F7          w
EQUB &EF        :\ ED2A= EF          o
EQUB &DF        :\ ED2B= DF          _
EQUB &BF        :\ ED2C= BF          ?
.LED2D
EQUB &7F        :\ ED2D= 7F          .
EQUB &FF        :\ ED2E= FF          .
EQUB &FF        :\ ED2F= FF          .
EQUB &FF        :\ ED30= FF          .
EQUB &FF        :\ ED31= FF          .
EQUB &FF        :\ ED32= FF          .
EQUB &FF        :\ ED33= FF          .

.LED34
CLI             :\ ED34= 58          X
SEI             :\ ED35= 78          x
TXA             :\ ED36= 8A          .
RTS             :\ ED37= 60          `

\ Read keypress from ROM 8 at address in (&FA,&FB)
\ ------------------------------------------------
\ Instead of doing LDA (&FA),0 the code does it manually
\ Y is corrupted, so there's nothing to stop it doing:
\ LDY #0, LDA (&FA),Y, RTS
.LED38
LDY &FA         :\ Get low byte of key column address
INY:BEQ LED42   :\ If &FF, jump to use other addresses
DEY             :\ Restore address for &BFxx
LDA &BF00,Y     :\ Read keyboard matrix for %xx111111yyyyyyyy
RTS             :\ Return with A=key state

.LED42
LDA &FB            :\ Get high byte of address
CMP #&BB:BCS LED5E :\ If &BB-&BE, jump to do
CMP #&AF:BCC LED58 :\ If >&AF, jump to do &9FFF for  %xx01111111111111
BEQ LED52          :\ If &AF, jump to read &AFFF for %xx10111111111111
LDA &B7FF          :\ Read from &B7FF for            %xx11011111111111
RTS

.LED52
LDA &FF         :\ Read Escape flag - padding to make equal timing?
LDA &AFFF       :\  and read keypress at &AFFF
RTS             :\
 
.LED58
LDA &FF         :\ Read Escape flag - padding to make equal timing?
LDA &9FFF       :\  and read keypress at &9FFF
RTS             :\
 
.LED5E
LDA &FB            :\ Get high byte of address again
CMP #&BD:BCC LED6A :\ If <&BD, jump to do &BBFF for  %xx11101111111111
BEQ LED70          :\ If &BD, jump to read &BDFF for %xx11110111111111
LDA &BEFF          :\ Read from &BEFF for            %xx11111011111111
RTS

.LED6A
LDA &FF         :\ Read Escape flag - padding to make equal timing?
LDA &BBFF       :\ ED6C= AD FF BB    -.;
RTS             :\ ED6F= 60          `
 
.LED70
LDA &FF         :\ Read Escape flag - padding to make equal timing?
LDA &BDFF       :\ ED72= AD FF BD    -.=
RTS             :\ ED75= 60          `
 
.LED76
CLV             :\ ED76= B8          8
LDA &0000,Y     :\ ED77= B9 00 00    9..
BEQ LED85       :\ ED7A= F0 09       p.
BIT LD8BC       :\ ED7C= 2C BC D8    ,<X
JSR LECF8       :\ Scan for a keypress
STA &02C0       :\ ED82= 8D C0 02    .@.
.LED85
LDA &F4:PHA        :\ Save current ROM
LDA #&08
STA &F4:STA LFE05  :\ Page in ROM 8 to read keyboard
LDY #&FF:STY &FA   :\ Start at &AFFF for column 12
LDX #&AF:STX &FB
LDA &A000          :\ Check if any key (except SHIFT/CTRL) pressed
AND #&0F           :\ Check all row bits
BEQ LEDB6          :\ Nothing pressed
.LED9E
JSR LED38          :\ Read keypress location
AND #&0F        :\ EDA1= 29 0F       ).
BEQ LEDAA       :\ EDA3= F0 05       p.
JSR LEC64       :\ EDA5= 20 64 EC     dl
BNE LEDCA       :\ EDA8= D0 20       P 
.LEDAA
LDA &FB         :\ EDAA= A5 FB       %{
EOR #&C0        :\ EDAC= 49 C0       I@
SEC             :\ EDAE= 38          8
ROR A           :\ EDAF= 6A          j
ROR &FA         :\ EDB0= 66 FA       fz
STA &FB         :\ EDB2= 85 FB       .{
BCS LED9E       :\ EDB4= B0 E8       0h
.LEDB6
LDA #&9F        :\ EDB6= A9 9F       ).
STA &FB         :\ EDB8= 85 FB       .{
LDA &9FFF       :\ EDBA= AD FF 9F    -..
AND #&03        :\ EDBD= 29 03       ).
BEQ LEDC6       :\ EDBF= F0 05       p.
JSR LEC64       :\ EDC1= 20 64 EC     dl
BNE LEDCA       :\ EDC4= D0 04       P.
.LEDC6
LDX #&80        :\ EDC6= A2 80       ".
BMI LEDCD       :\ EDC8= 30 03       0.
.LEDCA
JSR LF047       :\ EDCA= 20 47 F0     Gp
.LEDCD
PLA             :\ EDCD= 68          h
JSR LE3A0       :\ EDCE= 20 A0 E3      c
TXA             :\ EDD1= 8A          .
RTS             :\ EDD2= 60          `

\ Translation table from internal key number to ASCII
\ ---------------------------------------------------
\ &21-&25 values are multi-function keys
\ &21 -  COPY   &22 -  <-    &23 -  -> 
\ &24 -  DWN    &25 -  UP
.LEDD3
EQUS "#!"+CHR$0+" "         :\ EDD3= 23          #
                            :\ EDD4= 21 00       !.
EQUS """$"+CHR$13+CHR$127   :\ EDD6= 20 22 24     "$
EQUS "-%:"+CHR$0:\ EDD9= 0D 7F 2D    ..-
                :\ EDDC= 25 3A       %:
                :\ EDDE= 00          .
EQUS "0p;/"     :\ EDDF= 30 70       0p
                :\ EDE1= 3B          ;
                :\ EDE2= 2F          /
EQUS "9ol,"     :\ EDE3= 39 6F 6C    9ol
EQUS "8ik,"     :\ EDE6= 2E 38 69    .8i
                :\ EDE9= 6B          k
EQUS "7ujm"     :\ EDEA= 2C 37 75    ,7u
                :\ EDED= 6A          j
EQUS "6yhn"     :\ EDEE= 6D 36 79    m6y
                :\ EDF1= 68          h
EQUS "5tgb"     :\ EDF2= 6E 35 74    n5t
                :\ EDF5= 67          g
                :\ EDF6= 62          b
EQUS "4rfv"     :\ EDF7= 34 72       4r
                :\ EDF9= 66 76       fv
EQUS "3edc"     :\ EDFB= 33          3
                :\ EDFC= 65 64       ed
                :\ EDFE= 63          c
EQUS "2wsx"     :\ EDFF= 32 77       2w
                :\ EE01= 73          s
                :\ EE02= 78          x
EQUS "1qaz"     :\ EE03= 31 71       1q
                :\ EE05= 61 7A       az
EQUB &1B        :\ EE07= 1B          .

.LEE08
BVS LEE4A       :\ EE08= 70 40       p@
ORA (&00,X)     :\ EE0A= 01 00       ..
BMI LEE1E       :\ EE0C= 30 10       0.
EOR (&61,X)     :\ EE0E= 41 61       Aa
AND (&21),Y     :\ EE10= 31 21       1!
EOR (&42),Y     :\ EE12= 51 42       QB
ORA (&22),Y     :\ EE14= 11 22       ."
AND (&52)       :\ EE16= 32 52       2R
ORA (&33)       :\ EE18= 12 33       .3
EQUB &43        :\ EE1A= 43          C
EQUB &63        :\ EE1B= 63          c
EQUB &13        :\ EE1C= 13          .
EQUB &23        :\ EE1D= 23          #
.LEE1E
EQUB &53        :\ EE1E= 53          S
STZ &34         :\ EE1F= 64 34       d4
EQUB &44        :\ EE21= 44          D
EQUB &54        :\ EE22= 54          T
EOR &24,X       :\ EE23= 55 24       U$
AND &45,X       :\ EE25= 35 45       5E
ADC &15         :\ EE27= 65 15       e.
AND &46         :\ EE29= 25 46       %F
ROR &26         :\ EE2B= 66 26       f&
ROL &56,X       :\ EE2D= 36 56       6V
EQUB &67        :\ EE2F= 67          g
EQUB &27        :\ EE30= 27          '
EQUB &37        :\ EE31= 37          7
EQUB &57        :\ EE32= 57          W
PLA             :\ EE33= 68          h
EQUB &17        :\ EE34= 17          .
AND LFF48,Y     :\ EE35= 39 48 FF    9H.
ORA &4929,Y     :\ EE38= 19 29 49    .)I
EOR &6979,Y     :\ EE3B= 59 79 69    Yyi
EQUB &FF        :\ EE3E= FF          .
EQUB &62        :\ EE3F= 62          b

\ Negative INKEY keypress translation table
\ -----------------------------------------
\ Key numbers &xF are filtered out and passed to sideways ROMs
.LEE40
EQUB &3B        :\ EE40= 3B          ; \ 00  -1  SHIFT
DEC A           :\ EE41= 3A          : \ 01  -2  CTRL
BRK             :\ EE42= 00          . \ 02  -3  l1 - doesn't exist
BRK             :\ EE43= 00          . \ 03  -4  l2 - doesn't exist
BRK             :\ EE44= 00          . \ 04  -5  l3 - doesn't exist
BRK             :\ EE45= 00          . \ 05  -6  l4 - doesn't exist
BRK             :\ EE46= 00          . \ 06  -7  l5 - doesn't exist
BRK             :\ EE47= 00          . \ 07  -8  l6 - doesn't exist
BRK             :\ EE48= 00          . \ 08  -9  l7 - doesn't exist
BRK             :\ EE49= 00          . \ 09 -10  l8 - doesn't exist
.LEE4A
BRK             :\ EE4A= 00          . \ 0A -11
BRK             :\ EE4B= 00          . \ 0B -12
BRK             :\ EE4C= 00          . \ 0C -13
BRK             :\ EE4D= 00          . \ 0D -14
BRK             :\ EE4E= 00          . \ 0E -15
BRK             :\ EE4F= 00          . \ 0F -16
EQUB &35        :\ EE50= 35          5 \ 10 -17  Q
EQUB &2C        :\ EE51= 2C          , \ 11 -18  3
PLP             :\ EE52= 28          ( \ 12 -19  4
EQUB &24        :\ EE53= 24          $ \ 13 -20  5
BRK             :\ EE54= 00          . \ 14 -21  f4 - doesn't exist
CLC             :\ EE55= 18          . \ 15 -22  8
BRK             :\ EE56= 00          . \ 16 -23  f7 - doesn't exist
EQUB &0C        :\ EE57= 0C          . \ 17 -24  -
EQUB &08        :\ EE58= 08          . \ 18 -25  ^
EQUB &08        :\ EE59= 08          . \ 19 -26  <-
BRK             :\ EE5A= 00          . \ 1A -27
BRK             :\ EE5B= 00          . \ 1B -28
BRK             :\ EE5C= 00          . \ 1C -29
BRK             :\ EE5D= 00          . \ 1D -30
BRK             :\ EE5E= 00          . \ 1E -31
BRK             :\ EE5F= 00          . \ 1F -32
BRK             :\ EE60= 00          . \ 20 -33  f0 - doesn't exist
EQUB &31        :\ EE61= 31            \ 21 -34  W
EQUB &2D        :\ EE62= 2D            \ 22 -35  E
EQUB &25        :\ EE63= 25            \ 23 -36  T
EQUB &1C        :\ EE64= 1C            \ 24 -37  7
EQUB &19        :\ EE65= 19            \ 25 -38  I
EQUB &14        :\ EE66= 14            \ 26 -39  9
EQUB &10        :\ EE67= 10            \ 27 -40  0
EQUB &09        :\ EE68= 09            \ 28 -41  _
EQUB &09        :\ EE69= 09            \ 29 -42  DWN
BRK             :\ EE6A= 00          . \ 2A -43
BRK             :\ EE6B= 00          . \ 2B -44
BRK             :\ EE6C= 00          . \ 2C -45
BRK             :\ EE6D= 00          . \ 2D -46
BRK             :\ EE6E= 00          . \ 2E -47
BRK             :\ EE6F= 00          . \ 2F -48
EQUB &34        :\ EE70= 34            \ 30 -49  1
EQUB &30        :\ EE71= 30            \ 31 -50  2
EQUB &2E        :\ EE72= 2E            \ 32 -51  D
EQUB &29        :\ EE73= 29            \ 33 -52  R
EQUB &20        :\ EE74= 20            \ 34 -53  6
EQUB &1D        :\ EE75= 1D            \ 35 -54  U
EQUB &15        :\ EE76= 15            \ 36 -55  O
EQUB &11        :\ EE77= 11            \ 37 -56  P
EQUB &05        :\ EE78= 05            \ 38 -57  [
EQUB &0D        :\ EE79= 0D            \ 39 -58  UP
BRK             :\ EE7A= 00          . \ 3A -59
BRK             :\ EE7B= 00          . \ 3B -60
BRK             :\ EE7C= 00          . \ 3C -61
BRK             :\ EE7D= 00          . \ 3D -62
BRK             :\ EE7E= 00          . \ 3E -63
BRK             :\ EE7F= 00          . \ 3F -64
EQUB &39        :\ EE80= 39            \ 40 -65  CAPS
EQUB &36        :\ EE81= 36            \ 41 -66  A
EQUB &33        :\ EE82= 33            \ 42 -67  X
ROL A           :\ EE83= 2A          * \ 43 -68  F
EQUB &21        :\ EE84= 21          ! \ 44 -69  Y
EQUB &1E        :\ EE85= 1E          . \ 45 -70  J
INC A           :\ EE86= 1A          . \ 46 -71  K
EQUB &10        :\ EE87= 10          . \ 47 -72  @
EQUB &0E        :\ EE88= 0E          . \ 48 -73  :
.LEE89
ASL A           :\ EE89= 0A          . \ 49 -74  RET
BRK             :\ EE8A= 00          . \ 4A -75
BRK             :\ EE8B= 00          . \ 4B -76
BRK             :\ EE8C= 00          . \ 4C -77
BRK             :\ EE8D= 00          . \ 4D -78
BRK             :\ EE8E= 00          . \ 4E -79
BRK             :\ EE8F= 00          . \ 4F -80
BRK             :\ EE90= 00          . \ 50 -81  SHLOCK
EQUB &32        :\ EE91= 32          . \ 51 -82  S
EQUB &2F        :\ EE92= 2F          . \ 52 -83  C
EQUB &26        :\ EE93= 26          . \ 53 -84  G
EQUB &22        :\ EE94= 22          . \ 54 -85  H
EQUB &23        :\ EE95= 23          # \ 55 -86  N
EQUB &16        :\ EE96= 16          . \ 56 -87  L
EQUB &12        :\ EE97= 12          . \ 57 -88  ;
EQUB &05        :\ EE98= 05          . \ 58 -89  ]
EQUB &0B        :\ EE99= 0B          . \ 59 -90  DEL
BRK             :\ EE9A= 00          . \ 5A -91
BRK             :\ EE9B= 00          . \ 5B -92
BRK             :\ EE9C= 00          . \ 5C -93
BRK             :\ EE9D= 00          . \ 5D -94
BRK             :\ EE9E= 00          . \ 5E -95
BRK             :\ EE9F= 00          . \ 5F -96
BRK             :\ EEA0= 00          . \ 60 -97   TAB
EQUB &37        :\ EEA1= 37          7 \ 61 -98   Z
EQUB &07        :\ EEA2= 07          . \ 62 -99   SPC
EQUB &2B        :\ EEA3= 2B          + \ 63 -100  V
EQUB &27        :\ EEA4= 27          ' \ 64 -101  B
EQUB &1F        :\ EEA5= 1F          . \ 65 -102  M
EQUB &1B        :\ EEA6= 1B          . \ 66 -103  <
EQUB &17        :\ EEA7= 17          . \ 67 -104  >
EQUB &13        :\ EEA8= 13          . \ 68 -105  ?
.LEEA9
EQUB &05        :\ EEA9= 05          . \ 69 -106  COPY
BRK             :\ EEAA= 00          . \ 6A -107
BRK             :\ EEAB= 00          . \ 6B -108
BRK             :\ EEAC= 00          . \ 6C -109
BRK             :\ EEAD= 00          . \ 6D -110
BRK             :\ EEAE= 00          . \ 6E -111
BRK             :\ EEAF= 00          . \ 6F -112
SEC             :\ EEB0= 38          8 \ 70 -113  Esc
BRK             :\ EEB1= 00          . \ 71 -114  f1 - doesn't exist
BRK             :\ EEB2= 00          . \ 72 -115  f2 - doesn't exist
BRK             :\ EEB3= 00          . \ 73 -116  f3 - doesn't exist
BRK             :\ EEB4= 00          . \ 74 -117  f5 - doesn't exist
BRK             :\ EEB5= 00          . \ 75 -118  f6 - doesn't exist
BRK             :\ EEB6= 00          . \ 76 -119  f8 - doesn't exist
BRK             :\ EEB7= 00          . \ 77 -120  f9 - doesn't exist
EQUB &04        :\ EEB8= 04          . \ 78 -121  \
EQUB &04        :\ EEB9= 04          . \ 79 -122  ->

\ Negative INKEY translation table overlaps following, giving results for -123 to -126
\ ------------------------------------------------------------------------------------
\ Mixed keys translation table
\ 
.LEEBA
EQUS "]"        :\ EEBA= 5D          ] \ 7A -123 -> &1D U
EQUS "~"        :\ EEBB= 7E          ~ \ 7B -124 -> &3E selects H to RETURN
EQUS "\"        :\ EEBC= 5C          \ \ 7C -125 -> &1C 7
EQUS "}"        :\ EEBD= 7D          } \ 7D -126 -> &3D selects Y to COPY
EQUS "{"        :\ EEBE= 7B          { \ 7E -127 -> &3B SHIFT

.LEEBF
JMP (&00FA)     :\ EEBF= 6C FA 00    lz.
.LEEC2
JMP (LFDFE)     :\ EEC2= 6C FE FD    l~}

\ Ctrl+Keypress translation table
\ -------------------------------
\ Converts &2C-&3B to control code
.LEEC5 
TRB &1E1D       :\ EEC5= 1C 1D 1E    ...
EQUB &1F        :\ EEC8= 1F          .
BRK             :\ EEC9= 00          .
AND (&32),Y     :\ EECA= 31 32       12
EQUB &33        :\ EECC= 33          3
BIT &35,X       :\ EECD= 34 35       45
ROL &37,X       :\ EECF= 36 37       67
SEC             :\ EED1= 38          8
AND &3B3A,Y     :\ EED2= 39 3A 3B    9:;

\ *HELP
\ =====
.LEED5
LDX #&09:JSR LF0A8   :\ Issue service 9 - *Help
JSR LF9BA            :\ Print inline text, corrupting FS workspace at &B8/9
                     :\ Y will be <>0, so inline text will be printed
.LEEDD
EQUB 13:EQUS "OS 1.00":EQUB 13:EQUB 0
RTS

.LEEE8
PHP             :\ EEE8= 08          .
SEI             :\ EEE9= 78          x
LDX #&00        :\ EEEA= A2 00       ".
STX &0248       :\ EEEC= 8E 48 02    .H.
LDA &0253       :\ EEEF= AD 53 02    -S.
STA &0251       :\ EEF2= 8D 51 02    .Q.
JSR LC8A3       :\ EEF5= 20 A3 C8     #H
PLP             :\ EEF8= 28          (
RTS             :\ EEF9= 60          `
 
\ Ctrl+Keypress translation table
\ -------------------------------
\ Converts &61-&7A to control code
.LEEFA
ORA (&02,X)     :\ EEFA= 01 02       ..
EQUB &03        :\ EEFC= 03          .
TSB &05         :\ EEFD= 04 05       ..
ASL &07         :\ EEFF= 06 07       ..
PHP             :\ EF01= 08          .
ORA #&0A        :\ EF02= 09 0A       ..
EQUB &0B        :\ EF04= 0B          .
TSB &0E0D       :\ EF05= 0C 0D 0E    ...
EQUB &0F        :\ EF08= 0F          .
BPL LEF1C       :\ EF09= 10 11       ..
ORA (&13)       :\ EF0B= 12 13       ..
TRB &15         :\ EF0D= 14 15       ..
ASL &17,X       :\ EF0F= 16 17       ..
CLC             :\ EF11= 18          .
EQUW &1A19      :\ EF12= 19 1A       ..

\ OSBYTE xx - Decrement ROM polling semaphore
\ -------------------------------------------
.LEF14
DEC &0249       :\ EF14= CE 49 02    NI.
RTS             :\ EF17= 60          `
 
\ Ctrl+Keypress translation table
\ -------------------------------
\ Converts &7F to control code
.LEF18
EQUB &7F        :\ EF18= 7F          .

.LEF19
BRK             :\ EF19= 00          .
TSB &0C         :\ EF1A= 04 0C       ..
.LEF1C
ORA (&16)       :\ EF1C= 12 16       ..
INC A           :\ EF1E= 1A          .
ORA &2421,X     :\ EF1F= 1D 21 24    .!$
AND #&2C        :\ EF22= 29 2C       ),
AND (&35),Y     :\ EF24= 31 35       15
AND &413D,Y     :\ EF26= 39 3D 41    9=A
EOR &4A         :\ EF29= 45 4A       EJ
LSR &5652       :\ EF2B= 4E 52 56    NRV
EQUB &5B        :\ EF2E= 5B          [
LSR &6965,X     :\ EF2F= 5E 65 69    ^ei
EQUB &6F        :\ EF32= 6F          o
ADC (&72)       :\ EF33= 72 72       rr
ADC (&76)       :\ EF35= 72 76       rv
ROR &7A,X       :\ EF37= 76 7A       vz
TSB &08         :\ EF39= 04 08       ..
ASL &04         :\ EF3B= 06 04       ..
TSB &03         :\ EF3D= 04 03       ..
TSB &03         :\ EF3F= 04 03       ..
ORA &03         :\ EF41= 05 03       ..
ORA &04         :\ EF43= 05 04       ..
TSB &04         :\ EF45= 04 04       ..
TSB &04         :\ EF47= 04 04       ..
ORA &04         :\ EF49= 05 04       ..
TSB &04         :\ EF4B= 04 04       ..
ORA &03         :\ EF4D= 05 03       ..
EQUB &07        :\ EF4F= 07          .
TSB &06         :\ EF50= 04 06       ..
EQUB &03        :\ EF52= 03          .
BRK             :\ EF53= 00          .
BRK             :\ EF54= 00          .
TSB &00         :\ EF55= 04 00       ..
TSB &05         :\ EF57= 04 05       ..
.LEF59
EOR (&55,X)     :\ EF59= 41 55       AU
EQUB &54        :\ EF5B= 54          T
EQUB &4F        :\ EF5C= 4F          O
EOR (&45)       :\ EF5D= 52 45       RE
LSR &4D55       :\ EF5F= 4E 55 4D    NUM
EQUB &42        :\ EF62= 42          B
EOR &52         :\ EF63= 45 52       ER
EQUB &43        :\ EF65= 43          C
EQUB &4F        :\ EF66= 4F          O
JMP &554F       :\ EF67= 4C 4F 55    LOU
 
EOR (&44)       :\ EF6A= 52 44       RD
EOR (&41)       :\ EF6C= 52 41       RA
EQUB &57        :\ EF6E= 57          W
EOR &4C         :\ EF6F= 45 4C       EL
EQUB &53        :\ EF71= 53          S
EOR &46         :\ EF72= 45 46       EF
EQUB &4F        :\ EF74= 4F          O
EOR (&47)       :\ EF75= 52 47       RG
EQUB &4F        :\ EF77= 4F          O
EQUB &54        :\ EF78= 54          T
EQUB &4F        :\ EF79= 4F          O
EQUB &44        :\ EF7A= 44          D
EOR &47         :\ EF7B= 45 47       EG
EOR #&4E        :\ EF7D= 49 4E       IN
BVC LEFD6       :\ EF7F= 50 55       PU
EQUB &54        :\ EF81= 54          T
EOR (&41)       :\ EF82= 52 41       RA
EQUB &44        :\ EF84= 44          D
EQUB &43        :\ EF85= 43          C
PHA             :\ EF86= 48          H
EOR (&49,X)     :\ EF87= 41 49       AI
LSR &494C       :\ EF89= 4E 4C 49    NLI
EQUB &53        :\ EF8C= 53          S
EQUB &54        :\ EF8D= 54          T
EOR &444F       :\ EF8E= 4D 4F 44    MOD
EOR &4E         :\ EF91= 45 4E       EN
EOR &58         :\ EF93= 45 58       EX
EQUB &54        :\ EF95= 54          T
EQUB &4F        :\ EF96= 4F          O
JMP &0D44       :\ EF97= 4C 44 0D    LD.
 
BVC LEFE8       :\ EF9A= 50 4C       PL
EQUB &4F        :\ EF9C= 4F          O
EQUB &54        :\ EF9D= 54          T
JMP &434F       :\ EF9E= 4C 4F 43    LOC
 
EOR (&4C,X)     :\ EFA1= 41 4C       AL
EOR (&55)       :\ EFA3= 52 55       RU
LSR &530D       :\ EFA5= 4E 0D 53    N.S
EQUB &54        :\ EFA8= 54          T
EOR &50         :\ EFA9= 45 50       EP
EQUB &54        :\ EFAB= 54          T
PHA             :\ EFAC= 48          H
EOR &4E         :\ EFAD= 45 4E       EN
EOR &4E,X       :\ EFAF= 55 4E       UN
EQUB &54        :\ EFB1= 54          T
EOR #&4C        :\ EFB2= 49 4C       IL
LSR &44,X       :\ EFB4= 56 44       VD
EOR &52,X       :\ EFB6= 55 52       UR
EOR &53         :\ EFB8= 45 53       ES
EQUB &54        :\ EFBA= 54          T
EQUB &4F        :\ EFBB= 4F          O
EOR (&45)       :\ EFBC= 52 45       RE
.LEFBE
BVC LF012       :\ EFBE= 50 52       PR
EQUB &4F        :\ EFC0= 4F          O
EQUB &43        :\ EFC1= 43          C
EOR (&45)       :\ EFC2= 52 45       RE
BVC LF00B       :\ EFC4= 50 45       PE
EOR (&54,X)     :\ EFC6= 41 54       AT
EOR &4E         :\ EFC8= 45 4E       EN
EQUB &44        :\ EFCA= 44          D
JMP &414F       :\ EFCB= 4C 4F 41    LOA
 
EQUB &44        :\ EFCE= 44          D
EQUB &53        :\ EFCF= 53          S
EOR (&56,X)     :\ EFD0= 41 56       AV
EOR &50         :\ EFD2= 45 50       EP
EOR (&49)       :\ EFD4= 52 49       RI
.LEFD6
LSR &5B54       :\ EFD6= 4E 54 5B    NT[
LSR &5F7C,X     :\ EFD9= 5E 7C 5F    ^|_
RTS             :\ EFDC= 60          `

\ Read bottom of user memory
\ --------------------------
.LEFDD
LDY &0244       :\ EFDD= AC 44 02    ,D.
LDX #&00        :\ EFE0= A2 00       ".
RTS             :\ EFE2= 60          `

\ Shift+Keypress translation table
\ --------------------------------
\ Converts &2C-&3A to shifted code
.LEFE3 
BIT &3E3D,X     :\ EFE3= 3C 3D 3E    <=>
EQUB &3F        :\ EFE6= 3F          ?
RTI             :\ EFE7= 40          @
 
.LEFE8
AND (&22,X)     :\ EFE8= 21 22       !"
EQUB &23        :\ EFEA= 23          #
BIT &25         :\ EFEB= 24 25       $%
ROL &27         :\ EFED= 26 27       &'
PLP             :\ EFEF= 28          (
AND #&2A        :\ EFF0= 29 2A       )*
EQUB &2B        :\ EFF2= 2B          +
.LEFF3
CMP #&7F        :\ EFF3= C9 7F       I.
BEQ LF008       :\ EFF5= F0 11       p.
BCC LEFFC       :\ EFF7= 90 03       ..
EOR #&20        :\ EFF9= 49 20       I 
RTS             :\ EFFB= 60          `
 
.LEFFC
CMP #&60        :\ EFFC= C9 60       I`
BNE LF002       :\ EFFE= D0 02       P.
LDA #&5F        :\ F000= A9 5F       )_
.LF002
CMP #&40        :\ F002= C9 40       I@
BCC LF008       :\ F004= 90 02       ..
AND #&1F        :\ F006= 29 1F       ).
.LF008
RTS             :\ F008= 60          `

.LF009
EQUS "/!BOOT":EQUB 13   :\ Command string for ROMFS boot

\ OSBYTE &78 - Write keys pressed data
\ ------------------------------------
.LF010
STY &EC         :\ Clear rollover keypress
.LF012
LDA LEE40,X     :\ Translate keypress in X
STA &ED         :\ Store as current key pressed
RTS             :\ 

\ Shift+Keypress translation table
\ --------------------------------
\ Converts &61-&7A to shifted code
.LF018
EOR (&42,X)     :\ F018= 41 42       AB
EQUB &43        :\ F01A= 43          C
EQUB &44        :\ F01B= 44          D
EOR &46         :\ F01C= 45 46       EF
EQUB &47        :\ F01E= 47          G
PHA             :\ F01F= 48          H
EOR #&4A        :\ F020= 49 4A       IJ
EQUB &4B        :\ F022= 4B          K
JMP &4E4D       :\ F023= 4C 4D 4E    LMN
 
EQUB &4F        :\ F026= 4F          O
BVC LF07A       :\ F027= 50 51       PQ
EOR (&53)       :\ F029= 52 53       RS
EQUB &54        :\ F02B= 54          T
EOR &56,X       :\ F02C= 55 56       UV
EQUB &57        :\ F02E= 57          W
CLI             :\ F02F= 58          X
EQUS "YZ"       :\ F030= 59 5A BC    YZ<

.LF032
LDA &FE00,X     :\ F032= BC 00 FE    <.~
RTS             :\ F035= 60          `

\ Shift+Keypress translation table
\ --------------------------------
\ Converts &61-&7A to shifted code
.LF036
EQUB &7F        :\ F036= 7F          .

\ Func+Keypress translation table
\ -------------------------------
\ Func+number -> function key
\ Func+letter -> &90-&A9
\ Func+symbol -> &AA-&AF
\
\ Converts &2C-&3B to Function code
.LF037
EQUB &AC        :\ F037= AC          ,   \ Func+, -> 
EQUB &AD        :\ F038= AD          -   \ Func+- -> 
EQUB &AE        :\ F039= AE          /   \ Func+/ -> 
EQUB &AF        :\ F03A= AF          .   \ Func+. -> 
BRA LEFBE       :\ F03B= 80 81       ..  \ Func+0 -> f0
EQUB &82        :\ F03D= 82          .
EQUB &83        :\ F03E= 83          .
STY &85         :\ F03F= 84 85       ..
STX &87         :\ F041= 86 87       ..
DEY             :\ F043= 88          .
BIT #&AA        :\ F044= 89 AA       .*  \ Func+: -> 
EQUB &AB        :\ F046= AB          +   \ Func+; -> 

.LF047
LDX #&FF        :\ F047= A2 FF       ".
.LF049
INX             :\ F049= E8          h
LSR A           :\ F04A= 4A          J
BCC LF049       :\ F04B= 90 FC       .|
STX &FC         :\ F04D= 86 FC       .|
LDA &FA         :\ F04F= A5 FA       %z
EOR #&FF        :\ F051= 49 FF       I.
BEQ LF062       :\ F053= F0 0D       p.
LDX #&00        :\ F055= A2 00       ".
.LF057
INX             :\ F057= E8          h
LSR A           :\ F058= 4A          J
BCC LF057       :\ F059= 90 FC       .|
TXA             :\ F05B= 8A          .
ASL A           :\ F05C= 0A          .
ASL A           :\ F05D= 0A          .
ORA &FC         :\ F05E= 05 FC       .|
TAX             :\ F060= AA          *
RTS             :\ F061= 60          `
 
.LF062
LDA &FB         :\ F062= A5 FB       %{
AND #&3F        :\ F064= 29 3F       )?
EOR #&3F        :\ F066= 49 3F       I?
LDX #&08        :\ F068= A2 08       ".
BNE LF057       :\ F06A= D0 EB       Pk

\ Func+Keypress translation table
\ -------------------------------
\ Converts &61-&7A to Function code
.LF06C
BCC LEFFF       :\ F06C= 90 91       ..
STA (&93)       :\ F06E= 92 93       ..
STY &95,X       :\ F070= 94 95       ..
STX &97,Y       :\ F072= 96 97       ..
TYA             :\ F074= 98          .
STA &9B9A,Y     :\ F075= 99 9A 9B    ...
STZ &9E9D       :\ F078= 9C 9D 9E    ...
EQUB &9F        :\ F07B= 9F          .
LDY #&A1        :\ F07C= A0 A1        !
LDX #&A3        :\ F07E= A2 A3       "#
LDY &A5         :\ F080= A4 A5       $%
LDX &A7         :\ F082= A6 A7       &'
TAY             :\ F084= A8          (
EQUB &A9        :\ F085= A9          )

\ Bitmask for 0-3
\ ---------------
.LF086
EQUB &01        :\ F086= 01          .
EQUB &02        :\ F087= 02          .
TSB &08         :\ F088= 04 08       ..

\ Func+Keypress translation table
\ -------------------------------
\ Converts &7F to Function code
.LF08A
EQUB &7F        :\ F08A= 7F          .

.LF08B
LDA #&A1        :\ F08B= A9 A1       )!
STA &E3         :\ F08D= 85 E3       .c
LDA #&19        :\ F08F= A9 19       ).
STA &03D1       :\ F091= 8D D1 03    .Q.
.LF094
LDA #&06        :\ F094= A9 06       ).
JSR LDDBA       :\ F096= 20 BA DD     :]
LDX #&0E        :\ F099= A2 0E       ".
.LF09B
LDA LD856,X     :\ F09B= BD 56 D8    =VX
STA &0211,X     :\ F09E= 9D 11 02    ...
DEX             :\ F0A1= CA          J
BNE LF09B       :\ F0A2= D0 F7       Pw
STX &C2         :\ F0A4= 86 C2       .B
LDX #&0F        :\ F0A6= A2 0F       ".
.LF0A8
LDA &F4         :\ F0A8= A5 F4       %t
PHA             :\ F0AA= 48          H
TXA             :\ F0AB= 8A          .
LDX #&0F        :\ F0AC= A2 0F       ".
.LF0AE
INC &02A0,X     :\ F0AE= FE A0 02    ~ .
DEC &02A0,X     :\ F0B1= DE A0 02    ^ .
BPL LF0C3       :\ F0B4= 10 0D       ..
PHA             :\ F0B6= 48          H
JSR LE39F       :\ F0B7= 20 9F E3     .c
PLA             :\ F0BA= 68          h
JSR &8003       :\ F0BB= 20 03 80     ..
TAX             :\ F0BE= AA          *
BEQ LF0C6       :\ F0BF= F0 05       p.
LDX &F4         :\ F0C1= A6 F4       &t
.LF0C3
DEX             :\ F0C3= CA          J
BPL LF0AE       :\ F0C4= 10 E8       .h
.LF0C6
PLA             :\ F0C6= 68          h
JSR LE3A0       :\ F0C7= 20 A0 E3      c
TXA             :\ F0CA= 8A          .
RTS             :\ F0CB= 60          `

\ OSARGS
\ ======
.LF0CC
CPY #&00:BNE LF0D9  :\ Y<>0, exit
ORA #&00:BNE LF0D9  :\ A<>0, exit
LDA &0247:ORA #&01  :\ Get CFS/RFS switch, convert to FS number
.LF0D9
RTS

\ FSCV DISPATCH TABLE
\ -------------------
.LF0DA
EQUB &A3        :\ F0DA= A3          #
.LF0DB
EQUB &F4        :\ F0DB= F4          t
EQUB &77        :\ F0DC= 77          w
SBC &5A,X       :\ F0DD= F5 5A       uZ
SBC (&7D)       :\ F0DF= F2 7D       r}
CPX #&5A        :\ F0E1= E0 5A       `Z
SBC (&80)       :\ F0E3= F2 80       r.
SBC (&E2)       :\ F0E5= F2 E2       rb
EQUB &DF        :\ F0E7= DF          _

\ CFS/RFS FSC
\ ===========
.LF0E8
CMP #&07        :\ F0E8= C9 07       I.
BCS LF0D9       :\ F0EA= B0 ED       0m
STX &BC         :\ F0EC= 86 BC       .<
ASL A           :\ F0EE= 0A          .
TAX             :\ F0EF= AA          *
LDA LF0DB,X     :\ F0F0= BD DB F0    =[p
PHA             :\ F0F3= 48          H
LDA LF0DA,X     :\ F0F4= BD DA F0    =Zp
PHA             :\ F0F7= 48          H
LDX &BC         :\ F0F8= A6 BC       &<
RTS             :\ F0FA= 60          `

\ CFS/RFS Load file
\ =================
\ A=&FF - called from LOAD
\ A=&00 - called from RUN
.LF0FB
PHP             :\ F0FB= 08          .
PHA             :\ F0FC= 48          H
JSR LFA82       :\ F0FD= 20 82 FA     .z
LDA &03C2       :\ F100= AD C2 03    -B.
PHA             :\ F103= 48          H
JSR LF58B       :\ F104= 20 8B F5     .u
PLA             :\ F107= 68          h
BEQ LF124       :\ F108= F0 1A       p.
LDX #&03        :\ F10A= A2 03       ".
LDA #&FF        :\ F10C= A9 FF       ).
.LF10E
PHA             :\ F10E= 48          H
LDA &03BE,X     :\ F10F= BD BE 03    =>.
STA &B0,X       :\ F112= 95 B0       .0
PLA             :\ F114= 68          h
AND &B0,X       :\ F115= 35 B0       50
DEX             :\ F117= CA          J
BPL LF10E       :\ F118= 10 F4       .t
CMP #&FF        :\ F11A= C9 FF       I.
BNE LF124       :\ F11C= D0 06       P.
JSR LFA59       :\ F11E= 20 59 FA     Yz
JMP LDFD5       :\ F121= 4C D5 DF    LU_
 
.LF124
LDA &03CA       :\ F124= AD CA 03    -J.
LSR A           :\ F127= 4A          J
PLA             :\ F128= 68          h
BEQ LF139       :\ F129= F0 0E       p.
BCC LF140       :\ F12B= 90 13       ..
.LF12D
JSR LFA63       :\ F12D= 20 63 FA     cz
BRK             :\ F130= 00          .
CMP &4C,X       :\ F131= D5 4C       UL
EQUB &6F        :\ F133= 6F          o
EQUB &63        :\ F134= 63          c
EQUB &6B        :\ F135= 6B          k
ADC &64         :\ F136= 65 64       ed
BRK             :\ F138= 00          .
.LF139
BCC LF140       :\ F139= 90 05       ..
LDA #&03        :\ F13B= A9 03       ).
STA &0258       :\ F13D= 8D 58 02    .X.
.LF140
LDA #&30        :\ F140= A9 30       )0
AND &BB         :\ F142= 25 BB       %;
BEQ LF14A       :\ F144= F0 04       p.
LDA &C1         :\ F146= A5 C1       %A
BNE LF154       :\ F148= D0 0A       P.
.LF14A
TYA             :\ F14A= 98          .
PHA             :\ F14B= 48          H
JSR LFB5C       :\ F14C= 20 5C FB     \{
PLA             :\ F14F= 68          h
TAY             :\ F150= A8          (
JSR LF735       :\ F151= 20 35 F7     5w
.LF154
JSR LF924       :\ F154= 20 24 F9     $y
BNE LF1AC       :\ F157= D0 53       PS
JSR LFAFA       :\ F159= 20 FA FA     zz
BIT &03CA       :\ F15C= 2C CA 03    ,J.
BMI LF169       :\ F15F= 30 08       0.
JSR LF8DA       :\ F161= 20 DA F8     Zx
JSR LF6DB       :\ F164= 20 DB F6     [v
BNE LF140       :\ F167= D0 D7       PW

\ Update control block
\ BUG! &C8/9 only set when called from OSFILE, will not be set by *RUN
.LF169
LDY #&02
.LF16B
LDA &03BC,Y:STA (&C8),Y     :\ Copy load/exec addresses
INY:CPY #&0A:BNE LF16B
LDA &03C8:STA (&C8),Y       :\ Length b0-b7=block length
INY:LDA &03C9:CLC
ADC &03C6:STA (&C8),Y       :\ Length b8-b23=block number
INY:LDA #&00
ADC &03C7:STA (&C8),Y       :\ Length b16-b23=overflow
INY:LDA #&00:STA (&C8),Y    :\ Length b24-b31=0
INY
.LF192
LDA &03BD,Y:STA (&C8),Y     :\ Copy RFS address at &03CB-&03CE to Attr
INY:CPY #&12:BNE LF192
PLP
.LF19D
JSR LFA59       :\ F19D= 20 59 FA     Yz
.LF1A0
BIT &BA         :\ F1A0= 24 BA       $:
BMI LF1AB       :\ F1A2= 30 07       0.
.LF1A4
PHP
JSR LF9B6       :\ Print inline text
EQUB 13:EQUB 0  :\ Could just do JSR OSNEWL
PLP
.LF1AB
RTS             :\ F1AB= 60          `
 
.LF1AC
JSR LF591       :\ F1AC= 20 91 F5     .u
BNE LF140       :\ F1AF= D0 8F       P.
.LF1B1
SEI             :\ F1B1= 78          x
STX &F2         :\ F1B2= 86 F2       .r
STY &F3         :\ F1B4= 84 F3       .s
LDY #&00        :\ F1B6= A0 00        .
JSR LE7FC       :\ F1B8= 20 FC E7     |g
LDX #&00        :\ F1BB= A2 00       ".
.LF1BD
JSR LE80E       :\ F1BD= 20 0E E8     .h
BCS LF1CF       :\ F1C0= B0 0D       0.
BEQ LF1CC       :\ F1C2= F0 08       p.
STA &03D2,X     :\ F1C4= 9D D2 03    .R.
INX             :\ F1C7= E8          h
CPX #&0B        :\ F1C8= E0 0B       `.
BNE LF1BD       :\ F1CA= D0 F1       Pq
.LF1CC
JMP LE86E       :\ F1CC= 4C 6E E8    Lnh
 
.LF1CF
LDA #&00        :\ F1CF= A9 00       ).
STA &03D2,X     :\ F1D1= 9D D2 03    .R.
CLI             :\ F1D4= 58          X
.LF1D5
RTS             :\ F1D5= 60          `
 
\ CFS/RFS OSFILE
\ ==============
.LF1D6
PHA             :\ F1D6= 48          H
STX &C8         :\ F1D7= 86 C8       .H
STY &C9         :\ F1D9= 84 C9       .I
LDY #&00        :\ F1DB= A0 00        .
LDA (&C8),Y     :\ F1DD= B1 C8       1H
TAX             :\ F1DF= AA          *
INY             :\ F1E0= C8          H
LDA (&C8),Y     :\ F1E1= B1 C8       1H
TAY             :\ F1E3= A8          (
JSR LF1B1       :\ F1E4= 20 B1 F1     1q
LDY #&02        :\ F1E7= A0 02        .
.LF1E9
LDA (&C8),Y     :\ F1E9= B1 C8       1H
STA &03BC,Y     :\ F1EB= 99 BC 03    .<.
STA &00AE,Y     :\ F1EE= 99 AE 00    ...
INY             :\ F1F1= C8          H
CPY #&0A        :\ F1F2= C0 0A       @.
BNE LF1E9       :\ F1F4= D0 F3       Ps
PLA             :\ F1F6= 68          h
BEQ LF200       :\ F1F7= F0 07       p.
CMP #&FF        :\ F1F9= C9 FF       I.
BNE LF1D5       :\ F1FB= D0 D8       PX
JMP LF0FB       :\ F1FD= 4C FB F0    L{p
 
.LF200
STA &03C6       :\ F200= 8D C6 03    .F.
STA &03C7       :\ F203= 8D C7 03    .G.
.LF206
LDA (&C8),Y     :\ F206= B1 C8       1H
STA &00A6,Y     :\ F208= 99 A6 00    .&.
INY             :\ F20B= C8          H
CPY #&12        :\ F20C= C0 12       @.
BNE LF206       :\ F20E= D0 F6       Pv
TXA             :\ F210= 8A          .
BEQ LF1CC       :\ F211= F0 B9       p9
JSR LFA82       :\ F213= 20 82 FA     .z
JSR LF893       :\ F216= 20 93 F8     .x
LDA #&00        :\ F219= A9 00       ).
JSR LFB5E       :\ F21B= 20 5E FB     ^{
.LF21E
SEC             :\ F21E= 38          8
LDX #&FD        :\ F21F= A2 FD       "}
.LF221
LDA LFFB7,X     :\ F221= BD B7 FF    =7.
SBC LFFB3,X     :\ F224= FD B3 FF    }3.
STA &02CB,X     :\ F227= 9D CB 02    .K.
INX             :\ F22A= E8          h
BNE LF221       :\ F22B= D0 F4       Pt
TAY             :\ F22D= A8          (
BNE LF23E       :\ F22E= D0 0E       P.
CPX &03C8       :\ F230= EC C8 03    lH.
LDA #&01        :\ F233= A9 01       ).
SBC &03C9       :\ F235= ED C9 03    mI.
BCC LF23E       :\ F238= 90 04       ..
LDX #&80        :\ F23A= A2 80       ".
BNE LF246       :\ F23C= D0 08       P.
.LF23E
LDA #&01        :\ F23E= A9 01       ).
STA &03C9       :\ F240= 8D C9 03    .I.
STX &03C8       :\ F243= 8E C8 03    .H.
.LF246
STX &03CA       :\ F246= 8E CA 03    .J.
JSR LF74C       :\ F249= 20 4C F7     Lw
BMI LF1D5       :\ F24C= 30 87       0.
JSR LF8DA       :\ F24E= 20 DA F8     Zx
INC &03C6       :\ F251= EE C6 03    nF.
BNE LF21E       :\ F254= D0 C8       PH
INC &03C7       :\ F256= EE C7 03    nG.
BNE LF21E       :\ F259= D0 C3       PC

\ *RUN <filename>
\ ===============
.LF25B
JSR LF1B1       :\ F25B= 20 B1 F1     1q
LDX #&FF        :\ F25E= A2 FF       ".
STX &03C2       :\ F260= 8E C2 03    .B.
JSR LF0FB       :\ F263= 20 FB F0     {p
BIT &027A       :\ F266= 2C 7A 02    ,z.
BPL LF275       :\ F269= 10 0A       ..
LDA &03C4       :\ F26B= AD C4 03    -D.
AND &03C5       :\ F26E= 2D C5 03    -E.
CMP #&FF        :\ F271= C9 FF       I.
BNE LF278       :\ F273= D0 03       P.
.LF275
JMP (&03C2)     :\ F275= 6C C2 03    lB.
 
.LF278
LDX #&C2        :\ F278= A2 C2       "B
LDY #&03        :\ F27A= A0 03        .
LDA #&04        :\ F27C= A9 04       ).
JMP LFB68       :\ F27E= 4C 68 FB    Lh{

\ *CAT
\ ====
.LF281 
LDA #&08        :\ F281= A9 08       ).
JSR LF29A       :\ F283= 20 9A F2     .r
JSR LFA82       :\ F286= 20 82 FA     .z
LDA #&00        :\ F289= A9 00       ).
JSR LF29E       :\ F28B= 20 9E F2     .r
JSR LFA6D       :\ F28E= 20 6D FA     mz
.LF291
LDA #&F7        :\ F291= A9 F7       )w
.LF293
AND &E2         :\ F293= 25 E2       %b
.LF295
STA &E2         :\ F295= 85 E2       .b
RTS             :\ F297= 60          `
 
.LF298
LDA #&40        :\ F298= A9 40       )@
.LF29A
ORA &E2         :\ F29A= 05 E2       .b
BNE LF295       :\ F29C= D0 F7       Pw
.LF29E
PHA             :\ F29E= 48          H
LDA &0247       :\ F29F= AD 47 02    -G.
BEQ LF2AF       :\ F2A2= F0 0B       p.
JSR LEA92       :\ F2A4= 20 92 EA     .j
JSR LEA97       :\ F2A7= 20 97 EA     .j
BCC LF2AF       :\ F2AA= 90 03       ..
CLV             :\ F2AC= B8          8
BVC LF2F0       :\ F2AD= 50 41       PA
.LF2AF
JSR LF6DB       :\ F2AF= 20 DB F6     [v
LDA &03C6       :\ F2B2= AD C6 03    -F.
STA &B4         :\ F2B5= 85 B4       .4
LDA &03C7       :\ F2B7= AD C7 03    -G.
STA &B5         :\ F2BA= 85 B5       .5
LDX #&FF        :\ F2BC= A2 FF       ".
STX &03DF       :\ F2BE= 8E DF 03    ._.
INX             :\ F2C1= E8          h
STX &BA         :\ F2C2= 86 BA       .:
BEQ LF2CC       :\ F2C4= F0 06       p.
.LF2C6
JSR LFAFA       :\ F2C6= 20 FA FA     zz
JSR LF6DB       :\ F2C9= 20 DB F6     [v
.LF2CC
LDA &0247       :\ F2CC= AD 47 02    -G.
BEQ LF2D3       :\ F2CF= F0 02       p.
BVC LF2F0       :\ F2D1= 50 1D       P.
.LF2D3
PLA             :\ F2D3= 68          h
PHA             :\ F2D4= 48          H
BEQ LF304       :\ F2D5= F0 2D       p-
JSR LF9E2       :\ F2D7= 20 E2 F9     by
BNE LF2F2       :\ F2DA= D0 16       P.
LDA #&30        :\ F2DC= A9 30       )0
AND &BB         :\ F2DE= 25 BB       %;
BEQ LF2F0       :\ F2E0= F0 0E       p.
LDA &03C6       :\ F2E2= AD C6 03    -F.
CMP &B6         :\ F2E5= C5 B6       E6
BNE LF2F2       :\ F2E7= D0 09       P.
LDA &03C7       :\ F2E9= AD C7 03    -G.
CMP &B7         :\ F2EC= C5 B7       E7
BNE LF2F2       :\ F2EE= D0 02       P.
.LF2F0
PLA             :\ F2F0= 68          h
RTS             :\ F2F1= 60          `
 
.LF2F2
LDA &0247       :\ F2F2= AD 47 02    -G.
BEQ LF304       :\ F2F5= F0 0D       p.
.LF2F7
JSR LEAAD       :\ F2F7= 20 AD EA     -j
.LF2FA
LDA #&FF        :\ F2FA= A9 FF       ).
STA &03C6       :\ F2FC= 8D C6 03    .F.
STA &03C7       :\ F2FF= 8D C7 03    .G.
BNE LF2C6       :\ F302= D0 C2       PB
.LF304
BVC LF30B       :\ F304= 50 05       P.
LDA #&FF        :\ F306= A9 FF       ).
JSR LF737       :\ F308= 20 37 F7     7w
.LF30B
LDX #&00        :\ F30B= A2 00       ".
JSR LF949       :\ F30D= 20 49 F9     Iy
LDA &0247       :\ F310= AD 47 02    -G.
BEQ LF319       :\ F313= F0 04       p.
BIT &BB         :\ F315= 24 BB       $;
BVC LF2F7       :\ F317= 50 DE       P^
.LF319
BIT &03CA       :\ F319= 2C CA 03    ,J.
BMI LF2FA       :\ F31C= 30 DC       0\
BPL LF2C6       :\ F31E= 10 A6       .&

\ CFS/RFS OSFIND HANDLER
\ ======================
STA &BC         :\ F320= 85 BC       .<
TXA             :\ F322= 8A          .
PHA             :\ F323= 48          H
TYA             :\ F324= 98          .
PHA             :\ F325= 48          H
LDA &BC         :\ F326= A5 BC       %<
BNE LF348       :\ F328= D0 1E       P.
TYA             :\ F32A= 98          .
BNE LF339       :\ F32B= D0 0C       P.
JSR LDFE3       :\ F32D= 20 E3 DF     c_
JSR LF3CE       :\ F330= 20 CE F3     Ns
.LF333
LSR &E2         :\ F333= 46 E2       Fb
ASL &E2         :\ F335= 06 E2       .b
BCC LF345       :\ F337= 90 0C       ..
.LF339
LSR A           :\ F339= 4A          J
BCS LF333       :\ F33A= B0 F7       0w
LSR A           :\ F33C= 4A          J
BCS LF342       :\ F33D= B0 03       0.
JMP LFB43       :\ F33F= 4C 43 FB    LC{
 
.LF342
JSR LF3CE       :\ F342= 20 CE F3     Ns
.LF345
JMP LF3C7       :\ F345= 4C C7 F3    LGs
 
.LF348
JSR LF1B1       :\ F348= 20 B1 F1     1q
BIT &BC         :\ F34B= 24 BC       $<
BVC LF38C       :\ F34D= 50 3D       P=
LDA #&00        :\ F34F= A9 00       ).
STA &039E       :\ F351= 8D 9E 03    ...
STA &03DD       :\ F354= 8D DD 03    .].
STA &03DE       :\ F357= 8D DE 03    .^.
LDA #&3E        :\ F35A= A9 3E       )>
JSR LF293       :\ F35C= 20 93 F2     .r
JSR LFA75       :\ F35F= 20 75 FA     uz
PHP             :\ F362= 08          .
JSR LF58B       :\ F363= 20 8B F5     .u
JSR LF611       :\ F366= 20 11 F6     .v
PLP             :\ F369= 28          (
LDX #&FF        :\ F36A= A2 FF       ".
.LF36C
INX             :\ F36C= E8          h
LDA &03B2,X     :\ F36D= BD B2 03    =2.
STA &03A7,X     :\ F370= 9D A7 03    .'.
BNE LF36C       :\ F373= D0 F7       Pw
LDA #&01        :\ F375= A9 01       ).
JSR LF29A       :\ F377= 20 9A F2     .r
LDA &02DE       :\ F37A= AD DE 02    -^.
ORA &02DF       :\ F37D= 0D DF 02    ._.
BNE LF385       :\ F380= D0 03       P.
JSR LF298       :\ F382= 20 98 F2     .r
.LF385
LDA #&01        :\ F385= A9 01       ).
ORA &0247       :\ F387= 0D 47 02    .G.
BNE LF3C5       :\ F38A= D0 39       P9
.LF38C
TXA             :\ F38C= 8A          .
BNE LF392       :\ F38D= D0 03       P.
JMP LE86E       :\ F38F= 4C 6E E8    Lnh
 
.LF392
LDX #&FF        :\ F392= A2 FF       ".
.LF394
INX             :\ F394= E8          h
LDA &03D2,X     :\ F395= BD D2 03    =R.
STA &0380,X     :\ F398= 9D 80 03    ...
BNE LF394       :\ F39B= D0 F7       Pw
LDA #&FF        :\ F39D= A9 FF       ).
LDX #&08        :\ F39F= A2 08       ".
.LF3A1
STA &038B,X     :\ F3A1= 9D 8B 03    ...
DEX             :\ F3A4= CA          J
BNE LF3A1       :\ F3A5= D0 FA       Pz
TXA             :\ F3A7= 8A          .
LDX #&14        :\ F3A8= A2 14       ".
.LF3AA
STA &0380,X     :\ F3AA= 9D 80 03    ...
INX             :\ F3AD= E8          h
CPX #&1E        :\ F3AE= E0 1E       `.
BNE LF3AA       :\ F3B0= D0 F8       Px
ROL &0397       :\ F3B2= 2E 97 03    ...
JSR LFA82       :\ F3B5= 20 82 FA     .z
JSR LF893       :\ F3B8= 20 93 F8     .x
JSR LFA63       :\ F3BB= 20 63 FA     cz
LDA #&02        :\ F3BE= A9 02       ).
JSR LF29A       :\ F3C0= 20 9A F2     .r
LDA #&02        :\ F3C3= A9 02       ).
.LF3C5
STA &BC         :\ F3C5= 85 BC       .<
.LF3C7
PLA             :\ F3C7= 68          h
TAY             :\ F3C8= A8          (
PLA             :\ F3C9= 68          h
TAX             :\ F3CA= AA          *
LDA &BC         :\ F3CB= A5 BC       %<
.LF3CD
RTS             :\ F3CD= 60          `
 
.LF3CE
LDA #&02        :\ F3CE= A9 02       ).
AND &E2         :\ F3D0= 25 E2       %b
BEQ LF3CD       :\ F3D2= F0 F9       py
LDA #&00        :\ F3D4= A9 00       ).
STA &0397       :\ F3D6= 8D 97 03    ...
LDA #&80        :\ F3D9= A9 80       ).
LDX &039D       :\ F3DB= AE 9D 03    ...
STX &0396       :\ F3DE= 8E 96 03    ...
STA &0398       :\ F3E1= 8D 98 03    ...
JSR LF3EC       :\ F3E4= 20 EC F3     ls
LDA #&FD        :\ F3E7= A9 FD       )}
JMP LF293       :\ F3E9= 4C 93 F2    L.r
 
.LF3EC
JSR LFA75       :\ F3EC= 20 75 FA     uz
JSR LF8C9       :\ F3EF= 20 C9 F8     Ix
LDX #&11        :\ F3F2= A2 11       ".
.LF3F4
LDA &038C,X     :\ F3F4= BD 8C 03    =..
STA &03BE,X     :\ F3F7= 9D BE 03    .>.
DEX             :\ F3FA= CA          J
BPL LF3F4       :\ F3FB= 10 F7       .w
STX &B2         :\ F3FD= 86 B2       .2
STX &B3         :\ F3FF= 86 B3       .3
LDA #&00        :\ F401= A9 00       ).
STA &B0         :\ F403= 85 B0       .0
LDA #&09        :\ F405= A9 09       ).
STA &B1         :\ F407= 85 B1       .1
LDX #&7F        :\ F409= A2 7F       ".
JSR LFB12       :\ F40B= 20 12 FB     .{
STA &03DF       :\ F40E= 8D DF 03    ._.
JSR LFB1F       :\ F411= 20 1F FB     .{
JSR LF74C       :\ F414= 20 4C F7     Lw
INC &0394       :\ F417= EE 94 03    n..
BNE LF41F       :\ F41A= D0 03       P.
INC &0395       :\ F41C= EE 95 03    n..
.LF41F
RTS             :\ F41F= 60          `
 
TXA             :\ F420= 8A          .
PHA             :\ F421= 48          H
TYA             :\ F422= 98          .
PHA             :\ F423= 48          H
LDA #&01        :\ F424= A9 01       ).
JSR LFB2D       :\ F426= 20 2D FB     -{
LDA &E2         :\ F429= A5 E2       %b
ASL A           :\ F42B= 0A          .
BCS LF47A       :\ F42C= B0 4C       0L
ASL A           :\ F42E= 0A          .
BCC LF43A       :\ F42F= 90 09       ..
LDA #&80        :\ F431= A9 80       ).
JSR LF29A       :\ F433= 20 9A F2     .r
LDA #&FE        :\ F436= A9 FE       )~
BCS LF472       :\ F438= B0 38       08
.LF43A
LDX &039E       :\ F43A= AE 9E 03    ...
INX             :\ F43D= E8          h
CPX &02DE       :\ F43E= EC DE 02    l^.
BNE LF46D       :\ F441= D0 2A       P*
BIT &02E0       :\ F443= 2C E0 02    ,`.
BMI LF46A       :\ F446= 30 22       0"
LDA &02E1       :\ F448= AD E1 02    -a.
PHA             :\ F44B= 48          H
JSR LFA75       :\ F44C= 20 75 FA     uz
PHP             :\ F44F= 08          .
JSR LF609       :\ F450= 20 09 F6     .v
PLP             :\ F453= 28          (
PLA             :\ F454= 68          h
STA &BC         :\ F455= 85 BC       .<
CLC             :\ F457= 18          .
BIT &02E0       :\ F458= 2C E0 02    ,`.
BPL LF474       :\ F45B= 10 17       ..
LDA &02DE       :\ F45D= AD DE 02    -^.
ORA &02DF       :\ F460= 0D DF 02    ._.
BNE LF474       :\ F463= D0 0F       P.
JSR LF298       :\ F465= 20 98 F2     .r
BNE LF474       :\ F468= D0 0A       P.
.LF46A
JSR LF298       :\ F46A= 20 98 F2     .r
.LF46D
DEX             :\ F46D= CA          J
CLC             :\ F46E= 18          .
LDA &0A00,X     :\ F46F= BD 00 0A    =..
.LF472
STA &BC         :\ F472= 85 BC       .<
.LF474
INC &039E       :\ F474= EE 9E 03    n..
JMP LF3C7       :\ F477= 4C C7 F3    LGs
 
.LF47A
BRK             :\ F47A= 00          .
EQUB &DF        :\ F47B= DF          _
EOR &4F         :\ F47C= 45 4F       EO
LSR &00         :\ F47E= 46 00       F.
STA &C4         :\ F480= 85 C4       .D
TXA             :\ F482= 8A          .
PHA             :\ F483= 48          H
TYA             :\ F484= 98          .
PHA             :\ F485= 48          H
LDA #&02        :\ F486= A9 02       ).
JSR LFB2D       :\ F488= 20 2D FB     -{
LDX &039D       :\ F48B= AE 9D 03    ...
LDA &C4         :\ F48E= A5 C4       %D
STA &0900,X     :\ F490= 9D 00 09    ...
INX             :\ F493= E8          h
BNE LF49C       :\ F494= D0 06       P.
JSR LF3EC       :\ F496= 20 EC F3     ls
JSR LFA63       :\ F499= 20 63 FA     cz
.LF49C
INC &039D       :\ F49C= EE 9D 03    n..
LDA &C4         :\ F49F= A5 C4       %D
JMP LF3C5       :\ F4A1= 4C C5 F3    LEs

\ CFS/RFS FILE OPTIONS, OPT X,Y
\ =============================
.LF4A4
TXA:BEQ LF4D5       :\ *OPT 0 - set default options
CPX #&03:BEQ LF4CA  :\ *OPT 3 - set interblock gap
CPY #&03:BCS LF4B5  :\ Y>2, jump to Bad command
DEX:BEQ LF4B8       :\ *OPT 1 - set message level
DEX:BEQ LF4BF       :\ *OPT 2 - set error level
.LF4B5
JMP LE07E           :\ Bad option, jump to Bad command

\ OPT 1,Y - set message level
\ ---------------------------
.LF4B8
LDA #&33        :\ F4B8= A9 33       )3
INY             :\ F4BA= C8          H
INY             :\ F4BB= C8          H
INY             :\ F4BC= C8          H
BNE LF4C1       :\ F4BD= D0 02       P.

\ OPT 2,Y - set error level
\ -------------------------
.LF4BF
LDA #&CC        :\ F4BF= A9 CC       )L
.LF4C1
INY             :\ F4C1= C8          H
AND &E3         :\ F4C2= 25 E3       %c
.LF4C4
ORA LF4D8,Y     :\ F4C4= 19 D8 F4    .Xt
STA &E3         :\ F4C7= 85 E3       .c
RTS             :\ F4C9= 60          `

\ OPT 3,Y - set interblock gap
\ ----------------------------
.LF4CA
TYA             :\ F4CA= 98          .
BMI LF4CF       :\ F4CB= 30 02       0.
BNE LF4D1       :\ F4CD= D0 02       P.
.LF4CF
LDA #&19        :\ F4CF= A9 19       ).
.LF4D1
STA &03D1       :\ F4D1= 8D D1 03    .Q.
RTS             :\ F4D4= 60          `
 
.LF4D5
TAY             :\ F4D5= A8          (
BEQ LF4C4       :\ F4D6= F0 EC       pl

\ CFS/RFS OPTION LOOKUP TABLE
\ ---------------------------
.LF4D8
EQUB &A1            :\ %1010 0001 - default
\                   :\  +------- load/save=short messages, retry errors
\                   :\       +-- bget/bput=no messages, abort errors
EQUB &00            :\ %0000 0000 - *OPT 2,0 - ignore errors
EQUB &22            :\ %0010 0010 - *OPT 2,1 - retry errors
EQUB &11            :\ %0001 0001 - *OPT 2,2 - abort errors
EQUB &00            :\ %0000 0000 - *OPT 1,0 - no messages
EQUB &88            :\ %1000 1000 - *OPT 1,1 - short messages
EQUB &CC            :\ %1100 1100 - *OPT 1,2 - long messages

.LF4DF
TAX
DEC &C0             :\ filing system buffer flag
LDA &0247           :\ filing system flag 0=CFS 2=RFS
BEQ LF4EE       :\ F4E5= F0 07       p.
JSR LEAA6       :\ F4E7= 20 A6 EA     &j
TAY             :\ F4EA= A8          (
CLC             :\ F4EB= 18          .
BCC LF50A       :\ F4EC= 90 1C       ..

.LF4EE
TXA             :\ F4EE= 8A          .
PHA             :\ F4EF= 48          H
AND #&20        :\ F4F0= 29 20       ) 
BEQ LF4FF       :\ F4F2= F0 0B       p.
LDY &CA         :\ F4F4= A4 CA       $J
BEQ LF4FF       :\ F4F6= F0 07       p.
PLA             :\ F4F8= 68          h
LDA &BD         :\ F4F9= A5 BD       %=
STA LFE04       :\ F4FB= 8D 04 FE    ..~
RTS             :\ F4FE= 60          `
 
.LF4FF
LDY LFE04       :\ F4FF= AC 04 FE    ,.~
LDA #&40        :\ F502= A9 40       )@
STA LFE05       :\ F504= 8D 05 FE    ..~
PLA             :\ F507= 68          h
ASL A           :\ F508= 0A          .
ASL A           :\ F509= 0A          .
.LF50A
LDX &C2         :\ F50A= A6 C2       &B
BEQ LF577       :\ F50C= F0 69       pi
DEX             :\ F50E= CA          J
BNE LF517       :\ F50F= D0 06       P.
BCC LF577       :\ F511= 90 64       .d
LDY #&02        :\ F513= A0 02        .
BNE LF575       :\ F515= D0 5E       P^
.LF517
DEX             :\ F517= CA          J
BNE LF52D       :\ F518= D0 13       P.
BCS LF577       :\ F51A= B0 5B       0[
TYA             :\ F51C= 98          .
JSR LFB09       :\ F51D= 20 09 FB     .{
LDY #&03        :\ F520= A0 03        .
CMP #&2A        :\ F522= C9 2A       I*
BEQ LF575       :\ F524= F0 4F       pO
JSR LFACD       :\ F526= 20 CD FA     Mz
LDY #&01        :\ F529= A0 01        .
BNE LF575       :\ F52B= D0 48       PH
.LF52D
DEX             :\ F52D= CA          J
BNE LF53C       :\ F52E= D0 0C       P.
BCS LF536       :\ F530= B0 04       0.
STY &BD         :\ F532= 84 BD       .=
BEQ LF577       :\ F534= F0 41       pA

.LF536
LDA #&80            :\ else A=&80
STA &C0             :\ filing system buffer flag
BNE LF577           :\ exit

.LF53C
DEX             :\ F53C= CA          J
BNE LF568       :\ F53D= D0 29       P)
BCS LF570       :\ F53F= B0 2F       0/
TYA             :\ F541= 98          .
JSR LF710           :\ update CRC
LDY &BC             :\ get offset into current block
INC &BC             :\ increment offset into current block
BIT &BD             :\ if bit 7 set this is the last byte read
BMI LF55A       :\ F54B= 30 0D       0.
JSR LFB4D       :\ F54D= 20 4D FB     M{
BEQ LF557       :\ F550= F0 05       p.
STX LFCE5           :\ send to Tube
BNE LF55A
.LF557
TXA:STA (&B0),Y     :\ store to I/O memory
.LF55A
INY                 :\ increment block offset
CPY &03C8:BNE LF577 :\ exit if not end of block
LDA #&01:STA &BC    :\ A=1 for two bytes of CRC to fetch
LDY #&05:BNE LF575  :\ jump to set progress=&05, fetching CRC

\ Progress=&05, fetching CRC
.LF568
TYA             :\ F568= 98          .
JSR LF710       :\ F569= 20 10 F7     .w
DEC &BC         :\ F56C= C6 BC       F<
BPL LF577       :\ F56E= 10 07       ..
.LF570
JSR LFAB0       :\ F570= 20 B0 FA     0z
LDY #&00        :\ F573= A0 00        .
.LF575
STY &C2         :\ F575= 84 C2       .B
.LF577
RTS             :\ F577= 60          `

\ CFS/RFS FSCV &01 - check EOF
\ ============================
.LF578 
PHA             :\ F578= 48          H
TYA             :\ F579= 98          .
PHA             :\ F57A= 48          H
TXA             :\ F57B= 8A          .
TAY             :\ F57C= A8          (
LDA #&03        :\ F57D= A9 03       ).
JSR LFB2D       :\ F57F= 20 2D FB     -{
LDA &E2         :\ F582= A5 E2       %b
AND #&40        :\ F584= 29 40       )@
TAX             :\ F586= AA          *
PLA             :\ F587= 68          h
TAY             :\ F588= A8          (
PLA             :\ F589= 68          h
RTS             :\ F58A= 60          `

\ Search for file
\ ===============
.LF58B
LDA #&00        :\ F58B= A9 00       ).
STA &B4         :\ F58D= 85 B4       .4
STA &B5         :\ F58F= 85 B5       .5
.LF591
LDA &B4         :\ F591= A5 B4       %4
PHA             :\ F593= 48          H
STA &B6         :\ F594= 85 B6       .6
LDA &B5         :\ F596= A5 B5       %5
PHA             :\ F598= 48          H
STA &B7         :\ F599= 85 B7       .7
JSR LF9B6       :\ F59B= 20 B6 F9     6y
EQUS "Searching"
EQUB &0D
EQUB &00
LDA #&FF            :\ A=&FF for loading (A=0 for CAT)
JSR LF29E           :\ Search for header
PLA             :\ F5AE= 68          h
STA &B5         :\ F5AF= 85 B5       .5
PLA             :\ F5B1= 68          h
STA &B4         :\ F5B2= 85 B4       .4
LDA &B6         :\ F5B4= A5 B6       %6
ORA &B7         :\ F5B6= 05 B7       .7
BNE LF5E2       :\ F5B8= D0 28       P(
STA &B4         :\ F5BA= 85 B4       .4
STA &B5         :\ F5BC= 85 B5       .5
\
\ BBC here updates filename if CRC ok
\
LDA &0247       :\ F5BE= AD 47 02    -G.
BEQ LF5D9       :\ F5C1= F0 16       p.
BVS LF5D9       :\ F5C3= 70 14       p.
.LF5C5
JSR LFA6D       :\ F5C5= 20 6D FA     mz
BRK
EQUB &D6
EQUS "File not found"
BRK

.LF5D9
\ BBC does this code earlier
LDA &C1:BNE LF5E2       :\ If bad CRC, skip past
LDX #&B1:JSR LFB12      :\ update filename
.LF5E2
LDY #&FF:STY &03DF      :\ set last block flag=&FF
RTS


\ Close EXEC file
\ ===============
.LF5E8
LDA #&00        :\ F5E8= A9 00       ).

\ *EXEC <filename>
\ ================
.LF5EA
PHP             :\ F5EA= 08          .
STY &E6         :\ F5EB= 84 E6       .f
LDY &0256       :\ F5ED= AC 56 02    ,V.
STA &0256       :\ F5F0= 8D 56 02    .V.
BEQ LF5F8       :\ F5F3= F0 03       p.
JSR OSFIND      :\ F5F5= 20 CE FF     N.
.LF5F8
LDY &E6         :\ F5F8= A4 E6       $f
PLP             :\ F5FA= 28          (
BEQ LF608       :\ F5FB= F0 0B       p.
LDA #&40        :\ F5FD= A9 40       )@
JSR OSFIND      :\ F5FF= 20 CE FF     N.
TAY             :\ F602= A8          (
BEQ LF5C5       :\ F603= F0 C0       p@
STA &0256       :\ F605= 8D 56 02    .V.
.LF608
RTS             :\ F608= 60          `

\ Read a block
\ ------------
.LF609
LDX #&A6        :\ F609= A2 A6       "&
JSR LFB12       :\ F60B= 20 12 FB     .{
JSR LF6DB       :\ F60E= 20 DB F6     [v
.LF611
LDA &03CA       :\ F611= AD CA 03    -J.
LSR A           :\ F614= 4A          J
BCC LF61A       :\ F615= 90 03       ..
JMP LF12D       :\ F617= 4C 2D F1    L-q
 
.LF61A
LDA &03DD       :\ F61A= AD DD 03    -].
STA &B4         :\ F61D= 85 B4       .4
LDA &03DE       :\ F61F= AD DE 03    -^.
STA &B5         :\ F622= 85 B5       .5
LDA #&00        :\ F624= A9 00       ).
STA &B0         :\ F626= 85 B0       .0
LDA #&0A        :\ F628= A9 0A       ).
STA &B1         :\ F62A= 85 B1       .1
LDA #&FF        :\ F62C= A9 FF       ).
STA &B2         :\ F62E= 85 B2       .2
STA &B3         :\ F630= 85 B3       .3
JSR LF735       :\ F632= 20 35 F7     5w
JSR LF924       :\ F635= 20 24 F9     $y
BNE LF65F       :\ F638= D0 25       P%
LDA &0AFF       :\ F63A= AD FF 0A    -..
STA &02E1       :\ F63D= 8D E1 02    .a.
JSR LFAFA       :\ F640= 20 FA FA     zz
STX &03DD       :\ F643= 8E DD 03    .].
STY &03DE       :\ F646= 8C DE 03    .^.
LDX #&02        :\ F649= A2 02       ".
.LF64B
LDA &03C8,X     :\ F64B= BD C8 03    =H.
STA &02DE,X     :\ F64E= 9D DE 02    .^.
DEX             :\ F651= CA          J
BPL LF64B       :\ F652= 10 F7       .w
BIT &02E0       :\ F654= 2C E0 02    ,`.
BPL LF65C       :\ F657= 10 03       ..
JSR LF1A0       :\ F659= 20 A0 F1      q
.LF65C
JMP LFA63       :\ F65C= 4C 63 FA    Lcz
 
.LF65F
JSR LF591       :\ F65F= 20 91 F5     .u
BNE LF611       :\ F662= D0 AD       P-
.LF664
LDA #&F7        :\ F664= A9 F7       )w
JSR LF293       :\ F666= 20 93 F2     .r
JSR LFA6D       :\ F669= 20 6D FA     mz
BRK
EQUB &D7
EQUS "Bad ROM"
BRK

.LF676
CMP #&2A            :\ is it Synchronising byte &2A?
BEQ LF6A2       :\ F678= F0 28       p(
CMP #&23        :\ F67A= C9 23       I#
BNE LF664       :\ F67C= D0 E6       Pf
INC &03C6       :\ F67E= EE C6 03    nF.
BNE LF686       :\ F681= D0 03       P.
INC &03C7       :\ F683= EE C7 03    nG.
.LF686
LDX #&FF        :\ F686= A2 FF       ".
BIT LD8BC       :\ F688= 2C BC D8    ,<X
BNE LF6D3       :\ F68B= D0 46       PF

.LF68D
LDY #&FF        :\ F68D= A0 FF        .
JSR LFB21       :\ F68F= 20 21 FB     !{
LDA #&01        :\ F692= A9 01       ).
STA &C2         :\ F694= 85 C2       .B
JSR LFACD       :\ F696= 20 CD FA     Mz
.LF699
JSR LF905       :\ F699= 20 05 F9     .y
LDA #&03        :\ F69C= A9 03       ).
CMP &C2         :\ F69E= C5 C2       EB
BNE LF699       :\ F6A0= D0 F7       Pw

.LF6A2
LDY #&00        :\ F6A2= A0 00        .
JSR LFB0D       :\ F6A4= 20 0D FB     .{
.LF6A7
JSR LF6F7       :\ F6A7= 20 F7 F6     wv
BVC LF6C6       :\ F6AA= 50 1A       P.
STA &03B2,Y     :\ F6AC= 99 B2 03    .2.
BEQ LF6B7       :\ F6AF= F0 06       p.
INY             :\ F6B1= C8          H
CPY #&0B        :\ F6B2= C0 0B       @.
BNE LF6A7       :\ F6B4= D0 F1       Pq
DEY             :\ F6B6= 88          .
.LF6B7
LDX #&0C        :\ F6B7= A2 0C       ".
.LF6B9
JSR LF6F7       :\ F6B9= 20 F7 F6     wv
BVC LF6C6       :\ F6BC= 50 08       P.
STA &03B2,X     :\ F6BE= 9D B2 03    .2.
INX             :\ F6C1= E8          h
CPX #&1F        :\ F6C2= E0 1F       `.
BNE LF6B9       :\ F6C4= D0 F3       Ps

.LF6C6
TYA             :\ F6C6= 98          .
TAX             :\ F6C7= AA          *
LDA #&00        :\ F6C8= A9 00       ).
STA &03B2,Y     :\ F6CA= 99 B2 03    .2.
LDA &BE         :\ F6CD= A5 BE       %>
ORA &BF         :\ F6CF= 05 BF       .?
STA &C1         :\ F6D1= 85 C1       .A

.LF6D3
JSR LFB09       :\ F6D3= 20 09 FB     .{
STY &C2         :\ F6D6= 84 C2       .B
TXA             :\ F6D8= 8A          .
BNE LF734       :\ F6D9= D0 59       PY

.LF6DB
LDA &0247       :\ F6DB= AD 47 02    -G.
BEQ LF68D       :\ F6DE= F0 AD       p-
.LF6E0
JSR LEAA6       :\ F6E0= 20 A6 EA     &j
CMP #&2B        :\ F6E3= C9 2B       I+
BNE LF676       :\ F6E5= D0 8F       P.
LDA #&08        :\ F6E7= A9 08       ).
AND &E2         :\ F6E9= 25 E2       %b
BEQ LF6F0       :\ F6EB= F0 03       p.
JSR LF1A4       :\ F6ED= 20 A4 F1     $q
.LF6F0
JSR LEA97       :\ F6F0= 20 97 EA     .j
BCC LF6E0       :\ F6F3= 90 EB       .k
CLV             :\ F6F5= B8          8
RTS             :\ F6F6= 60          `
 
.LF6F7
LDA &0247       :\ F6F7= AD 47 02    -G.
BEQ LF70D       :\ F6FA= F0 11       p.
TXA             :\ F6FC= 8A          .
PHA             :\ F6FD= 48          H
TYA             :\ F6FE= 98          .
PHA             :\ F6FF= 48          H
JSR LEAA6       :\ F700= 20 A6 EA     &j
STA &BD         :\ F703= 85 BD       .=
LDA #&FF        :\ F705= A9 FF       ).
STA &C0         :\ F707= 85 C0       .@
PLA             :\ F709= 68          h
TAY             :\ F70A= A8          (
PLA             :\ F70B= 68          h
TAX             :\ F70C= AA          *
.LF70D
JSR LF7E5       :\ F70D= 20 E5 F7     ew

\ Update CRC
\ ==========
.LF710
PHP             :\ F710= 08          .
PHA             :\ F711= 48          H
SEC             :\ F712= 38          8
ROR &CB         :\ F713= 66 CB       fK
EOR &BF         :\ F715= 45 BF       E?
STA &BF         :\ F717= 85 BF       .?
.LF719
LDA &BF         :\ F719= A5 BF       %?
ROL A           :\ F71B= 2A          *
BCC LF72A       :\ F71C= 90 0C       ..
ROR A           :\ F71E= 6A          j
EOR #&08        :\ F71F= 49 08       I.
STA &BF         :\ F721= 85 BF       .?
LDA &BE         :\ F723= A5 BE       %>
EOR #&10        :\ F725= 49 10       I.
STA &BE         :\ F727= 85 BE       .>
SEC             :\ F729= 38          8
.LF72A
ROL &BE         :\ F72A= 26 BE       &>
ROL &BF         :\ F72C= 26 BF       &?
LSR &CB         :\ F72E= 46 CB       FK
BNE LF719       :\ F730= D0 E7       Pg
PLA             :\ F732= 68          h
PLP             :\ F733= 28          (
.LF734
RTS             :\ F734= 60          `
 
.LF735
LDA #&00        :\ F735= A9 00       ).
.LF737
STA &BD         :\ F737= 85 BD       .=
LDX #&00        :\ F739= A2 00       ".
STX &BC         :\ F73B= 86 BC       .<
BVC LF749       :\ F73D= 50 0A       P.
LDA &03C8       :\ F73F= AD C8 03    -H.
ORA &03C9       :\ F742= 0D C9 03    .I.
BEQ LF749       :\ F745= F0 02       p.
LDX #&04        :\ F747= A2 04       ".
.LF749
STX &C2         :\ F749= 86 C2       .B
RTS             :\ F74B= 60          `

\ Save a block
\ ------------
.LF74C
PHP             :\ F74C= 08          .
LDX #&03        :\ F74D= A2 03       ".
LDA #&00        :\ F74F= A9 00       ).
.LF751
STA &03CB,X     :\ F751= 9D CB 03    .K.
DEX             :\ F754= CA          J
BPL LF751       :\ F755= 10 FA       .z
LDA &03C6       :\ F757= AD C6 03    -F.
ORA &03C7       :\ F75A= 0D C7 03    .G.
BNE LF764       :\ F75D= D0 05       P.
JSR LF7F3       :\ F75F= 20 F3 F7     sw
BEQ LF767       :\ F762= F0 03       p.
.LF764
JSR LF7F7       :\ F764= 20 F7 F7     ww
.LF767
LDA #&2A        :\ F767= A9 2A       )*
STA &BD         :\ F769= 85 BD       .=
JSR LFB09       :\ F76B= 20 09 FB     .{
JSR LFABF       :\ F76E= 20 BF FA     ?z
JSR LF7E5       :\ F771= 20 E5 F7     ew
LDY #&FF        :\ F774= A0 FF        .
.LF776
INY             :\ F776= C8          H
LDA &03D2,Y     :\ F777= B9 D2 03    9R.
STA &03B2,Y     :\ F77A= 99 B2 03    .2.
JSR LF7D6       :\ F77D= 20 D6 F7     Vw
BNE LF776       :\ F780= D0 F4       Pt
LDX #&0C        :\ F782= A2 0C       ".
.LF784
LDA &03B2,X     :\ F784= BD B2 03    =2.
JSR LF7D6       :\ F787= 20 D6 F7     Vw
INX             :\ F78A= E8          h
CPX #&1D        :\ F78B= E0 1D       `.
BNE LF784       :\ F78D= D0 F5       Pu
JSR LF7DC       :\ F78F= 20 DC F7     \w
LDA &03C8       :\ F792= AD C8 03    -H.
ORA &03C9       :\ F795= 0D C9 03    .I.
BEQ LF7B6       :\ F798= F0 1C       p.
LDY #&00        :\ F79A= A0 00        .
JSR LFB0D       :\ F79C= 20 0D FB     .{
.LF79F
LDA (&B0),Y     :\ F79F= B1 B0       10
JSR LFB4D       :\ F7A1= 20 4D FB     M{
BEQ LF7A9       :\ F7A4= F0 03       p.
LDX LFCE5       :\ F7A6= AE E5 FC    .e|
.LF7A9
TXA             :\ F7A9= 8A          .
JSR LF7D6       :\ F7AA= 20 D6 F7     Vw
INY             :\ F7AD= C8          H
CPY &03C8       :\ F7AE= CC C8 03    LH.
BNE LF79F       :\ F7B1= D0 EC       Pl
JSR LF7DC       :\ F7B3= 20 DC F7     \w
.LF7B6
BIT LF7E5       :\ F7B6= 2C E5 F7    ,ew
BIT LF7E5       :\ F7B9= 2C E5 F7    ,ew
JSR LFAB0       :\ F7BC= 20 B0 FA     0z
LDA #&01        :\ F7BF= A9 01       ).
JSR LF7F9       :\ F7C1= 20 F9 F7     yw
PLP             :\ F7C4= 28          (
JSR LF81A       :\ F7C5= 20 1A F8     .x
BIT &03CA       :\ F7C8= 2C CA 03    ,J.
BPL LF7D5       :\ F7CB= 10 08       ..
PHP             :\ F7CD= 08          .
JSR LF7F3       :\ F7CE= 20 F3 F7     sw
JSR LF19D       :\ F7D1= 20 9D F1     .q
PLP             :\ F7D4= 28          (
.LF7D5
RTS             :\ F7D5= 60          `
 
.LF7D6
JSR LF7E3       :\ F7D6= 20 E3 F7     cw
JMP LF710       :\ F7D9= 4C 10 F7    L.w
 
.LF7DC
LDA &BF         :\ F7DC= A5 BF       %?
JSR LF7E3       :\ F7DE= 20 E3 F7     cw
LDA &BE         :\ F7E1= A5 BE       %>
.LF7E3
STA &BD         :\ F7E3= 85 BD       .=
.LF7E5
JSR LF905       :\ F7E5= 20 05 F9     .y
BIT &C0         :\ F7E8= 24 C0       $@
BPL LF7E5       :\ F7EA= 10 F9       .y
LDA #&00        :\ F7EC= A9 00       ).
STA &C0         :\ F7EE= 85 C0       .@
LDA &BD         :\ F7F0= A5 BD       %=
RTS             :\ F7F2= 60          `
 
.LF7F3
LDA #&32        :\ F7F3= A9 32       )2
BNE LF7F9       :\ F7F5= D0 02       P.
.LF7F7
LDA &C7         :\ F7F7= A5 C7       %G
.LF7F9
LDX #&05        :\ F7F9= A2 05       ".
.LF7FB
STA &0240       :\ F7FB= 8D 40 02    .@.
.LF7FE
JSR LF905       :\ F7FE= 20 05 F9     .y
BIT &0240       :\ F801= 2C 40 02    ,@.
BPL LF7FE       :\ F804= 10 F8       .x
DEX             :\ F806= CA          J
BNE LF7FB       :\ F807= D0 F2       Pr
RTS             :\ F809= 60          `
 
.LF80A
LDA &03C6       :\ F80A= AD C6 03    -F.
ORA &03C7       :\ F80D= 0D C7 03    .G.
BEQ LF817       :\ F810= F0 05       p.
BIT &03DF       :\ F812= 2C DF 03    ,_.
BPL LF81A       :\ F815= 10 03       ..
.LF817
JSR LF1A0       :\ F817= 20 A0 F1      q
.LF81A
LDX #&00        :\ F81A= A2 00       ".
STX &BA         :\ F81C= 86 BA       .:
LDA &03CA       :\ F81E= AD CA 03    -J.
STA &03DF       :\ F821= 8D DF 03    ._.
JSR LE5AD       :\ F824= 20 AD E5     -e
BEQ LF892       :\ F827= F0 69       pi
LDA #&0D        :\ F829= A9 0D       ).
JSR OSWRCH      :\ F82B= 20 EE FF     n.
LDY #&00        :\ F82E= A0 00        .
.LF830
LDA &03B2,Y     :\ F830= B9 B2 03    92.
BEQ LF845       :\ F833= F0 10       p.
CMP #&20        :\ F835= C9 20       I 
BCC LF83D       :\ F837= 90 04       ..
CMP #&7F        :\ F839= C9 7F       I.
BCC LF83F       :\ F83B= 90 02       ..
.LF83D
LDA #&3F        :\ F83D= A9 3F       )?
.LF83F
JSR OSWRCH      :\ F83F= 20 EE FF     n.
INY             :\ F842= C8          H
BNE LF830       :\ F843= D0 EB       Pk
.LF845
LDA &0247       :\ F845= AD 47 02    -G.
BEQ LF84E       :\ F848= F0 04       p.
BIT &BB         :\ F84A= 24 BB       $;
BVC LF892       :\ F84C= 50 44       PD
.LF84E
JSR LF901       :\ F84E= 20 01 F9     .y
INY             :\ F851= C8          H
CPY #&0B        :\ F852= C0 0B       @.
BCC LF845       :\ F854= 90 EF       .o
LDA &03C6       :\ F856= AD C6 03    -F.
TAX             :\ F859= AA          *
JSR LF8EA       :\ F85A= 20 EA F8     jx
BIT &03CA       :\ F85D= 2C CA 03    ,J.
BPL LF892       :\ F860= 10 30       .0
TXA             :\ F862= 8A          .
CLC             :\ F863= 18          .
ADC &03C9       :\ F864= 6D C9 03    mI.
JSR LF8E5       :\ F867= 20 E5 F8     ex
LDA &03C8       :\ F86A= AD C8 03    -H.
JSR LF8EA       :\ F86D= 20 EA F8     jx
BIT &BB         :\ F870= 24 BB       $;
BVC LF892       :\ F872= 50 1E       P.
LDX #&04        :\ F874= A2 04       ".
.LF876
JSR LF901       :\ F876= 20 01 F9     .y
DEX             :\ F879= CA          J
BNE LF876       :\ F87A= D0 FA       Pz
LDX #&0F        :\ F87C= A2 0F       ".
JSR LF886       :\ F87E= 20 86 F8     .x
JSR LF901       :\ F881= 20 01 F9     .y
LDX #&13        :\ F884= A2 13       ".
.LF886
LDY #&04        :\ F886= A0 04        .
.LF888
LDA &03B2,X     :\ F888= BD B2 03    =2.
JSR LF8EA       :\ F88B= 20 EA F8     jx
DEX             :\ F88E= CA          J
DEY             :\ F88F= 88          .
BNE LF888       :\ F890= D0 F6       Pv
.LF892
RTS             :\ F892= 60          `

\ Prompt for saving
\ -----------------
.LF893
LDA &0247       :\ F893= AD 47 02    -G.
BEQ LF89B       :\ F896= F0 03       p.
JMP LE07E       :\ F898= 4C 7E E0    L~`
 
.LF89B
JSR LF8C9       :\ F89B= 20 C9 F8     Ix
JSR LFB1F       :\ F89E= 20 1F FB     .{
JSR LE5AD       :\ F8A1= 20 AD E5     -e
BEQ LF892       :\ F8A4= F0 EC       pl
JSR LF9B6       :\ Print inline text
EQUS "RECORD then RETURN"
EQUB 0
.LF8BC
JSR LF905
JSR OSRDCH      :\ F8BF= 20 E0 FF     `.
CMP #&0D        :\ F8C2= C9 0D       I.
BNE LF8BC       :\ F8C4= D0 F6       Pv
JMP OSNEWL      :\ F8C6= 4C E7 FF    Lg.
 
.LF8C9
PHP             :\ F8C9= 08          .
SEI             :\ F8CA= 78          x
LDA &0282       :\ F8CB= AD 82 02    -..
AND #&F9        :\ F8CE= 29 F9       )y
ORA #&04        :\ F8D0= 09 04       ..
STA &0282       :\ F8D2= 8D 82 02    ...
STA LFE07       :\ F8D5= 8D 07 FE    ..~
PLP             :\ F8D8= 28          (
RTS             :\ F8D9= 60          `
 
.LF8DA
INC &B1         :\ F8DA= E6 B1       f1
BNE LF8E0       :\ F8DC= D0 02       P.
INC &B2         :\ F8DE= E6 B2       f2
.LF8E0
BNE LF8E4       :\ F8E0= D0 02       P.
INC &B3         :\ F8E2= E6 B3       f3
.LF8E4
RTS             :\ F8E4= 60          `
 
.LF8E5
PHA             :\ F8E5= 48          H
JSR LF901       :\ F8E6= 20 01 F9     .y
PLA             :\ F8E9= 68          h
.LF8EA
PHA             :\ F8EA= 48          H
LSR A           :\ F8EB= 4A          J
LSR A           :\ F8EC= 4A          J
LSR A           :\ F8ED= 4A          J
LSR A           :\ F8EE= 4A          J
JSR LF8F3       :\ F8EF= 20 F3 F8     sx
PLA             :\ F8F2= 68          h
.LF8F3
CLC             :\ F8F3= 18          .
AND #&0F        :\ F8F4= 29 0F       ).
ADC #&30        :\ F8F6= 69 30       i0
CMP #&3A        :\ F8F8= C9 3A       I:
BCC LF8FE       :\ F8FA= 90 02       ..
ADC #&06        :\ F8FC= 69 06       i.
.LF8FE
JMP OSWRCH      :\ F8FE= 4C EE FF    Ln.
 
.LF901
LDA #&20        :\ F901= A9 20       ) 
BNE LF8FE       :\ F903= D0 F9       Py

\ If not BGET/BPUT check for Escape
\ =================================
.LF905
PHP             :\ F905= 08          .
BIT &EB         :\ F906= 24 EB       $k
BMI LF90E       :\ F908= 30 04       0.
BIT &FF         :\ F90A= 24 FF       $.
BMI LF910       :\ F90C= 30 02       0.
.LF90E
PLP             :\ F90E= 28          (
RTS             :\ F90F= 60          `
 
.LF910
JSR LF291       :\ F910= 20 91 F2     .r
JSR LFA63       :\ F913= 20 63 FA     cz
LDA #&7E            :\ A=&7E (126) Acknowledge ESCAPE
JSR OSBYTE          :\ OSBYTE Call
BRK
EQUB 17
EQUS "Escape"
BRK

\ Load data block
\ ---------------
.LF924
TYA             :\ F924= 98          .
BEQ LF934       :\ F925= F0 0D       p.
JSR LF9B6       :\ F927= 20 B6 F9     6y
EQUB 13
EQUS "Loading"
EQUB 13
EQUB 0
.LF934
STA &BA             :\ clear current block flag
LDX #&FF            :\ X=&FF
LDA &C1             :\ check checksum result
BNE LF949       :\ F93A= D0 0D       P.
JSR LF9E2       :\ F93C= 20 E2 F9     by
PHP             :\ F93F= 08          .
LDX #&FF        :\ F940= A2 FF       ".
LDY #&09        :\ F942= A0 09        .
LDA #&FA        :\ F944= A9 FA       )z
PLP             :\ F946= 28          (
BNE LF965       :\ F947= D0 1C       P.
.LF949
LDY #&FE        :\ F949= A0 FE        ~
LDA &C1         :\ F94B= A5 C1       %A
BEQ LF953       :\ F94D= F0 04       p.
LDA #&F9        :\ F94F= A9 F9       )y
BNE LF965       :\ F951= D0 12       P.
.LF953
LDA &03C6       :\ F953= AD C6 03    -F.
CMP &B4         :\ F956= C5 B4       E4
BNE LF961       :\ F958= D0 07       P.
LDA &03C7       :\ F95A= AD C7 03    -G.
CMP &B5         :\ F95D= C5 B5       E5
BEQ LF974       :\ F95F= F0 13       p.
.LF961
LDY #&14        :\ F961= A0 14        .
LDA #&FA        :\ F963= A9 FA       )z
.LF965
PHA             :\ F965= 48          H
TYA             :\ F966= 98          .
PHA             :\ F967= 48          H
TXA             :\ F968= 8A          .
PHA             :\ F969= 48          H
JSR LF817       :\ F96A= 20 17 F8     .x
PLA             :\ F96D= 68          h
TAX             :\ F96E= AA          *
PLA             :\ F96F= 68          h
TAY             :\ F970= A8          (
PLA             :\ F971= 68          h
BNE LF988       :\ F972= D0 14       P.

\ Header checksum ok
\ Header filename matches
\ Header block number matches
\ Load the data block
.LF974
TXA             :\ F974= 8A          .
PHA             :\ F975= 48          H
JSR LF80A       :\ F976= 20 0A F8     .x
JSR LFA47       :\ F979= 20 47 FA     Gz
PLA             :\ F97C= 68          h
TAX             :\ F97D= AA          *
LDA &BE         :\ F97E= A5 BE       %>
ORA &BF         :\ F980= 05 BF       .?
BEQ LF9FD       :\ F982= F0 79       py
LDY #&FE        :\ F984= A0 FE        ~
LDA #&F9        :\ F986= A9 F9       )y
.LF988
DEC &BA         :\ F988= C6 BA       F:
PHA             :\ F98A= 48          H
BIT &EB         :\ F98B= 24 EB       $k
BMI LF99C       :\ F98D= 30 0D       0.
TXA             :\ F98F= 8A          .
AND &0247       :\ F990= 2D 47 02    -G.
BNE LF99C       :\ F993= D0 07       P.
TXA             :\ F995= 8A          .
AND #&11        :\ F996= 29 11       ).
AND &BB         :\ F998= 25 BB       %;
BEQ LF9AC       :\ F99A= F0 10       p.
.LF99C
PLA             :\ F99C= 68          h
STA &B9         :\ F99D= 85 B9       .9
STY &B8         :\ F99F= 84 B8       .8
JSR LF5E8       :\ F9A1= 20 E8 F5     hu
LSR &EB         :\ F9A4= 46 EB       Fk
JSR LFA59       :\ F9A6= 20 59 FA     Yz
JMP (&00B8)     :\ F9A9= 6C B8 00    l8.

\ stacked-A,Y=>message to print or skip 
.LF9AC
PLA             :\ F9AC= 68          h
INY             :\ F9AD= C8          H
BNE LF9B3       :\ F9AE= D0 03       P.
CLC             :\ F9B0= 18          .
ADC #&01        :\ F9B1= 69 01       i.
.LF9B3
PHA             :\ F9B3= 48          H
TYA             :\ F9B4= 98          .
PHA             :\ F9B5= 48          H
.LF9B6
JSR LE5AD       :\ F9B6= 20 AD E5     -e
TAY             :\ F9B9= A8          (

\ Print inline text
\ -----------------
\ On entry, if Y=0 don't print, Y<>0 print
.LF9BA
PLA:STA &B8:PLA:STA &B9   :\ Get inline address to &B8/9
TYA:PHP                   :\ Stack 0/<>0 from Y
.LF9C2
INC &B8:BNE LF9C8:INC &B9 :\ Update address
.LF9C8
LDY #&00:LDA (&B8),Y      :\ Get character
BEQ LF9D8                 :\ If &00, jump to finish
PLP:PHP:BEQ LF9C2         :\ If Y=0 on entry, don't print
JSR OSASCI:JMP LF9C2      :\ Print character and loop for next
 
.LF9D8
PLP                       :\ Drop stacked flag
INC &B8:BNE LF9DF:INC &B9 :\ Update address
.LF9DF
JMP (&00B8)               :\ Return by jumping to address
 
.LF9E2
LDX #&FF        :\ F9E2= A2 FF       ".
.LF9E4
INX             :\ F9E4= E8          h
LDA &03D2,X     :\ F9E5= BD D2 03    =R.
BNE LF9F1       :\ F9E8= D0 07       P.
TXA             :\ F9EA= 8A          .
BEQ LF9F0       :\ F9EB= F0 03       p.
LDA &03B2,X     :\ F9ED= BD B2 03    =2.
.LF9F0
RTS             :\ F9F0= 60          `
 
.LF9F1
JSR LE251       :\ F9F1= 20 51 E2     Qb
EOR &03B2,X     :\ F9F4= 5D B2 03    ]2.
BCS LF9FB       :\ F9F7= B0 02       0.
AND #&DF        :\ F9F9= 29 DF       )_
.LF9FB
BEQ LF9E4       :\ F9FB= F0 E7       pg
.LF9FD
RTS             :\ F9FD= 60          `
 
BRK             :\ F9FE= 00          .
CLD             :\ F9FF= D8          X
ORA &6144       :\ FA00= 0D 44 61    .Da
STZ &61,X       :\ FA03= 74 61       ta
EQUB &3F        :\ FA05= 3F          ?
BRK             :\ FA06= 00          .
BNE LFA1E       :\ FA07= D0 15       P.
BRK             :\ FA09= 00          .
EQUB &DB        :\ FA0A= DB          [
ORA &6946       :\ FA0B= 0D 46 69    .Fi
JMP (&3F65)     :\ FA0E= 6C 65 3F    le?
 
BRK             :\ FA11= 00          .
BNE LFA1E       :\ FA12= D0 0A       P.
BRK             :\ FA14= 00          .
PHX             :\ FA15= DA          Z
ORA &6C42       :\ FA16= 0D 42 6C    .Bl
EQUB &6F        :\ FA19= 6F          o
EQUB &63        :\ FA1A= 63          c
EQUB &6B        :\ FA1B= 6B          k
EQUB &3F        :\ FA1C= 3F          ?
BRK             :\ FA1D= 00          .
.LFA1E
LDA &BA         :\ FA1E= A5 BA       %:
BEQ LFA44       :\ FA20= F0 22       p"
TXA             :\ FA22= 8A          .
BEQ LFA44       :\ FA23= F0 1F       p.
LDA #&22        :\ FA25= A9 22       )"
BIT &BB         :\ FA27= 24 BB       $;
BEQ LFA44       :\ FA29= F0 19       p.
JSR LFAB0       :\ FA2B= 20 B0 FA     0z
LDY #&FF:JSR LF9BA       :\ Print inline text
ORA &5207       :\ FA33= 0D 07 52    ..R
ADC &77         :\ FA36= 65 77       ew
ADC #&6E        :\ FA38= 69 6E       in
STZ &20         :\ FA3A= 64 20       d 
STZ &61,X       :\ FA3C= 74 61       ta
BVS LFAA5       :\ FA3E= 70 65       pe
ORA &000D       :\ FA40= 0D 0D 00    ...
.LFA43
RTS             :\ FA43= 60          `
 
.LFA44
JSR LF1A4       :\ FA44= 20 A4 F1     $q

\ Loop to fetch bytes from cassette/rom until done or escape
.LFA47
LDA &C2         :\ FA47= A5 C2       %B
BEQ LFA43       :\ FA49= F0 F8       px
JSR LF905       :\ FA4B= 20 05 F9     .y
LDA &0247       :\ FA4E= AD 47 02    -G.
BEQ LFA47       :\ FA51= F0 F4       pt
JSR LF4DF       :\ FA53= 20 DF F4     _t
JMP LFA47       :\ FA56= 4C 47 FA    LGz
 
.LFA59
JSR LE5AD       :\ FA59= 20 AD E5     -e
BEQ LFA63       :\ FA5C= F0 05       p.
LDA #&07        :\ FA5E= A9 07       ).
JSR OSWRCH      :\ FA60= 20 EE FF     n.
.LFA63
LDA #&80        :\ FA63= A9 80       ).
JSR LFB5E       :\ FA65= 20 5E FB     ^{
LDX #&00        :\ FA68= A2 00       ".
JSR LFB26       :\ FA6A= 20 26 FB     &{
.LFA6D
JSR LFAB0       :\ FA6D= 20 B0 FA     0z
LDA #&00        :\ FA70= A9 00       ).
STA &EA         :\ FA72= 85 EA       .j
RTS             :\ FA74= 60          `
 
.LFA75
LDA &E3         :\ FA75= A5 E3       %c
ASL A           :\ FA77= 0A          .
ASL A           :\ FA78= 0A          .
ASL A           :\ FA79= 0A          .
ASL A           :\ FA7A= 0A          .
STA &BB         :\ FA7B= 85 BB       .;
LDA &03D1       :\ FA7D= AD D1 03    -Q.
BNE LFA8A       :\ FA80= D0 08       P.
.LFA82
LDA &E3         :\ FA82= A5 E3       %c
AND #&F0        :\ FA84= 29 F0       )p
STA &BB         :\ FA86= 85 BB       .;
LDA #&06        :\ FA88= A9 06       ).
.LFA8A
STA &C7         :\ FA8A= 85 C7       .G
.LFA8C
CLI             :\ FA8C= 58          X
PHP             :\ FA8D= 08          .
SEI             :\ FA8E= 78          x
BIT &024F       :\ FA8F= 2C 4F 02    ,O.
BPL LFAAA       :\ FA92= 10 16       ..
BIT &EA         :\ FA94= 24 EA       $j
BMI LFAAA       :\ FA96= 30 12       0.
LDA #&01        :\ FA98= A9 01       ).
STA &EA         :\ FA9A= 85 EA       .j
LDA &0282       :\ FA9C= AD 82 02    -..
AND #&F9        :\ FA9F= 29 F9       )y
STA &0282       :\ FAA1= 8D 82 02    ...
STA LFE07       :\ FAA4= 8D 07 FE    ..~
PLP             :\ FAA7= 28          (
SEC             :\ FAA8= 38          8
RTS             :\ FAA9= 60          `
 
.LFAAA
PLP             :\ FAAA= 28          (
BIT &FF         :\ FAAB= 24 FF       $.
BPL LFA8C       :\ FAAD= 10 DD       .]
RTS             :\ FAAF= 60          `
 
.LFAB0
PHP             :\ FAB0= 08          .
SEI             :\ FAB1= 78          x
LDA &025B       :\ FAB2= AD 5B 02    -[.
AND #&8F        :\ FAB5= 29 8F       ).
STA &025B       :\ FAB7= 8D 5B 02    .[.
STA LFE00       :\ FABA= 8D 00 FE    ..~
PLP             :\ FABD= 28          (
RTS             :\ FABE= 60          `
 
.LFABF
LDA &025B       :\ FABF= AD 5B 02    -[.
AND #&AF        :\ FAC2= 29 AF       )/
ORA #&20        :\ FAC4= 09 20       . 
TAY             :\ FAC6= A8          (
LDA #&04        :\ FAC7= A9 04       ).
STA &CA         :\ FAC9= 85 CA       .J
BNE LFADD       :\ FACB= D0 10       P.
.LFACD
LDX #&00        :\ FACD= A2 00       ".
STX LFE06       :\ FACF= 8E 06 FE    ..~
STX &CA         :\ FAD2= 86 CA       .J
LDA &025B       :\ FAD4= AD 5B 02    -[.
AND #&DF        :\ FAD7= 29 DF       )_
ORA #&50        :\ FAD9= 09 50       .P
TAY             :\ FADB= A8          (
TXA             :\ FADC= 8A          .
.LFADD
ORA #&40        :\ FADD= 09 40       .@
STA &02F4       :\ FADF= 8D F4 02    .t.
PHP             :\ FAE2= 08          .
SEI             :\ FAE3= 78          x
LDA &0282       :\ FAE4= AD 82 02    -..
AND #&F9        :\ FAE7= 29 F9       )y
ORA &02F4       :\ FAE9= 0D F4 02    .t.
STA &0282       :\ FAEC= 8D 82 02    ...
PLP             :\ FAEF= 28          (
STA LFE07       :\ FAF0= 8D 07 FE    ..~
STY &025B       :\ FAF3= 8C 5B 02    .[.
STY LFE00       :\ FAF6= 8C 00 FE    ..~
RTS             :\ FAF9= 60          `
 
.LFAFA
LDX &03C6       :\ FAFA= AE C6 03    .F.
LDY &03C7       :\ FAFD= AC C7 03    ,G.
INX             :\ FB00= E8          h
STX &B4         :\ FB01= 86 B4       .4
BNE LFB06       :\ FB03= D0 01       P.
INY             :\ FB05= C8          H
.LFB06
STY &B5         :\ FB06= 84 B5       .5
RTS             :\ FB08= 60          `
 
.LFB09
LDY #&00        :\ FB09= A0 00        .
STY &C0         :\ FB0B= 84 C0       .@
.LFB0D
STY &BE         :\ FB0D= 84 BE       .>
STY &BF         :\ FB0F= 84 BF       .?
RTS             :\ FB11= 60          `
 
.LFB12
LDY #&FF        :\ FB12= A0 FF        .
.LFB14
INY             :\ FB14= C8          H
INX             :\ FB15= E8          h
LDA &0300,X     :\ FB16= BD 00 03    =..
STA &03D2,Y     :\ FB19= 99 D2 03    .R.
BNE LFB14       :\ FB1C= D0 F6       Pv
RTS             :\ FB1E= 60          `
 
.LFB1F
LDY #&00        :\ FB1F= A0 00        .
.LFB21
CLI             :\ FB21= 58          X
LDX #&01        :\ FB22= A2 01       ".
STY &C3         :\ FB24= 84 C3       .C
.LFB26
LDA #&89        :\ FB26= A9 89       ).
LDY &C3         :\ FB28= A4 C3       $C
JMP OSBYTE      :\ FB2A= 4C F4 FF    Lt.
 
.LFB2D
STA &BC         :\ FB2D= 85 BC       .<
TYA             :\ FB2F= 98          .
EOR &0247       :\ FB30= 4D 47 02    MG.
TAY             :\ FB33= A8          (
LDA &E2         :\ FB34= A5 E2       %b
AND &BC         :\ FB36= 25 BC       %<
LSR A           :\ FB38= 4A          J
DEY             :\ FB39= 88          .
BEQ LFB40       :\ FB3A= F0 04       p.
LSR A           :\ FB3C= 4A          J
DEY             :\ FB3D= 88          .
BNE LFB43       :\ FB3E= D0 03       P.
.LFB40
BCC LFB43       :\ FB40= 90 01       ..
.LFB42
RTS             :\ FB42= 60          `
 
.LFB43
BRK             :\ FB43= 00          .
DEC &6843,X     :\ FB44= DE 43 68    ^Ch
ADC (&6E,X)     :\ FB47= 61 6E       an
ROR &6C65       :\ FB49= 6E 65 6C    nel
BRK             :\ FB4C= 00          .
.LFB4D
TAX             :\ FB4D= AA          *
LDA &B2         :\ FB4E= A5 B2       %2
AND &B3         :\ FB50= 25 B3       %3
CMP #&FF        :\ FB52= C9 FF       I.
BEQ LFB5B       :\ FB54= F0 05       p.
LDA &027A       :\ FB56= AD 7A 02    -z.
AND #&80        :\ FB59= 29 80       ).
.LFB5B
RTS             :\ FB5B= 60          `
 
.LFB5C
LDA #&01        :\ FB5C= A9 01       ).
.LFB5E
JSR LFB4D       :\ FB5E= 20 4D FB     M{
BEQ LFB42       :\ FB61= F0 DF       p_
TXA             :\ FB63= 8A          .
LDX #&B0        :\ FB64= A2 B0       "0
LDY #&00        :\ FB66= A0 00        .
.LFB68
PHA             :\ FB68= 48          H
LDA #&C0        :\ FB69= A9 C0       )@
.LFB6B
JSR &0406       :\ FB6B= 20 06 04     ..
BCC LFB6B       :\ FB6E= 90 FB       .{
PLA             :\ FB70= 68          h
JMP &0406       :\ FB71= 4C 06 04    L..
 
BRK             :\ FB74= 00          .
BRK             :\ FB75= 00          .
BRK             :\ FB76= 00          .
BRK             :\ FB77= 00          .
BRK             :\ FB78= 00          .
BRK             :\ FB79= 00          .
BRK             :\ FB7A= 00          .
BRK             :\ FB7B= 00          .
BRK             :\ FB7C= 00          .
BRK             :\ FB7D= 00          .
BRK             :\ FB7E= 00          .
BRK             :\ FB7F= 00          .
BRK             :\ FB80= 00          .
BRK             :\ FB81= 00          .
BRK             :\ FB82= 00          .
BRK             :\ FB83= 00          .
BRK             :\ FB84= 00          .
BRK             :\ FB85= 00          .
BRK             :\ FB86= 00          .
BRK             :\ FB87= 00          .
BRK             :\ FB88= 00          .
BRK             :\ FB89= 00          .
BRK             :\ FB8A= 00          .
BRK             :\ FB8B= 00          .
BRK             :\ FB8C= 00          .
BRK             :\ FB8D= 00          .
BRK             :\ FB8E= 00          .
BRK             :\ FB8F= 00          .
BRK             :\ FB90= 00          .
BRK             :\ FB91= 00          .
BRK             :\ FB92= 00          .
BRK             :\ FB93= 00          .
BRK             :\ FB94= 00          .
BRK             :\ FB95= 00          .
BRK             :\ FB96= 00          .
BRK             :\ FB97= 00          .
BRK             :\ FB98= 00          .
BRK             :\ FB99= 00          .
BRK             :\ FB9A= 00          .
BRK             :\ FB9B= 00          .
BRK             :\ FB9C= 00          .
BRK             :\ FB9D= 00          .
BRK             :\ FB9E= 00          .
BRK             :\ FB9F= 00          .
BRK             :\ FBA0= 00          .
BRK             :\ FBA1= 00          .
BRK             :\ FBA2= 00          .
BRK             :\ FBA3= 00          .
BRK             :\ FBA4= 00          .
BRK             :\ FBA5= 00          .
BRK             :\ FBA6= 00          .
BRK             :\ FBA7= 00          .
BRK             :\ FBA8= 00          .
BRK             :\ FBA9= 00          .
BRK             :\ FBAA= 00          .
BRK             :\ FBAB= 00          .
BRK             :\ FBAC= 00          .
BRK             :\ FBAD= 00          .
BRK             :\ FBAE= 00          .
BRK             :\ FBAF= 00          .
BRK             :\ FBB0= 00          .
BRK             :\ FBB1= 00          .
BRK             :\ FBB2= 00          .
BRK             :\ FBB3= 00          .
BRK             :\ FBB4= 00          .
BRK             :\ FBB5= 00          .
BRK             :\ FBB6= 00          .
BRK             :\ FBB7= 00          .
BRK             :\ FBB8= 00          .
BRK             :\ FBB9= 00          .
BRK             :\ FBBA= 00          .
BRK             :\ FBBB= 00          .
BRK             :\ FBBC= 00          .
BRK             :\ FBBD= 00          .
BRK             :\ FBBE= 00          .
BRK             :\ FBBF= 00          .
BRK             :\ FBC0= 00          .
BRK             :\ FBC1= 00          .
BRK             :\ FBC2= 00          .
BRK             :\ FBC3= 00          .
BRK             :\ FBC4= 00          .
BRK             :\ FBC5= 00          .
BRK             :\ FBC6= 00          .
BRK             :\ FBC7= 00          .
BRK             :\ FBC8= 00          .
BRK             :\ FBC9= 00          .
BRK             :\ FBCA= 00          .
BRK             :\ FBCB= 00          .
BRK             :\ FBCC= 00          .
BRK             :\ FBCD= 00          .
BRK             :\ FBCE= 00          .
BRK             :\ FBCF= 00          .
BRK             :\ FBD0= 00          .
BRK             :\ FBD1= 00          .
BRK             :\ FBD2= 00          .
BRK             :\ FBD3= 00          .
BRK             :\ FBD4= 00          .
BRK             :\ FBD5= 00          .
BRK             :\ FBD6= 00          .
BRK             :\ FBD7= 00          .
BRK             :\ FBD8= 00          .
BRK             :\ FBD9= 00          .
BRK             :\ FBDA= 00          .
BRK             :\ FBDB= 00          .
BRK             :\ FBDC= 00          .
BRK             :\ FBDD= 00          .
BRK             :\ FBDE= 00          .
BRK             :\ FBDF= 00          .
BRK             :\ FBE0= 00          .
BRK             :\ FBE1= 00          .
BRK             :\ FBE2= 00          .
BRK             :\ FBE3= 00          .
BRK             :\ FBE4= 00          .
BRK             :\ FBE5= 00          .
BRK             :\ FBE6= 00          .
BRK             :\ FBE7= 00          .
BRK             :\ FBE8= 00          .
BRK             :\ FBE9= 00          .
BRK             :\ FBEA= 00          .
BRK             :\ FBEB= 00          .
BRK             :\ FBEC= 00          .
BRK             :\ FBED= 00          .
BRK             :\ FBEE= 00          .
BRK             :\ FBEF= 00          .
BRK             :\ FBF0= 00          .
BRK             :\ FBF1= 00          .
BRK             :\ FBF2= 00          .
BRK             :\ FBF3= 00          .
BRK             :\ FBF4= 00          .
BRK             :\ FBF5= 00          .
BRK             :\ FBF6= 00          .
BRK             :\ FBF7= 00          .
BRK             :\ FBF8= 00          .
BRK             :\ FBF9= 00          .
BRK             :\ FBFA= 00          .
BRK             :\ FBFB= 00          .
BRK             :\ FBFC= 00          .
.LFBFD
BRK             :\ FBFD= 00          .
JSR LFFED       :\ FBFE= 20 ED FF     m.
EQUB &FF        :\ FC01= FF          .
EQUB &FF        :\ FC02= FF          .
EQUB &FF        :\ FC03= FF          .
EQUB &FF        :\ FC04= FF          .
EQUB &FF        :\ FC05= FF          .
EQUB &FF        :\ FC06= FF          .
EQUB &FF        :\ FC07= FF          .
EQUB &FF        :\ FC08= FF          .
EQUB &FF        :\ FC09= FF          .
EQUB &FF        :\ FC0A= FF          .
EQUB &FF        :\ FC0B= FF          .
EQUB &FF        :\ FC0C= FF          .
EQUB &FF        :\ FC0D= FF          .
EQUB &FF        :\ FC0E= FF          .
EQUB &FF        :\ FC0F= FF          .
EQUB &FF        :\ FC10= FF          .
EQUB &FF        :\ FC11= FF          .
EQUB &FF        :\ FC12= FF          .
EQUB &FF        :\ FC13= FF          .
EQUB &FF        :\ FC14= FF          .
EQUB &FF        :\ FC15= FF          .
EQUB &FF        :\ FC16= FF          .
EQUB &FF        :\ FC17= FF          .
EQUB &FF        :\ FC18= FF          .
EQUB &FF        :\ FC19= FF          .
EQUB &FF        :\ FC1A= FF          .
EQUB &FF        :\ FC1B= FF          .
EQUB &FF        :\ FC1C= FF          .
EQUB &FF        :\ FC1D= FF          .
EQUB &FF        :\ FC1E= FF          .
EQUB &FF        :\ FC1F= FF          .
EQUB &FF        :\ FC20= FF          .
EQUB &FF        :\ FC21= FF          .
EQUB &FF        :\ FC22= FF          .
EQUB &FF        :\ FC23= FF          .
EQUB &FF        :\ FC24= FF          .
EQUB &FF        :\ FC25= FF          .
EQUB &FF        :\ FC26= FF          .
EQUB &FF        :\ FC27= FF          .
EQUB &FF        :\ FC28= FF          .
EQUB &FF        :\ FC29= FF          .
EQUB &FF        :\ FC2A= FF          .
EQUB &FF        :\ FC2B= FF          .
.LFC2C
EQUB &FF        :\ FC2C= FF          .
EQUB &FF        :\ FC2D= FF          .
EQUB &FF        :\ FC2E= FF          .
EQUB &FF        :\ FC2F= FF          .
EQUB &FF        :\ FC30= FF          .
EQUB &FF        :\ FC31= FF          .
EQUB &FF        :\ FC32= FF          .
EQUB &FF        :\ FC33= FF          .
EQUB &FF        :\ FC34= FF          .
EQUB &FF        :\ FC35= FF          .
EQUB &FF        :\ FC36= FF          .
EQUB &FF        :\ FC37= FF          .
EQUB &FF        :\ FC38= FF          .
EQUB &FF        :\ FC39= FF          .
EQUB &FF        :\ FC3A= FF          .
EQUB &FF        :\ FC3B= FF          .
EQUB &FF        :\ FC3C= FF          .
EQUB &FF        :\ FC3D= FF          .
EQUB &FF        :\ FC3E= FF          .
EQUB &FF        :\ FC3F= FF          .
EQUB &FF        :\ FC40= FF          .
EQUB &FF        :\ FC41= FF          .
EQUB &FF        :\ FC42= FF          .
EQUB &FF        :\ FC43= FF          .
EQUB &FF        :\ FC44= FF          .
EQUB &FF        :\ FC45= FF          .
EQUB &FF        :\ FC46= FF          .
EQUB &FF        :\ FC47= FF          .
EQUB &FF        :\ FC48= FF          .
EQUB &FF        :\ FC49= FF          .
EQUB &FF        :\ FC4A= FF          .
EQUB &FF        :\ FC4B= FF          .
EQUB &FF        :\ FC4C= FF          .
EQUB &FF        :\ FC4D= FF          .
EQUB &FF        :\ FC4E= FF          .
EQUB &FF        :\ FC4F= FF          .
EQUB &FF        :\ FC50= FF          .
EQUB &FF        :\ FC51= FF          .
EQUB &FF        :\ FC52= FF          .
EQUB &FF        :\ FC53= FF          .
EQUB &FF        :\ FC54= FF          .
EQUB &FF        :\ FC55= FF          .
EQUB &FF        :\ FC56= FF          .
EQUB &FF        :\ FC57= FF          .
EQUB &FF        :\ FC58= FF          .
EQUB &FF        :\ FC59= FF          .
EQUB &FF        :\ FC5A= FF          .
EQUB &FF        :\ FC5B= FF          .
EQUB &FF        :\ FC5C= FF          .
EQUB &FF        :\ FC5D= FF          .
EQUB &FF        :\ FC5E= FF          .
EQUB &FF        :\ FC5F= FF          .
EQUB &FF        :\ FC60= FF          .
EQUB &FF        :\ FC61= FF          .
EQUB &FF        :\ FC62= FF          .
EQUB &FF        :\ FC63= FF          .
EQUB &FF        :\ FC64= FF          .
EQUB &FF        :\ FC65= FF          .
EQUB &FF        :\ FC66= FF          .
EQUB &FF        :\ FC67= FF          .
EQUB &FF        :\ FC68= FF          .
EQUB &FF        :\ FC69= FF          .
EQUB &FF        :\ FC6A= FF          .
EQUB &FF        :\ FC6B= FF          .
EQUB &FF        :\ FC6C= FF          .
EQUB &FF        :\ FC6D= FF          .
EQUB &FF        :\ FC6E= FF          .
EQUB &FF        :\ FC6F= FF          .
BRK             :\ FC70= 00          .
EQUB &FF        :\ FC71= FF          .
EQUB &7F        :\ FC72= 7F          .
EQUB &FF        :\ FC73= FF          .
BRK             :\ FC74= 00          .
EQUB &FF        :\ FC75= FF          .
EQUB &7F        :\ FC76= 7F          .
EQUB &FF        :\ FC77= FF          .
BRK             :\ FC78= 00          .
EQUB &FF        :\ FC79= FF          .
EQUB &7F        :\ FC7A= 7F          .
EQUB &FF        :\ FC7B= FF          .
BRK             :\ FC7C= 00          .
EQUB &FF        :\ FC7D= FF          .
EQUB &7F        :\ FC7E= 7F          .
EQUB &FF        :\ FC7F= FF          .
EQUB &FF        :\ FC80= FF          .
EQUB &FF        :\ FC81= FF          .
EQUB &FF        :\ FC82= FF          .
EQUB &FF        :\ FC83= FF          .
EQUB &FF        :\ FC84= FF          .
EQUB &FF        :\ FC85= FF          .
EQUB &FF        :\ FC86= FF          .
EQUB &FF        :\ FC87= FF          .
EQUB &FF        :\ FC88= FF          .
EQUB &FF        :\ FC89= FF          .
EQUB &FF        :\ FC8A= FF          .
EQUB &FF        :\ FC8B= FF          .
EQUB &FF        :\ FC8C= FF          .
EQUB &FF        :\ FC8D= FF          .
EQUB &FF        :\ FC8E= FF          .
EQUB &FF        :\ FC8F= FF          .
EQUB &FF        :\ FC90= FF          .
EQUB &FF        :\ FC91= FF          .
EQUB &FF        :\ FC92= FF          .
EQUB &FF        :\ FC93= FF          .
EQUB &FF        :\ FC94= FF          .
EQUB &FF        :\ FC95= FF          .
EQUB &FF        :\ FC96= FF          .
EQUB &FF        :\ FC97= FF          .
EQUB &FF        :\ FC98= FF          .
EQUB &FF        :\ FC99= FF          .
EQUB &FF        :\ FC9A= FF          .
EQUB &FF        :\ FC9B= FF          .
EQUB &FF        :\ FC9C= FF          .
EQUB &FF        :\ FC9D= FF          .
EQUB &FF        :\ FC9E= FF          .
EQUB &FF        :\ FC9F= FF          .
EQUB &FF        :\ FCA0= FF          .
EQUB &FF        :\ FCA1= FF          .
EQUB &FF        :\ FCA2= FF          .
EQUB &FF        :\ FCA3= FF          .
EQUB &FF        :\ FCA4= FF          .
EQUB &FF        :\ FCA5= FF          .
EQUB &FF        :\ FCA6= FF          .
EQUB &FF        :\ FCA7= FF          .
EQUB &FF        :\ FCA8= FF          .
EQUB &FF        :\ FCA9= FF          .
EQUB &FF        :\ FCAA= FF          .
EQUB &FF        :\ FCAB= FF          .
EQUB &FF        :\ FCAC= FF          .
EQUB &FF        :\ FCAD= FF          .
EQUB &FF        :\ FCAE= FF          .
EQUB &FF        :\ FCAF= FF          .
EQUB &FF        :\ FCB0= FF          .
EQUB &FF        :\ FCB1= FF          .
EQUB &FF        :\ FCB2= FF          .
EQUB &FF        :\ FCB3= FF          .
EQUB &FF        :\ FCB4= FF          .
EQUB &FF        :\ FCB5= FF          .
EQUB &FF        :\ FCB6= FF          .
EQUB &FF        :\ FCB7= FF          .
EQUB &FF        :\ FCB8= FF          .
EQUB &FF        :\ FCB9= FF          .
EQUB &FF        :\ FCBA= FF          .
EQUB &FF        :\ FCBB= FF          .
EQUB &FF        :\ FCBC= FF          .
EQUB &FF        :\ FCBD= FF          .
EQUB &FF        :\ FCBE= FF          .
EQUB &FF        :\ FCBF= FF          .
EQUB &FF        :\ FCC0= FF          .
EQUB &FF        :\ FCC1= FF          .
EQUB &FF        :\ FCC2= FF          .
EQUB &FF        :\ FCC3= FF          .
BRA LFCC6       :\ FCC4= 80 00       ..
 
.LFCC6
ORA (&A9,X)     :\ FCC6= 01 A9       .)
EQUB &FF        :\ FCC8= FF          .
EQUB &FF        :\ FCC9= FF          .
EQUB &FF        :\ FCCA= FF          .
EQUB &FF        :\ FCCB= FF          .
BRA LFCCE       :\ FCCC= 80 00       ..
 
.LFCCE
ORA (&A9,X)     :\ FCCE= 01 A9       .)
EQUB &FF        :\ FCD0= FF          .
EQUB &FF        :\ FCD1= FF          .
EQUB &FF        :\ FCD2= FF          .
EQUB &FF        :\ FCD3= FF          .
EQUB &FF        :\ FCD4= FF          .
EQUB &FF        :\ FCD5= FF          .
EQUB &FF        :\ FCD6= FF          .
EQUB &FF        :\ FCD7= FF          .
EQUB &FF        :\ FCD8= FF          .
EQUB &FF        :\ FCD9= FF          .
EQUB &FF        :\ FCDA= FF          .
EQUB &FF        :\ FCDB= FF          .
EQUB &FF        :\ FCDC= FF          .
EQUB &FF        :\ FCDD= FF          .
EQUB &FF        :\ FCDE= FF          .
EQUB &FF        :\ FCDF= FF          .
.LFCE0
EQUB &FF        :\ FCE0= FF          .
EQUB &FF        :\ FCE1= FF          .
EQUB &FF        :\ FCE2= FF          .
EQUB &FF        :\ FCE3= FF          .
EQUB &FF        :\ FCE4= FF          .
.LFCE5
EQUB &FF        :\ FCE5= FF          .
EQUB &FF        :\ FCE6= FF          .
EQUB &FF        :\ FCE7= FF          .
EQUB &FF        :\ FCE8= FF          .
EQUB &FF        :\ FCE9= FF          .
EQUB &FF        :\ FCEA= FF          .
EQUB &FF        :\ FCEB= FF          .
EQUB &FF        :\ FCEC= FF          .
EQUB &FF        :\ FCED= FF          .
EQUB &FF        :\ FCEE= FF          .
EQUB &FF        :\ FCEF= FF          .
EQUB &FF        :\ FCF0= FF          .
EQUB &FF        :\ FCF1= FF          .
EQUB &FF        :\ FCF2= FF          .
EQUB &FF        :\ FCF3= FF          .
EQUB &FF        :\ FCF4= FF          .
EQUB &FF        :\ FCF5= FF          .
EQUB &FF        :\ FCF6= FF          .
EQUB &FF        :\ FCF7= FF          .
EQUB &FF        :\ FCF8= FF          .
EQUB &FF        :\ FCF9= FF          .
EQUB &FF        :\ FCFA= FF          .
EQUB &FF        :\ FCFB= FF          .
EQUB &FF        :\ FCFC= FF          .
EQUB &FF        :\ FCFD= FF          .
EQUB &FF        :\ FCFE= FF          .
EQUB &FF        :\ FCFF= FF          .
.LFD00
EQUB &FF        :\ FD00= FF          .
EQUB &FF        :\ FD01= FF          .
EQUB &FF        :\ FD02= FF          .
EQUB &FF        :\ FD03= FF          .
EQUB &FF        :\ FD04= FF          .
EQUB &FF        :\ FD05= FF          .
EQUB &FF        :\ FD06= FF          .
EQUB &FF        :\ FD07= FF          .
EQUB &FF        :\ FD08= FF          .
EQUB &FF        :\ FD09= FF          .
EQUB &FF        :\ FD0A= FF          .
EQUB &FF        :\ FD0B= FF          .
EQUB &FF        :\ FD0C= FF          .
EQUB &FF        :\ FD0D= FF          .
EQUB &FF        :\ FD0E= FF          .
EQUB &FF        :\ FD0F= FF          .
EQUB &FF        :\ FD10= FF          .
EQUB &FF        :\ FD11= FF          .
EQUB &FF        :\ FD12= FF          .
EQUB &FF        :\ FD13= FF          .
EQUB &FF        :\ FD14= FF          .
EQUB &FF        :\ FD15= FF          .
EQUB &FF        :\ FD16= FF          .
EQUB &FF        :\ FD17= FF          .
EQUB &FF        :\ FD18= FF          .
EQUB &FF        :\ FD19= FF          .
EQUB &FF        :\ FD1A= FF          .
EQUB &FF        :\ FD1B= FF          .
EQUB &FF        :\ FD1C= FF          .
EQUB &FF        :\ FD1D= FF          .
EQUB &FF        :\ FD1E= FF          .
EQUB &FF        :\ FD1F= FF          .
EQUB &FF        :\ FD20= FF          .
EQUB &FF        :\ FD21= FF          .
EQUB &FF        :\ FD22= FF          .
EQUB &FF        :\ FD23= FF          .
EQUB &FF        :\ FD24= FF          .
EQUB &FF        :\ FD25= FF          .
EQUB &FF        :\ FD26= FF          .
EQUB &FF        :\ FD27= FF          .
EQUB &FF        :\ FD28= FF          .
EQUB &FF        :\ FD29= FF          .
EQUB &FF        :\ FD2A= FF          .
EQUB &FF        :\ FD2B= FF          .
EQUB &FF        :\ FD2C= FF          .
EQUB &FF        :\ FD2D= FF          .
EQUB &FF        :\ FD2E= FF          .
EQUB &FF        :\ FD2F= FF          .
EQUB &FF        :\ FD30= FF          .
EQUB &FF        :\ FD31= FF          .
EQUB &FF        :\ FD32= FF          .
EQUB &FF        :\ FD33= FF          .
EQUB &FF        :\ FD34= FF          .
EQUB &FF        :\ FD35= FF          .
EQUB &FF        :\ FD36= FF          .
EQUB &FF        :\ FD37= FF          .
EQUB &FF        :\ FD38= FF          .
EQUB &FF        :\ FD39= FF          .
EQUB &FF        :\ FD3A= FF          .
EQUB &FF        :\ FD3B= FF          .
EQUB &FF        :\ FD3C= FF          .
EQUB &FF        :\ FD3D= FF          .
EQUB &FF        :\ FD3E= FF          .
EQUB &FF        :\ FD3F= FF          .
EQUB &FF        :\ FD40= FF          .
EQUB &FF        :\ FD41= FF          .
EQUB &FF        :\ FD42= FF          .
EQUB &FF        :\ FD43= FF          .
EQUB &FF        :\ FD44= FF          .
EQUB &FF        :\ FD45= FF          .
EQUB &FF        :\ FD46= FF          .
EQUB &FF        :\ FD47= FF          .
EQUB &FF        :\ FD48= FF          .
EQUB &FF        :\ FD49= FF          .
EQUB &FF        :\ FD4A= FF          .
EQUB &FF        :\ FD4B= FF          .
EQUB &FF        :\ FD4C= FF          .
EQUB &FF        :\ FD4D= FF          .
EQUB &FF        :\ FD4E= FF          .
EQUB &FF        :\ FD4F= FF          .
EQUB &FF        :\ FD50= FF          .
EQUB &FF        :\ FD51= FF          .
EQUB &FF        :\ FD52= FF          .
EQUB &FF        :\ FD53= FF          .
EQUB &FF        :\ FD54= FF          .
EQUB &FF        :\ FD55= FF          .
EQUB &FF        :\ FD56= FF          .
EQUB &FF        :\ FD57= FF          .
EQUB &FF        :\ FD58= FF          .
EQUB &FF        :\ FD59= FF          .
EQUB &FF        :\ FD5A= FF          .
EQUB &FF        :\ FD5B= FF          .
EQUB &FF        :\ FD5C= FF          .
EQUB &FF        :\ FD5D= FF          .
EQUB &FF        :\ FD5E= FF          .
EQUB &FF        :\ FD5F= FF          .
EQUB &FF        :\ FD60= FF          .
EQUB &FF        :\ FD61= FF          .
EQUB &FF        :\ FD62= FF          .
EQUB &FF        :\ FD63= FF          .
EQUB &FF        :\ FD64= FF          .
EQUB &FF        :\ FD65= FF          .
EQUB &FF        :\ FD66= FF          .
EQUB &FF        :\ FD67= FF          .
EQUB &FF        :\ FD68= FF          .
EQUB &FF        :\ FD69= FF          .
EQUB &FF        :\ FD6A= FF          .
EQUB &FF        :\ FD6B= FF          .
EQUB &FF        :\ FD6C= FF          .
EQUB &FF        :\ FD6D= FF          .
EQUB &FF        :\ FD6E= FF          .
EQUB &FF        :\ FD6F= FF          .
EQUB &FF        :\ FD70= FF          .
EQUB &FF        :\ FD71= FF          .
EQUB &FF        :\ FD72= FF          .
EQUB &FF        :\ FD73= FF          .
EQUB &FF        :\ FD74= FF          .
EQUB &FF        :\ FD75= FF          .
EQUB &FF        :\ FD76= FF          .
EQUB &FF        :\ FD77= FF          .
EQUB &FF        :\ FD78= FF          .
EQUB &FF        :\ FD79= FF          .
EQUB &FF        :\ FD7A= FF          .
EQUB &FF        :\ FD7B= FF          .
EQUB &FF        :\ FD7C= FF          .
EQUB &FF        :\ FD7D= FF          .
EQUB &FF        :\ FD7E= FF          .
EQUB &FF        :\ FD7F= FF          .
EQUB &FF        :\ FD80= FF          .
EQUB &FF        :\ FD81= FF          .
EQUB &FF        :\ FD82= FF          .
EQUB &FF        :\ FD83= FF          .
EQUB &FF        :\ FD84= FF          .
EQUB &FF        :\ FD85= FF          .
EQUB &FF        :\ FD86= FF          .
EQUB &FF        :\ FD87= FF          .
EQUB &FF        :\ FD88= FF          .
EQUB &FF        :\ FD89= FF          .
EQUB &FF        :\ FD8A= FF          .
EQUB &FF        :\ FD8B= FF          .
EQUB &FF        :\ FD8C= FF          .
EQUB &FF        :\ FD8D= FF          .
EQUB &FF        :\ FD8E= FF          .
EQUB &FF        :\ FD8F= FF          .
EQUB &FF        :\ FD90= FF          .
EQUB &FF        :\ FD91= FF          .
EQUB &FF        :\ FD92= FF          .
EQUB &FF        :\ FD93= FF          .
EQUB &FF        :\ FD94= FF          .
EQUB &FF        :\ FD95= FF          .
EQUB &FF        :\ FD96= FF          .
EQUB &FF        :\ FD97= FF          .
EQUB &FF        :\ FD98= FF          .
EQUB &FF        :\ FD99= FF          .
EQUB &FF        :\ FD9A= FF          .
EQUB &FF        :\ FD9B= FF          .
EQUB &FF        :\ FD9C= FF          .
EQUB &FF        :\ FD9D= FF          .
EQUB &FF        :\ FD9E= FF          .
EQUB &FF        :\ FD9F= FF          .
EQUB &FF        :\ FDA0= FF          .
EQUB &FF        :\ FDA1= FF          .
EQUB &FF        :\ FDA2= FF          .
EQUB &FF        :\ FDA3= FF          .
EQUB &FF        :\ FDA4= FF          .
EQUB &FF        :\ FDA5= FF          .
EQUB &FF        :\ FDA6= FF          .
EQUB &FF        :\ FDA7= FF          .
EQUB &FF        :\ FDA8= FF          .
EQUB &FF        :\ FDA9= FF          .
EQUB &FF        :\ FDAA= FF          .
EQUB &FF        :\ FDAB= FF          .
EQUB &FF        :\ FDAC= FF          .
EQUB &FF        :\ FDAD= FF          .
EQUB &FF        :\ FDAE= FF          .
EQUB &FF        :\ FDAF= FF          .
EQUB &FF        :\ FDB0= FF          .
EQUB &FF        :\ FDB1= FF          .
EQUB &FF        :\ FDB2= FF          .
EQUB &FF        :\ FDB3= FF          .
EQUB &FF        :\ FDB4= FF          .
EQUB &FF        :\ FDB5= FF          .
EQUB &FF        :\ FDB6= FF          .
EQUB &FF        :\ FDB7= FF          .
EQUB &FF        :\ FDB8= FF          .
EQUB &FF        :\ FDB9= FF          .
EQUB &FF        :\ FDBA= FF          .
EQUB &FF        :\ FDBB= FF          .
EQUB &FF        :\ FDBC= FF          .
EQUB &FF        :\ FDBD= FF          .
EQUB &FF        :\ FDBE= FF          .
EQUB &FF        :\ FDBF= FF          .
EQUB &FF        :\ FDC0= FF          .
EQUB &FF        :\ FDC1= FF          .
EQUB &FF        :\ FDC2= FF          .
EQUB &FF        :\ FDC3= FF          .
EQUB &FF        :\ FDC4= FF          .
EQUB &FF        :\ FDC5= FF          .
EQUB &FF        :\ FDC6= FF          .
EQUB &FF        :\ FDC7= FF          .
EQUB &FF        :\ FDC8= FF          .
EQUB &FF        :\ FDC9= FF          .
EQUB &FF        :\ FDCA= FF          .
EQUB &FF        :\ FDCB= FF          .
EQUB &FF        :\ FDCC= FF          .
EQUB &FF        :\ FDCD= FF          .
EQUB &FF        :\ FDCE= FF          .
EQUB &FF        :\ FDCF= FF          .
EQUB &FF        :\ FDD0= FF          .
EQUB &FF        :\ FDD1= FF          .
EQUB &FF        :\ FDD2= FF          .
EQUB &FF        :\ FDD3= FF          .
EQUB &FF        :\ FDD4= FF          .
EQUB &FF        :\ FDD5= FF          .
EQUB &FF        :\ FDD6= FF          .
EQUB &FF        :\ FDD7= FF          .
EQUB &FF        :\ FDD8= FF          .
EQUB &FF        :\ FDD9= FF          .
EQUB &FF        :\ FDDA= FF          .
EQUB &FF        :\ FDDB= FF          .
EQUB &FF        :\ FDDC= FF          .
EQUB &FF        :\ FDDD= FF          .
EQUB &FF        :\ FDDE= FF          .
EQUB &FF        :\ FDDF= FF          .
EQUB &FF        :\ FDE0= FF          .
EQUB &FF        :\ FDE1= FF          .
EQUB &FF        :\ FDE2= FF          .
EQUB &FF        :\ FDE3= FF          .
EQUB &FF        :\ FDE4= FF          .
EQUB &FF        :\ FDE5= FF          .
EQUB &FF        :\ FDE6= FF          .
EQUB &FF        :\ FDE7= FF          .
EQUB &FF        :\ FDE8= FF          .
EQUB &FF        :\ FDE9= FF          .
EQUB &FF        :\ FDEA= FF          .
EQUB &FF        :\ FDEB= FF          .
EQUB &FF        :\ FDEC= FF          .
EQUB &FF        :\ FDED= FF          .
EQUB &FF        :\ FDEE= FF          .
EQUB &FF        :\ FDEF= FF          .
EQUB &FF        :\ FDF0= FF          .
EQUB &FF        :\ FDF1= FF          .
EQUB &FF        :\ FDF2= FF          .
EQUB &FF        :\ FDF3= FF          .
EQUB &FF        :\ FDF4= FF          .
EQUB &FF        :\ FDF5= FF          .
EQUB &FF        :\ FDF6= FF          .
EQUB &FF        :\ FDF7= FF          .
EQUB &FF        :\ FDF8= FF          .
EQUB &FF        :\ FDF9= FF          .
EQUB &FF        :\ FDFA= FF          .
EQUB &FF        :\ FDFB= FF          .
EQUB &FF        :\ FDFC= FF          .
EQUB &FF        :\ FDFD= FF          .
.LFDFE
EQUB &FF        :\ FDFE= FF          .
EQUB &FF        :\ FDFF= FF          .
.LFE00
LDA LFFFF,X     :\ FE00= BD FF FF    =..
.LFE03
EQUB &FF        :\ FE03= FF          .
.LFE04
BRK             :\ FE04= 00          .
.LFE05
EQUB &FF        :\ FE05= FF          .
.LFE06
EQUB &FF        :\ FE06= FF          .
.LFE07
EQUB &FF        :\ FE07= FF          .
.LFE08
EQUB &FF        :\ FE08= FF          .
EQUB &FF        :\ FE09= FF          .
EQUB &FF        :\ FE0A= FF          .
EQUB &FF        :\ FE0B= FF          .
EQUB &FF        :\ FE0C= FF          .
EQUB &FF        :\ FE0D= FF          .
EQUB &FF        :\ FE0E= FF          .
EQUB &FF        :\ FE0F= FF          .
LDA LFFFF       :\ FE10= AD FF FF    -..
EQUB &FF        :\ FE13= FF          .
BRK             :\ FE14= 00          .
EQUB &FF        :\ FE15= FF          .
EQUB &FF        :\ FE16= FF          .
EQUB &FF        :\ FE17= FF          .
EQUB &FF        :\ FE18= FF          .
EQUB &FF        :\ FE19= FF          .
EQUB &FF        :\ FE1A= FF          .
EQUB &FF        :\ FE1B= FF          .
EQUB &FF        :\ FE1C= FF          .
EQUB &FF        :\ FE1D= FF          .
EQUB &FF        :\ FE1E= FF          .
EQUB &FF        :\ FE1F= FF          .
LDA LFFFF       :\ FE20= AD FF FF    -..
EQUB &FF        :\ FE23= FF          .
BRK             :\ FE24= 00          .
EQUB &FF        :\ FE25= FF          .
EQUB &FF        :\ FE26= FF          .
EQUB &FF        :\ FE27= FF          .
EQUB &FF        :\ FE28= FF          .
EQUB &FF        :\ FE29= FF          .
EQUB &FF        :\ FE2A= FF          .
EQUB &FF        :\ FE2B= FF          .
EQUB &FF        :\ FE2C= FF          .
EQUB &FF        :\ FE2D= FF          .
EQUB &FF        :\ FE2E= FF          .
EQUB &FF        :\ FE2F= FF          .
LDA LFFFF       :\ FE30= AD FF FF    -..
EQUB &FF        :\ FE33= FF          .
BRK             :\ FE34= 00          .
EQUB &FF        :\ FE35= FF          .
EQUB &FF        :\ FE36= FF          .
EQUB &FF        :\ FE37= FF          .
EQUB &FF        :\ FE38= FF          .
EQUB &FF        :\ FE39= FF          .
EQUB &FF        :\ FE3A= FF          .
EQUB &FF        :\ FE3B= FF          .
EQUB &FF        :\ FE3C= FF          .
EQUB &FF        :\ FE3D= FF          .
EQUB &FF        :\ FE3E= FF          .
EQUB &FF        :\ FE3F= FF          .
LDA LFFFF       :\ FE40= AD FF FF    -..
EQUB &FF        :\ FE43= FF          .
BRK             :\ FE44= 00          .
EQUB &FF        :\ FE45= FF          .
EQUB &FF        :\ FE46= FF          .
EQUB &FF        :\ FE47= FF          .
EQUB &FF        :\ FE48= FF          .
EQUB &FF        :\ FE49= FF          .
EQUB &FF        :\ FE4A= FF          .
EQUB &FF        :\ FE4B= FF          .
EQUB &FF        :\ FE4C= FF          .
EQUB &FF        :\ FE4D= FF          .
EQUB &FF        :\ FE4E= FF          .
EQUB &FF        :\ FE4F= FF          .
LDA LFFFF       :\ FE50= AD FF FF    -..
EQUB &FF        :\ FE53= FF          .
BRK             :\ FE54= 00          .
EQUB &FF        :\ FE55= FF          .
EQUB &FF        :\ FE56= FF          .
EQUB &FF        :\ FE57= FF          .
EQUB &FF        :\ FE58= FF          .
EQUB &FF        :\ FE59= FF          .
EQUB &FF        :\ FE5A= FF          .
EQUB &FF        :\ FE5B= FF          .
EQUB &FF        :\ FE5C= FF          .
EQUB &FF        :\ FE5D= FF          .
EQUB &FF        :\ FE5E= FF          .
EQUB &FF        :\ FE5F= FF          .
LDA LFFFF       :\ FE60= AD FF FF    -..
EQUB &FF        :\ FE63= FF          .
BRK             :\ FE64= 00          .
EQUB &FF        :\ FE65= FF          .
EQUB &FF        :\ FE66= FF          .
EQUB &FF        :\ FE67= FF          .
EQUB &FF        :\ FE68= FF          .
EQUB &FF        :\ FE69= FF          .
EQUB &FF        :\ FE6A= FF          .
EQUB &FF        :\ FE6B= FF          .
EQUB &FF        :\ FE6C= FF          .
EQUB &FF        :\ FE6D= FF          .
EQUB &FF        :\ FE6E= FF          .
EQUB &FF        :\ FE6F= FF          .
LDA LFFFF       :\ FE70= AD FF FF    -..
EQUB &FF        :\ FE73= FF          .
BRK             :\ FE74= 00          .
EQUB &FF        :\ FE75= FF          .
EQUB &FF        :\ FE76= FF          .
EQUB &FF        :\ FE77= FF          .
EQUB &FF        :\ FE78= FF          .
EQUB &FF        :\ FE79= FF          .
EQUB &FF        :\ FE7A= FF          .
EQUB &FF        :\ FE7B= FF          .
EQUB &FF        :\ FE7C= FF          .
EQUB &FF        :\ FE7D= FF          .
EQUB &FF        :\ FE7E= FF          .
EQUB &FF        :\ FE7F= FF          .
LDA LFFFF       :\ FE80= AD FF FF    -..
EQUB &FF        :\ FE83= FF          .
BRK             :\ FE84= 00          .
EQUB &FF        :\ FE85= FF          .
EQUB &FF        :\ FE86= FF          .
EQUB &FF        :\ FE87= FF          .
EQUB &FF        :\ FE88= FF          .
EQUB &FF        :\ FE89= FF          .
EQUB &FF        :\ FE8A= FF          .
EQUB &FF        :\ FE8B= FF          .
EQUB &FF        :\ FE8C= FF          .
EQUB &FF        :\ FE8D= FF          .
EQUB &FF        :\ FE8E= FF          .
EQUB &FF        :\ FE8F= FF          .
LDA LFFFF       :\ FE90= AD FF FF    -..
EQUB &FF        :\ FE93= FF          .
BRK             :\ FE94= 00          .
EQUB &FF        :\ FE95= FF          .
EQUB &FF        :\ FE96= FF          .
EQUB &FF        :\ FE97= FF          .
EQUB &FF        :\ FE98= FF          .
EQUB &FF        :\ FE99= FF          .
EQUB &FF        :\ FE9A= FF          .
EQUB &FF        :\ FE9B= FF          .
EQUB &FF        :\ FE9C= FF          .
EQUB &FF        :\ FE9D= FF          .
EQUB &FF        :\ FE9E= FF          .
EQUB &FF        :\ FE9F= FF          .
LDA LFFFF       :\ FEA0= AD FF FF    -..
EQUB &FF        :\ FEA3= FF          .
BRK             :\ FEA4= 00          .
EQUB &FF        :\ FEA5= FF          .
EQUB &FF        :\ FEA6= FF          .
EQUB &FF        :\ FEA7= FF          .
EQUB &FF        :\ FEA8= FF          .
EQUB &FF        :\ FEA9= FF          .
EQUB &FF        :\ FEAA= FF          .
EQUB &FF        :\ FEAB= FF          .
EQUB &FF        :\ FEAC= FF          .
EQUB &FF        :\ FEAD= FF          .
EQUB &FF        :\ FEAE= FF          .
EQUB &FF        :\ FEAF= FF          .
LDA LFFFF       :\ FEB0= AD FF FF    -..
EQUB &FF        :\ FEB3= FF          .
BRK             :\ FEB4= 00          .
EQUB &FF        :\ FEB5= FF          .
EQUB &FF        :\ FEB6= FF          .
EQUB &FF        :\ FEB7= FF          .
EQUB &FF        :\ FEB8= FF          .
EQUB &FF        :\ FEB9= FF          .
EQUB &FF        :\ FEBA= FF          .
EQUB &FF        :\ FEBB= FF          .
EQUB &FF        :\ FEBC= FF          .
EQUB &FF        :\ FEBD= FF          .
EQUB &FF        :\ FEBE= FF          .
EQUB &FF        :\ FEBF= FF          .
LDA LFFFF       :\ FEC0= AD FF FF    -..
EQUB &FF        :\ FEC3= FF          .
BRK             :\ FEC4= 00          .
EQUB &FF        :\ FEC5= FF          .
EQUB &FF        :\ FEC6= FF          .
EQUB &FF        :\ FEC7= FF          .
EQUB &FF        :\ FEC8= FF          .
EQUB &FF        :\ FEC9= FF          .
EQUB &FF        :\ FECA= FF          .
EQUB &FF        :\ FECB= FF          .
EQUB &FF        :\ FECC= FF          .
EQUB &FF        :\ FECD= FF          .
EQUB &FF        :\ FECE= FF          .
EQUB &FF        :\ FECF= FF          .
LDA LFFFF       :\ FED0= AD FF FF    -..
EQUB &FF        :\ FED3= FF          .
BRK             :\ FED4= 00          .
EQUB &FF        :\ FED5= FF          .
EQUB &FF        :\ FED6= FF          .
EQUB &FF        :\ FED7= FF          .
EQUB &FF        :\ FED8= FF          .
EQUB &FF        :\ FED9= FF          .
EQUB &FF        :\ FEDA= FF          .
EQUB &FF        :\ FEDB= FF          .
EQUB &FF        :\ FEDC= FF          .
EQUB &FF        :\ FEDD= FF          .
EQUB &FF        :\ FEDE= FF          .
EQUB &FF        :\ FEDF= FF          .
LDA LFFFF       :\ FEE0= AD FF FF    -..
EQUB &FF        :\ FEE3= FF          .
BRK             :\ FEE4= 00          .
EQUB &FF        :\ FEE5= FF          .
EQUB &FF        :\ FEE6= FF          .
EQUB &FF        :\ FEE7= FF          .
EQUB &FF        :\ FEE8= FF          .
EQUB &FF        :\ FEE9= FF          .
EQUB &FF        :\ FEEA= FF          .
EQUB &FF        :\ FEEB= FF          .
EQUB &FF        :\ FEEC= FF          .
EQUB &FF        :\ FEED= FF          .
EQUB &FF        :\ FEEE= FF          .
EQUB &FF        :\ FEEF= FF          .
LDA LFFFF       :\ FEF0= AD FF FF    -..
EQUB &FF        :\ FEF3= FF          .
BRK             :\ FEF4= 00          .
EQUB &FF        :\ FEF5= FF          .
EQUB &FF        :\ FEF6= FF          .
EQUB &FF        :\ FEF7= FF          .
EQUB &FF        :\ FEF8= FF          .
EQUB &FF        :\ FEF9= FF          .
EQUB &FF        :\ FEFA= FF          .
EQUB &FF        :\ FEFB= FF          .
EQUB &FF        :\ FEFC= FF          .
EQUB &FF        :\ FEFD= FF          .
EQUB &FF        :\ FEFE= FF          .
EQUB &FF        :\ FEFF= FF          .

\ Extended vector jump table
\ ==========================
JSR LFF51       :\ FF00= 20 51 FF     Q.
JSR LFF51       :\ FF03= 20 51 FF     Q.
JSR LFF51       :\ FF06= 20 51 FF     Q.
JSR LFF51       :\ FF09= 20 51 FF     Q.
JSR LFF51       :\ FF0C= 20 51 FF     Q.
JSR LFF51       :\ FF0F= 20 51 FF     Q.
JSR LFF51       :\ FF12= 20 51 FF     Q.
JSR LFF51       :\ FF15= 20 51 FF     Q.
JSR LFF51       :\ FF18= 20 51 FF     Q.
JSR LFF51       :\ FF1B= 20 51 FF     Q.
JSR LFF51       :\ FF1E= 20 51 FF     Q.
JSR LFF51       :\ FF21= 20 51 FF     Q.
JSR LFF51       :\ FF24= 20 51 FF     Q.
JSR LFF51       :\ FF27= 20 51 FF     Q.
JSR LFF51       :\ FF2A= 20 51 FF     Q.
JSR LFF51       :\ FF2D= 20 51 FF     Q.
JSR LFF51       :\ FF30= 20 51 FF     Q.
JSR LFF51       :\ FF33= 20 51 FF     Q.
JSR LFF51       :\ FF36= 20 51 FF     Q.
JSR LFF51       :\ FF39= 20 51 FF     Q.
JSR LFF51       :\ FF3C= 20 51 FF     Q.
JSR LFF51       :\ FF3F= 20 51 FF     Q.
JSR LFF51       :\ FF42= 20 51 FF     Q.
JSR LFF51       :\ FF45= 20 51 FF     Q.
JSR LFF51       :\ FF48= 20 51 FF     Q.
JSR LFF51       :\ FF4B= 20 51 FF     Q.
JSR LFF51       :\ FF4E= 20 51 FF     Q.
.LFF51
PHA             :\ FF51= 48          H
PHA             :\ FF52= 48          H
PHA             :\ FF53= 48          H
PHA             :\ FF54= 48          H
PHA             :\ FF55= 48          H
PHP             :\ FF56= 08          .
PHA             :\ FF57= 48          H
TXA             :\ FF58= 8A          .
PHA             :\ FF59= 48          H
TYA             :\ FF5A= 98          .
PHA             :\ FF5B= 48          H
TSX             :\ FF5C= BA          :
LDA #&FF        :\ FF5D= A9 FF       ).
STA &0108,X     :\ FF5F= 9D 08 01    ...
LDA #&86        :\ FF62= A9 86       ).
STA &0107,X     :\ FF64= 9D 07 01    ...
LDY &010A,X     :\ FF67= BC 0A 01    <..
LDA &0D9D,Y     :\ FF6A= B9 9D 0D    9..
STA &0105,X     :\ FF6D= 9D 05 01    ...
LDA &0D9E,Y     :\ FF70= B9 9E 0D    9..
STA &0106,X     :\ FF73= 9D 06 01    ...
LDA &F4         :\ FF76= A5 F4       %t
STA &0109,X     :\ FF78= 9D 09 01    ...
LDA &0D9F,Y     :\ FF7B= B9 9F 0D    9..
JSR LE3A0       :\ FF7E= 20 A0 E3      c
PLA             :\ FF81= 68          h
TAY             :\ FF82= A8          (
PLA             :\ FF83= 68          h
TAX             :\ FF84= AA          *
PLA             :\ FF85= 68          h
RTI             :\ FF86= 40          @
 
PHP             :\ FF87= 08          .
PHA             :\ FF88= 48          H
TXA             :\ FF89= 8A          .
PHA             :\ FF8A= 48          H
TSX             :\ FF8B= BA          :
LDA &0102,X     :\ FF8C= BD 02 01    =..
STA &0105,X     :\ FF8F= 9D 05 01    ...
LDA &0103,X     :\ FF92= BD 03 01    =..
STA &0106,X     :\ FF95= 9D 06 01    ...
PLA             :\ FF98= 68          h
TAX             :\ FF99= AA          *
PLA             :\ FF9A= 68          h
PLA             :\ FF9B= 68          h
PLA             :\ FF9C= 68          h
JSR LE3A0       :\ FF9D= 20 A0 E3      c
PLA             :\ FFA0= 68          h
PLP             :\ FFA1= 28          (
.LFFA2
RTS             :\ FFA2= 60          `
 
TYA             :\ FFA3= 98          .
STA LFD00,X     :\ FFA4= 9D 00 FD    ..}
RTS             :\ FFA7= 60          `
 
LDY LFD00,X     :\ FFA8= BC 00 FD    <.}
RTS             :\ FFAB= 60          `
 
ASL LFE05       :\ FFAC= 0E 05 FE    ..~
BIT LFC2C       :\ FFAF= 2C 2C FC    ,,|
RTI             :\ FFB2= 40          @
 
.LFFB3
TXA:BCS OSBPUT
.LFFB6  :EQUB &36           :\ Size of default vector table
.LFFB7  :EQUW LD845         :\ Address of default vector and system table
.OSRDRM:JMP LDAF2           :\ FFB9
        JMP LD6D8           :\ FFBC
        JMP LE202           :\ FFBF
        JMP LE7FD           :\ FFC2
        JMP LE80E           :\ FFC5
        JMP LDC50           :\ FFC8
        JMP LDE2D           :\ FFCB
.OSFIND:JMP (&021C)         :\ FFCE
.OSGBPB:JMP (&021A)         :\ FFD1
.OSBPUT:JMP (&0218)         :\ FFD4
.OSBGET:JMP (&0216)         :\ FFD7
.OSARGS:JMP (&0214)         :\ FFDA
.OSFILE:JMP (&0212)         :\ FFDD
.OSRDCH:JMP (&0210)         :\ FFE0
.OSASCI:CMP #&0D:BNE OSWRCH :\ FFE3
.OSNEWL:LDA #&0A:JSR OSWRCH :\ FFE7
.OSWRCR:LDA #&0D            :\ FFEC
.OSWRCH:JMP (&020E)         :\ FFEE
.OSWORD:JMP (&020C)         :\ FFF1
.OSBYTE:JMP (&020A)         :\ FFF4
.OS_CLI:JMP (&0208)         :\ FFF7
.NMIV  :EQUW &0D00          :\ FFFA
.RSTV  :EQUW LD8D2          :\ FFFC
.IRQV  :EQUW LDAE7          :\ FFFE
]NEXT
